!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t="object"==typeof exports?e(require("react")):e(r.react);for(var n in t)("object"==typeof exports?exports:r)[n]=t[n]}}(window,(function(r){return function(r){var e={};function t(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return r[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var a in r)t.d(n,a,function(e){return r[e]}.bind(null,a));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=36)}([function(e,t){e.exports=r},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataParserError=void 0,e.DataParserError=function(){function r(e,t){Error.apply(this,arguments),this.name="DataParserError",this.message=e||"DataParserError",this.data=t,"function"==typeof Error.captureStackTrace?this.stack=Error.captureStackTrace(this,r):this.stack=(new Error).stack}return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}(),e.DataParserError.ERRORS={DATA_LINK_TYPE:"The dataLink must be an instance of the DataLink!",ITERATOR_ERROR:"Iterator value is incorrect",UNREACHABLE_PATH:"Unreachable path",FUNCTION_NAMING:"Function naming error",FUNCTION_ARGUMENTS:"Function arguments error",FUNCTION_UNKNOWN:"Unknown function error",OBJECT_KEY:"Object key error",OBJECT_KEY_STRING:"Object key is not a string error",OBJECT_VALUE:"Object value error",ARRAY_VALUE:"Array value error",VALUE:"Object / Array value error",NESTING:"Nesting error",LINK:"Link parsing error",DEFAULT:"Default parse error",INDEX_PART:"Index should be a part of the link",INDEX_LAST:"Index should be the last part of the link",INDEX_NAME:"Index name contains disallowed symbols",INDEX_EMPTY:"Index name must be a non empty string",INDEX_NOT_ARRAY_DATA:"Only array may be indexed"}},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataParserError=e.getDataLink=e.runAsyncGenerator=void 0;var a=n(t(32));e.runAsyncGenerator=a.default;var o=n(t(9));e.getDataLink=o.default;var i=t(1);Object.defineProperty(e,"DataParserError",{enumerable:!0,get:function(){return i.DataParserError}})},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__exportStar||function(r,e){for(var t in r)"default"===t||e.hasOwnProperty(t)||n(e,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),t(37),a(t(23),e),a(t(13),e),a(t(38),e)},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(r){var e=r.charCodeAt(0);return e>=97&&e<=122||e>=48&&e<=57||e>=65&&e<=90||95===e}},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=e.isFunctionRef=e.isFunctionCall=e.isObject=e.isRootLink=e.isLink=e.isDataLink=void 0;var a=t(40);Object.defineProperty(e,"isDataLink",{enumerable:!0,get:function(){return a.isDataLink}}),Object.defineProperty(e,"isLink",{enumerable:!0,get:function(){return a.isLink}}),Object.defineProperty(e,"isRootLink",{enumerable:!0,get:function(){return a.isRootLink}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return a.isFunction}}),Object.defineProperty(e,"isFunctionCall",{enumerable:!0,get:function(){return a.isFunctionCall}}),Object.defineProperty(e,"isFunctionRef",{enumerable:!0,get:function(){return a.isFunctionRef}});var o=n(t(15));e.isObject=o.default},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.escapedPlainParser=e.objectParser=e.linkParser=e.functionParser=e.expressionParser=e.arrayParser=void 0;var a=n(t(42));e.arrayParser=a.default;var o=n(t(44));e.expressionParser=o.default;var i=n(t(45));e.functionParser=i.default;var u=n(t(47));e.linkParser=u.default;var s=n(t(48));e.objectParser=s.default;var c=n(t(49));e.escapedPlainParser=c.default;var l=t(1),f=n(t(25));e.default=function(r){var e=r.dataLink;if(!(e instanceof f.default))throw new l.DataParserError(l.DataParserError.ERRORS.DATA_LINK_TYPE);switch(e.getCurrentValue()[1]){case"@":return u.default(r);case"$":return i.default(r);case"{":return s.default(r);case"[":return a.default(r);case"`":return c.default(r);case"(":return o.default(r);default:throw new l.DataParserError(l.DataParserError.ERRORS.DEFAULT)}}},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataLink=e.dataLinkParser=void 0;var a=n(t(25));e.DataLink=a.default;var o=n(t(41));e.dataLinkParser=o.default,e.default=o.default},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.escapedPlainParser=e.objectParser=e.linkParser=e.functionParser=e.expressionParser=e.arrayParser=void 0;var i=o(t(53));e.arrayParser=i.default;var u=o(t(55));e.expressionParser=u.default;var s=o(t(56));e.functionParser=s.default;var c=o(t(57));e.linkParser=c.default;var l=o(t(58));e.objectParser=l.default;var f=o(t(59));e.escapedPlainParser=f.default;var d=t(2),p=t(10);e.default=function(r){var e,t;return n(this,(function(n){switch(n.label){case 0:if(!((e=r.dataLink)instanceof p.DataLink))throw new d.DataParserError(d.DataParserError.ERRORS.DATA_LINK_TYPE);switch(t=e.getCurrentValue()[1],t){case"@":return[3,1];case"$":return[3,3];case"{":return[3,5];case"[":return[3,7];case"(":return[3,9];case"`":return[3,11]}return[3,12];case 1:return[5,a(c.default(r))];case 2:return[2,n.sent()];case 3:return[5,a(s.default(r))];case 4:return[2,n.sent()];case 5:return[5,a(l.default(r))];case 6:return[2,n.sent()];case 7:return[5,a(i.default(r))];case 8:return[2,n.sent()];case 9:return[5,a(u.default(r))];case 10:return[2,n.sent()];case 11:return[2,f.default(r)];case 12:throw new d.DataParserError(d.DataParserError.ERRORS.DEFAULT)}}))}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(7),a=new Map;e.default=function(r){if("string"!=typeof r||!r)throw new Error("getDataLink: Data link should be a non empty string!");return a.has(r)?a.get(r).reset():a.set(r,new n.DataLink(r)),a.get(r)}},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataLink=e.dataLinkParser=void 0;var a=n(t(52));e.dataLinkParser=a.default;var o=n(t(60));e.DataLink=o.default,e.default=a.default},function(r,e,t){"use strict";var n=Object.prototype.hasOwnProperty;function a(r,e){return r===e?0!==r||0!==e||1/r==1/e:r!=r&&e!=e}r.exports=function(r,e){if(a(r,e))return!0;if("object"!=typeof r||null===r||"object"!=typeof e||null===e)return!1;var t=Object.keys(r),o=Object.keys(e);if(t.length!==o.length)return!1;for(var i=0;i<t.length;i++)if(!n.call(e,t[i])||!a(r[t[i]],e[t[i]]))return!1;return!0}},function(r,e,t){"use strict";(function(r,n){var a,o=t(35);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:n;var i=Object(o.a)(a);e.a=i}).call(this,t(65),t(66)(r))},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepCopyConstructor=e.deepCopy=void 0;var a=!1,o=function(r){return"[object Object]"===Object.prototype.toString.call(r)},i=function(r){var e,t,a,i,s,c;if(o(r)){var l=Object.getOwnPropertyDescriptors(r);try{for(var f=n(Object.getOwnPropertyNames(l)),d=f.next();!d.done;d=f.next()){var p=d.value;Object.prototype.hasOwnProperty.call(l,p)&&(l[p].value=u(l[p].value))}}catch(r){e={error:r}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}try{for(var h=n(Object.getOwnPropertySymbols(l)),y=h.next();!y.done;y=h.next()){p=y.value;Object.prototype.hasOwnProperty.call(l,p)&&(l[p].value=u(l[p].value))}}catch(r){a={error:r}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return Object.create(Object.getPrototypeOf(r),l)}if(Array.isArray(r)){var v=[];try{for(var b=n(r),m=b.next();!m.done;m=b.next()){p=m.value;v.push(u(p))}}catch(r){s={error:r}}finally{try{m&&!m.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}return v}return console.warn("[warning] deepCopy: an array or an object must be passed for processing."),r};e.deepCopy=i;var u=function(r){return o(r)||Array.isArray(r)?i(r):r};e.getDeepCopyConstructor=function(r){if(!o(r))throw new Error("DeepCopy: the source should be an object!");var e=s(r);return a&&e.push(o.toString(),u.toString(),i.toString()),new Function("source",e.join(""))};var s=function(r,e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=[]),void 0===n&&(n=0),!e&&!o(r))throw new Error("DeepCopy: The root should be an object!");if(e||(t.push("if","(","!new.target",")","throw new Error(\"DeepCopy must be invoked with the 'new' operator!\")",";"),a=!1),Array.isArray(r)){if(!r.length)return a=!0,t.push("this",".",e,"=","deepCopy","(","source",".",e,")",";"),t;n++,t.push("this",".",e,"=","[","]",";"),t.push("for","(","let ","i",String(n),"=","0",";","i",String(n),"<","source",".",e,".","length",";","i",String(n),"++",")","{"),s(r[0],e+"[i"+n+"]",t,n),t.push("}")}else if(o(r)){for(var i in e&&t.push("this",".",e,"=","{","}",";"),r)if(Object.prototype.hasOwnProperty.call(r,i))if(o(r[i])||Array.isArray(r[i])){var u=e?e+"."+i:i;s(r[i],u,t,n)}else t.push("this"),e&&t.push(".",e),t.push(".",i,"=","source"),e&&t.push(".",e),t.push(".",i,";")}else t.push("this",".",e,"=","source",".",e,";");return t}},function(r,e,t){"use strict";var n,a=this&&this.__extends||(n=function(r,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)},function(r,e){function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=this&&this.__assign||function(){return(o=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),u=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&i(e,r,t);return u(e,r),e},c=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.TopSection=e.SectionsContext=void 0;var l=c(t(0)),f=c(t(24)),d=t(51),p=t(3),h=c(t(64)),y=s(t(18)),v=s(t(28)),b=s(t(27)),m=l.default.createContext({updateState:function(){},context:{},fieldComponents:{},sectionComponents:{},styles:{},computations:{},history:{},location:{},match:{}});e.SectionsContext=m;var E=function(r){function e(e){var t=r.call(this,e)||this;return t.state={context:null,parsedSchema:null,data:null,schema:null},t}return a(e,r),e.getDerivedStateFromProps=function(r,e){var t=r.data,n=r.schema,a=e.data,o=e.schema;if(t===a&&n===o)return null;if(n&&p.strictlyIsObject(n)&&t&&p.strictlyIsObject(t)){var i=f.default({dataLink:n,data:t,renderFunctions:y});return{context:i.context,parsedSchema:i.schema,data:t,schema:n}}return null},e.prototype.updateContext=function(r){this.setState({context:r})},e.prototype.render=function(){var r=this.props,e=r.computations,t=r.sectionComponents,n=r.fieldComponents,a=r.data,i=r.schema,u=r.styles,s=r.history,c=r.location,f=r.match,E=o(o(o(o({},e),y),b),v),_=this.state,w=_.context,g=_.parsedSchema;if(!(a&&p.strictlyIsObject(a)&&i&&p.strictlyIsObject(i)))return null;var O={computations:E,sectionComponents:t,fieldComponents:n,updateState:d.getHandler({schema:g,computations:E,updateState:this.updateContext.bind(this)}),context:w,styles:u,history:s,location:c,match:f};return l.default.createElement(m.Provider,{value:O},l.default.createElement(h.default,{parsedSchema:g,level:0}))},e}(l.default.Component);e.TopSection=E},function(r,e,t){"use strict";function n(r){return"[object Object]"===Object.prototype.toString.call(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=void 0,e.isObject=n,e.default=n},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.spaceSkipping=e.valueParser=void 0;var a=n(t(43));e.valueParser=a.default;var o=n(t(17));e.spaceSkipping=o.default},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});e.default=function(r){var e,t,a=r.dataLink,o=0;try{for(var i=n(a),u=i.next();!u.done;u=i.next()){var s=u.value;if(o++," "!==s[2])break}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return" ".repeat(o)}},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&n(e,r,t);return a(e,r),e};Object.defineProperty(e,"__esModule",{value:!0}),e.toLowercase=e.toUppercase=e.underScoreToCamelCase=e.toUpperCase=e.firstLetterUpperCase=e.isInRange=e.toString=e.toBoolean=e.toMoneyFormat=e.toNumber=e.andValue=e.orValue=e.ifCondition=e.not=e.or=e.and=e.isEqual=void 0,e.asyncComputations=o(t(27)),e.experimentalComputations=o(t(28)),e.isEqual=function(r,e){return r===e},e.and=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(!r[t])return!1;return!0},e.or=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(r[t])return!0;return!1},e.not=function(r){return!r},e.ifCondition=function(r,e,t){return r?e:t},e.orValue=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length-1;t++)if(r[t])return r[t];return r[r.length-1]},e.andValue=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length-1;t++)if(!r[t])return r[t];return r[r.length-1]},e.toNumber=function(r){return r=Number(r),Number.isNaN(r)&&(r=0,console.error("[error] toNumber: value must be a number.")),r},e.toMoneyFormat=function(r){return e.toNumber(r).toFixed(2)},e.toBoolean=function(r){return Boolean(r)},e.toString=function(r){return String(r)},e.isInRange=function(r,e){var t=r.range,n=t.min,a=t.max;return e>=n&&e<=a},e.firstLetterUpperCase=function(r){return"string"!=typeof r?(console.error("firstLetterUpperCase: word must be a string."),r):r.substring(0,1).toUpperCase()+r.substring(1).toLowerCase()},e.toUpperCase=function(r){return"string"!=typeof r?(console.error("firstLetterUpperCase: word must be a string."),r):r.toUpperCase()},e.underScoreToCamelCase=function(r){return"string"!=typeof r?(console.error("[error] underScoreOtCamelCase: word must be a string."),r):r.split("_").filter(Boolean).map((function(r){return e.firstLetterUpperCase(r)})).join("")},e.toUppercase=function(r){return"string"!=typeof r?(console.error("[error] toUppercase: word must be a string."),r):r.toUpperCase()},e.toLowercase=function(r){return"string"!=typeof r?(console.error("[error] toUppercase: word must be a string."),r):r.toLowerCase()}},function(r,e,t){"use strict";var n,a=this&&this.__extends||(n=function(r,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)},function(r,e){function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(r){function e(){var e=this,t="Promise chain is broken!";return(e=r.call(this,t)||this).message=t,e}return a(e,r),e}(Error);e.default=o},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.spaceSkipping=e.valueParser=void 0;var a=n(t(54));e.valueParser=a.default;var o=n(t(21));e.spaceSkipping=o.default},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});e.default=function(r){var e,t,a=r.dataLink,o=0;try{for(var i=n(a),u=i.next();!u.done;u=i.next()){var s=u.value;if(o++," "!==s[2])break}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return" ".repeat(o)}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var r=[],e=r;function t(){e===r&&(e=r.slice())}return{listen:function(r){if("function"!=typeof r)throw new Error("Expected listener to be a function.");var n=!0;return t(),e.push(r),function(){if(n){n=!1,t();var a=e.indexOf(r);e.splice(a,1)}}},emit:function(){for(var t=r=e,n=0;n<t.length;n++)t[n].apply(t,arguments)}}}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var o=t(13),i=function(r){return"[object Object]"===Object.prototype.toString.call(r)},u=function(r){return i(r)||Array.isArray(r)},s=function(r){return u(r)?o.deepCopy(r):r},c=function(r,e,t){var o,i;try{for(var c=a(t),f=c.next();!f.done;f=c.next()){var d=f.value;if(Object.prototype.hasOwnProperty.call(e,d))if(r[d]){var p=void 0;p=u(r[d].value)||u(e[d].value)?l(r[d].value,e[d].value):e[d].value,r[d]=n(n({},e[d]),{value:p})}else r[d]=n(n({},e[d]),{value:s(e[d].value)})}}catch(r){o={error:r}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return r},l=function(r,e){var t,n,o,u;if(i(r)&&i(e)){var l=Object.getOwnPropertyDescriptors(e),f=Object.getOwnPropertyDescriptors(r);return c(f,l,Object.getOwnPropertyNames(l)),c(f,l,Object.getOwnPropertySymbols(l)),Object.create({},f)}if(Array.isArray(r)&&Array.isArray(e)){var d=[];try{for(var p=a(r),h=p.next();!h.done;h=p.next()){var y=h.value;d.push(s(y))}}catch(r){t={error:r}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}try{for(var v=a(e),b=v.next();!b.done;b=v.next()){y=b.value;d.push(s(y))}}catch(r){o={error:r}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return d}throw new Error("[error] deepMerge: destination object and source object must be arrays or objects and the same type.\nA "+Object.prototype.toString.call(r)+" of the destination object and a "+Object.prototype.toString.call(e)+" of the source object are given.")};e.default=l},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),o=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),i=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&a(e,r,t);return o(e,r),e},u=this&&this.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]])}return t},s=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSchemaFields=e.simpleDataParser=e.dataParser=e.templateDeleteInfo=e.templateAddInfo=void 0;var l=t(3),f=t(5),d=c(t(9)),p=i(t(18)),h=t(6),y=c(t(50)),v=c(t(23)),b=t(29);Object.defineProperty(e,"simpleDataParser",{enumerable:!0,get:function(){return b.simpleDataParser}}),Object.defineProperty(e,"parseSchemaFields",{enumerable:!0,get:function(){return b.parseSchemaFields}});var m=Symbol.for("_objectId_"),E=new y.default,_=[],w=function(r){r.renderFunctions=r.renderFunctions||w.renderFunctions||{};var e=r.data;e||(e={});var t=r.rootData,a=r.dataPath,o=r.schemaPath;if(t||(t=e),a){if("string"!=typeof a||!/^@\//.test(a))throw new Error("DataParserV4: dataPath must be a string and starts with '@/' symbols.")}else a="@/";if(o){if(!Array.isArray(o))throw new Error("DataParserV4: schemaPath must be a string and starts with '#/' symbols.")}else o=[];var i={};return{schema:g(n(n({},r),{rootData:t,dataPath:a,schemaPath:o,context:i})),context:i}};e.dataParser=w,w.renderFunctions=p;var g=function(r){var e=r.dataLink,t=r.data;return void 0===e?t:l.strictlyIsObject(e)?e._template_?j(r):P(r):Array.isArray(e)?O(r):"string"==typeof e&&e&&f.isDataLink(e)?x(r):e},O=function(r,e){void 0===e&&(e=null);var t=r.dataLink;if(!Array.isArray(t))throw new Error("DataParserV4: dataLink should be an array");for(var a=new Array(t.length),o=0;o<t.length;o++)switch(l.strictlyIsObject(t[o])&&(t[o]=Object.create({},n(n({},Object.getOwnPropertyDescriptors(t[o])),{_objectId_:{value:E.get(),writable:!1,enumerable:!1},_index_:{value:o,writable:!1,enumerable:!1}}))),e){case"fieldsMode":if(!l.strictlyIsObject(t[o]))throw new Error("DataLinkParserV4: array item must be an object (fields mode).");a[o]=R(n(n({},r),{dataLink:t[o]}));break;case"sectionsMode":if(!l.strictlyIsObject(t[o]))throw new Error("DataLinkParserV4: array item must be an object (sections mode).");a[o]=P(n(n({},r),{dataLink:t[o]}));break;default:a[o]=g(n(n({},r),{dataLink:t[o]}))}return a},P=function(r){var e,t,a,o=r.dataLink,i=r.dataPath,c=r.rootData,f=r.data,d=o._sections_,p=o._fields_,h=o._dataLink_,y=o._defaultData_,b=o._objectId_,m=u(o,["_sections_","_fields_","_dataLink_","_defaultData_","_objectId_"]);if(y){var _=l.isEmpty(f)?y:v.default(y,f);f===c&&(c=_),f=_}h&&(f=(e=A(n(n({},r),{data:f,rootData:c,dataLink:h}))).data,i=e.dataPath);var w=Object.create({},n(n({},Object.getOwnPropertyDescriptors(m)),{_objectId_:{value:b||E.get(),writable:!1,enumerable:!1}}));if(d)if(l.strictlyIsObject(d))w._sections_=j(n(n({},r),{dataLink:d,data:f,rootData:c,dataPath:i}),"sectionsMode");else{if(!Array.isArray(d))throw new Error("DataParserV4: _sections_ must be an array or an object.");w._sections_=O(n(n({},r),{dataLink:d,data:f,rootData:c,dataPath:i}),"sectionsMode")}if(p)if(l.strictlyIsObject(p))w._fields_=j(n(n({},r),{dataLink:p,data:f,rootData:c,dataPath:i}),"fieldsMode");else{if(!Array.isArray(p))throw new Error("DataParserV4: _fields_ must be an array or an object.");w._fields_=O(n(n({},r),{dataLink:p,data:f,rootData:c,dataPath:i}),"fieldsMode")}try{for(var P=s(Object.getOwnPropertyNames(m)),R=P.next();!R.done;R=P.next()){var S=R.value;w[S]=g(n(n({},r),{dataLink:m[S],data:f,rootData:c,dataPath:i}))}}catch(r){t={error:r}}finally{try{R&&!R.done&&(a=P.return)&&a.call(P)}finally{if(t)throw t.error}}return w},R=function(r){var e,t,a=r.dataLink,o=r.context,i=a,c=i._value_,d=i._objectId_,p=i._computations_,h=i._sections_,y=i._fields_,v=u(i,["_value_","_objectId_","_computations_","_sections_","_fields_"]);if(h||y)throw new Error("DataParserV4: field must be the end point object of a schema.");var b=Object.create({},n(n({},Object.getOwnPropertyDescriptors(v)),{_objectId_:{value:d||E.get(),writable:!1,enumerable:!1}}));try{for(var m=s(Object.getOwnPropertyNames(v)),_=m.next();!_.done;_=m.next()){var w=_.value;b[w]=g(n(n({},r),{dataLink:a[w]}))}}catch(r){e={error:r}}finally{try{_&&!_.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}if(c){if("string"!=typeof c)throw new Error("DataParserV4: _value_ must be a syntax string or a simple string.");if(f.isDataLink(c)){if(!f.isLink(c)&&!f.isFunctionCall(c))throw new Error("DataParserV4: _value_ of field must be a simple link or a function call.");b._value_=x(n(n({},r),{dataLink:c}))}else b._value_=c}if(o[Symbol.for(b._objectId_)]={},l.strictlyIsObject(p)){if(l.isFunction(c))throw new Error("DataParserV4: Render function in _value_ is allowed only in passive field.");b._computations_=S(n(n({},r),{dataLink:p}))}return b},S=function(r){var e,t,a=r.dataLink,o=a._handlers_,i=void 0===o?{}:o,u=a._after_,c=void 0===u?[]:u,l=Object.getOwnPropertyNames(i);if(!l.length)return{};var d={_handlers_:{},_after_:[]};try{for(var p=s(l),h=p.next();!h.done;h=p.next()){var y=h.value;if(Array.isArray(i[y])&&i[y].length)d._handlers_[y]=D(n(n({},r),{dataLink:i[y]}));else{if("string"!=typeof i[y]||!f.isFunctionCall(i[y]))throw new Error("DataParserV4: List of computations must be a non empty array, an object or a renderFunction string.");d._handlers_[y]=x(n(n({},r),{dataLink:i[y]}))}}}catch(r){e={error:r}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}if(Array.isArray(c)&&c.length)d._after_=D(n(n({},r),{dataLink:c}));else if("string"==typeof c&&f.isFunctionCall(c))d._after_=[x(n(n({},r),{dataLink:c}))];else if(!Array.isArray(c))throw new Error("DataParserV4: Computation must be a renderFunction string (_after_).");return d},D=function(r){var e,t,a=r.dataLink,o=[];try{for(var i=s(a),u=i.next();!u.done;u=i.next()){var c=u.value;if(l.strictlyIsObject(c))o.push(P(n(n({},r),{dataLink:c})));else{if("string"!=typeof c)throw new Error("DataParserV4: action must be a dataLink string or a value object.");o.push(x(n(n({},r),{dataLink:c})))}}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o},j=function(r,e){void 0===e&&(e=null);var t=r.dataLink,a=r.rootData,o=r.context,i=r.meta,u=r.tokens,s=void 0===u?{}:u,c=t._template_,d=t._dataLink_;if(!c)throw new Error("DataParserV4: schema template should be provided.");if(("sectionsMode"===e||"fieldsMode"===e)&&!l.strictlyIsObject(c))throw new Error("DataParserV4: template must be an object ("+e+").");if(!d||"string"!=typeof d||!f.isLink(d))throw new Error("DataParserV4: template must be provided with a _dataLink_ field and it should be a link.");if(d.endsWith(">")){var p=d.split("/").pop(),h=p.substring(1,p.length-1);_.push(h)}var y=A(n(n({},r),{dataLink:d}),!0),v=y.data,b=y.dataPath;if(!Array.isArray(v))throw new Error("DataParserV4: data for a template must be an array.");Object.prototype.hasOwnProperty.call(o,Symbol.for(b))||(o[Symbol.for(b)]={dataPath:b,schemaTemplate:c});for(var w=[],O=0;O<v.length;O++){var S=v[O];if(!l.strictlyIsObject(S)&&!Array.isArray(S))throw new Error("DataParserV4: each template data item must be an object or an array.");var D=E.get();S[m]=D;var j=void 0;switch(j=l.strictlyIsObject(c)?Object.create({},n(n({},Object.getOwnPropertyDescriptors(c)),{_objectId_:{value:D,writable:!1,enumerable:!1},_index_:{value:O,writable:!1,enumerable:!1}})):c,r=n(n({},r),{dataLink:j,data:S,rootData:a,dataPath:C({dataPath:b,middle:D,link:"@"}),meta:n(n({},i),{templateDataLink:b,currentTemplateId:D}),tokens:n(n({},s),S)}),e){case"fieldsMode":w.push(R(r));break;case"sectionsMode":w.push(P(r));break;default:w.push(g(r))}}return w},x=function(r){var e,t,n=r.data,a=r.rootData,o=r.dataPath,i=r.context,u=r.tokens,c=r.renderFunctions,l=r.dataLink;if(!f.isDataLink(l))throw new Error("DataParserV4: dataLink must be a syntax string.");var p=d.default(l),y=p.containsLinks()?p.extractLinks():[];if(y.length)try{for(var v=s(y),b=v.next();!b.done;b=v.next()){var m=b.value,E=d.default(m),_=h.linkParser({dataLink:E,data:n,rootData:a,tokens:u,renderFunctions:c});if(/[/@]:[a-zA-Z0-9_]+\//.test(m)){var w=k(m,u,m.startsWith("@/")?a:n,o);l=l.replace(m,w),m=w}var g=f.isRootLink(m)?m:C({dataPath:o,link:m});void 0!==_&&(i[g]=_);var O=g.replace(/(?<!\\)([@/])/g,"\\$1");l=l.replace(m,"@"+O)}}catch(r){e={error:r}}finally{try{b&&!b.done&&(t=v.return)&&t.call(v)}finally{if(e)throw e.error}}return l},k=function(r,e,t,n){var a=r.substring(1).split("/").filter(Boolean),o=N(a,e,t).join("/");return r.startsWith("@/")?"@/"+o:C({dataPath:n,link:"@"+o})},N=function(r,e,t){var n=[];return r.reduce((function(r,t){if(t.startsWith(":")){var n=t.substring(1);if(t=e[n],r.data=r.data[t],_.includes(n)){if(!Object.prototype.hasOwnProperty.call(r.data,m))throw new Error("DataParserV4: object must contain _objectId_ param.");r.newParts.push(r.data[m])}else r.newParts.push(t);return r}return r.data=r.data[t],r.newParts.push(t),r}),{newParts:n,data:t}),n},C=function(r){var e=r.dataPath,t=r.link,n=void 0===t?"":t,a=r.middle;return f.isRootLink(n)?n:(e||(e="@/"),(e+"/"+(a?a+"/":"")+n.substring(1)).replace(/\/{2,}/,"/"))},A=function(r,e){void 0===e&&(e=!1);var t=r.dataLink,n=r.rootData,a=r.context,o=r.renderFunctions,i=r.tokens,u=r.data,s=r.dataPath;if("string"!=typeof t||!f.isLink(t))throw new Error("DataParserV4: _dataLink_ must be a simple Link.");var c=/<[a-zA-Z0-9_]+>$/.test(t)?t.replace(/\/<.+>$/,""):t;return s=C({dataPath:s,link:c}),u=h.linkParser({dataLink:d.default(t),data:u,rootData:n,renderFunctions:o,tokens:i}),e&&!Object.prototype.hasOwnProperty.call(a,s)&&(a[c]=u),{dataPath:s,data:u}};e.templateAddInfo=function(r){var e=r.dataPath,t=void 0===e?"@/":e,n=r.template;if(!t||"string"!=typeof t||!f.isLink(t))throw new Error("DataParserV4: dataPath must be a string.");if(!l.strictlyIsObject(n))throw new Error("DataParserV4: template must be an object.");return w({dataLink:n,dataPath:t,data:{}})},e.templateDeleteInfo=function(r,e){return r&&"string"==typeof r&&f.isLink(r)?Object.keys(e).filter((function(e){return e.startsWith(r)})):[]},e.default=w},function(r,e,t){"use strict";var n=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},a=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(n(arguments[e]));return r};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function r(e){if("string"!=typeof e||!e.trim())throw new Error("DataLink: The dataLink must be a not empty string!");this.string=e.trim(),this.processingString=a([r.START],this.string,[r.END]),this.reset()}return r.prototype.size=function(){return this.string.length},r.prototype.containsLinks=function(){return/(?!<\\)@/.test(this.string)},r.prototype.extractLinks=function(){return this.string.match(/(?!<\\)(@[a-zA-Z0-9<>_\\:/.-]*)/g)},r.prototype.getCursorPositionInfo=function(){var r=this.string,e=this.getCurrentValue()[1],t=this.isEnd(),n=this.getCurrentIndex();return r.slice(0,n)+"*>"+e+"<*"+(t?"":r.slice(n+1,r.length))},r.prototype.getNextValue=function(){return this.pause?(this.pause=!1,this.currentValue):this.current>this.string.length?void 0:(this.current++,this.currentValue[0]=this.currentValue[1],this.currentValue[1]=this.currentValue[2],this.currentValue[2]=this.processingString[this.current+1],this.currentValue)},r.prototype.reset=function(){this.current=1,this.currentValue=[this.processingString[0],this.processingString[1],this.processingString[2]],this.iteratorValue={value:this.currentValue,done:!1}},r.prototype.getCurrentIndex=function(){return this.current?this.current-1:0},r.prototype.getCurrentValue=function(){return this.currentValue},r.prototype.isStart=function(){return this.currentValue[0]===r.START},r.prototype.isEnd=function(){return this.currentValue[2]===r.END},r.prototype.valueOf=function(){return this.string},r.prototype.toString=function(){return this.string},r.prototype.next=function(){return this.current>this.string.length?{value:void 0,done:!0}:(this.iteratorValue.value=this.getNextValue(),this.iteratorValue)},r.prototype[Symbol.iterator]=function(){return this.pause=!0,this},r.START="",r.END="",r}();e.default=o},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={null:null,false:!1,true:!0};e.default=function(r){return"string"==typeof r&&n.hasOwnProperty(r)?n[r]:r}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.delay=e.debounce=e.applyFilters=e.runAction=e.updateContext=e.setValue=e.overrideInputValue=e.breakAction=e.log=void 0;var i=o(t(19));e.log=function(r,e){return void 0===r&&(r=null),void 0===e&&(e=null),function(t,n){if(r&&"string"!=typeof r)throw new Error("[error] log computation: marker must be a string.");return console.warn("[debug] "+(r||"log computation")+":",{input:t,env:n,additional:e}),t}},e.breakAction=function(){return function(){throw new i.default}},e.overrideInputValue=function(r,e){return function(){return{dataLink:r="@"+r,value:e}}},e.setValue=function(){return function(r,e){var t=e.context,n=(e.currentSchemaObject,r.dataLink),a=r.value;return t[n]=a,r}},e.updateContext=function(){return function(r,e){return(0,e.updateState)(e.context),r}},e.runAction=function(){return function(r,e){var t=r.value;if(Array.isArray(t)){if(!t.length)throw new Error("[error] runAction: array of function can not be empty.");return t.reduce((function(r,t){return"function"!=typeof t?r.then((function(){throw new Error("[error] runAction: array mus contain a list of functions. The type '"+typeof t+" is given.'")})):r.then((function(r){return t(r,e)}))}),Promise.resolve({}))}if("function"!=typeof t)throw new Error("[error] runAction: input.value must be a function.");return t({},e)}},e.applyFilters=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){var t,o;if(!r.length)return e;var i=e.value;try{for(var u=a(r),s=u.next();!s.done;s=u.next()){var c=s.value;if("function"!=typeof c)throw Error("[error] applyFilters: filter must be a function.");i=c(i)}}catch(r){t={error:r}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}return n(n({},e),{value:i})}};var u=new Map;e.debounce=function(r,e){if("function"!=typeof r)throw new Error("[error] debounce: The computation must be a function.");if(e=Number(e),Number.isNaN(e))throw new Error("[error] debounce: The time must be a number.");return function(t,n){return new Promise((function(a,o){var s=n.currentSchemaObject._objectId_;if(!Number.isInteger(s))throw new Error("[error] debounce: The key must be a number.");var c=function(r){a(r),u.delete(s)},l=function(r){o(r),u.delete(s)};if(u.has(s)){var f=u.get(s),d=f.reject,p=f.timeoutId;d(new i.default),clearTimeout(p),u.delete(s)}var h=setTimeout((function(){try{var e=r(t,n);e instanceof Promise?e.then(c,l):c(e)}catch(r){l(r)}}),e);u.set(s,{reject:o,timeoutId:h})}))}},e.delay=function(r){if(void 0===r&&(r=0),r=Number(r),Number.isNaN(r))throw new Error("[error] Delay: delay value must be a number.");return function(e,t){return new Promise((function(t){return setTimeout((function(){return t(e)}),r)}))}}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generatorComputation2=e.generatorComputation=e.sectionsDidMountProcessor=void 0;var o=t(3);e.sectionsDidMountProcessor=function(r){return function(e,t){if("function"!=typeof r)throw new Error("processor must be a function.");if("function"!=typeof t)throw new Error("setState must be a function.");if(!Array.isArray(e))throw new Error("Sections list must be an array.");for(var a=[],i=[],u=function(r){if(!o.strictlyIsObject(e[r]))throw new Error("Section must be an Object.");var t=null,u=new Promise((function(r){t=r}));a.push(u);var s=Object.create({},n(n({},Object.getOwnPropertyDescriptors(e[r])),{resolve:{value:t,enumerable:!1}}));i.push(s)},s=0;s<e.length;s++)u(s);return Promise.all(a).then((function(e){var n=r(e);if(n instanceof Promise)return n.then((function(r){t(r)}));t(n)})).catch((function(r){return console.error(r)})),i}},e.generatorComputation=function(){return function(r,e){var t,o;return a(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve("liave")];case 1:return t=e.sent(),[4,new Promise((function(r,e){setTimeout((function(){return r(t+"_liave2")}),1e4)}))];case 2:return o=e.sent(),[2,n(n({},r),{value:o})]}}))}},e.generatorComputation2=function(){return function(r,e){var t;return a(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve("value")];case 1:return t=e.sent(),[2,new Promise((function(e,a){setTimeout((function(){return e(n(n({},r),{value:t+"_value2"}))}),1e4)}))]}}))}}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]])}return t},o=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSchemaFields=e.simpleDataParser=void 0;var u=t(3),s=i(t(7)),c=i(t(9)),l=t(5);e.parseSchemaFields=function(r,e,t){var a,i,u=n({},r);try{for(var f=o(Object.getOwnPropertyNames(u)),d=f.next();!d.done;d=f.next()){var p=d.value;"string"==typeof u[p]&&l.isDataLink(u[p])&&(u[p]=s.default({dataLink:c.default(u[p]),data:e,renderFunctions:t}))}}catch(r){a={error:r}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return u};e.simpleDataParser=function(r){var e=r.data,t=r.rootData;return t||(t=e),f(n(n({},r),{rootData:t}))};var f=function(r){var e=r.dataLink,t=r.data;return void 0===e?t:u.isEmpty(t)?null:u.strictlyIsObject(e)?p(r):Array.isArray(e)?d(r):"string"==typeof e?s.default(n(n({},r),{dataLink:c.default(e)})):e},d=function(r){for(var e=r.dataLink,t=new Array(e.length),a=0;a<e.length;a++)t[a]=f(n(n({},r),{dataLink:e[a]}));return t},p=function(r){var e,t,i=r.dataLink,u=r.data,c=i._dataLink_,l=(i._computations_,i._template_,i._sections_,i._fields_,a(i,["_dataLink_","_computations_","_template_","_sections_","_fields_"]));c&&"string"==typeof c&&(u=s.default(n(n({},r),{dataLink:c})));var d={};try{for(var p=o(Object.getOwnPropertyNames(l)),y=p.next();!y.done;y=p.next()){var v=y.value;d[h(n(n({},r),{dataLink:v}))]=f(n(n({},r),{dataLink:l[v],data:u}))}}catch(r){e={error:r}}finally{try{y&&!y.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return d},h=function(r){var e=r.dataLink;if(l.isDataLink(e)&&"string"!=typeof(e=s.default(n(n({},r),{dataLink:c.default(e)}))))throw new Error('[error] simpleDataParser: key should be a string! A "'+typeof e+'" is given.');return e}},function(r,e,t){"use strict";var n,a=this&&this.__extends||(n=function(r,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)},function(r,e){function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(r){function e(e){void 0===e&&(e="");var t=r.call(this,e)||this;return t.message=e,t}return a(e,r),e}(Error);e.default=o},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]])}return t},i=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.MODE=e.genDataParser=e.syncDataParser=e.asyncDataParser=void 0;var s=u(t(10)),c=u(t(61)),l=t(5),f=u(t(32)),d={USER_SHALLOW:9,CORE_SHALLOW:10,FULL_SHALLOW:11,USER_DEEP:13,CORE_DEEP:14,FULL_DEEP:15};function p(r){var e,t,o;return a(this,(function(a){switch(a.label){case 0:return e=r.dataLink,t=r.mode,o=12&t||12,"string"!=typeof e?[3,2]:[5,i(s.default(n(n({},r),{dataLink:c.default(e)})))];case 1:return[2,a.sent()];case 2:return l.isObject(e)?8===o?[2,e]:[5,i(y(r))]:[3,4];case 3:return[2,a.sent()];case 4:return Array.isArray(e)?8===o?[2,e]:[5,i(h(r))]:[3,6];case 5:return[2,a.sent()];case 6:return void 0===e?(console.warn("[warning] dataParserV5: dataLink is undefined."),[2,void 0]):[2,e];case 7:return[2]}}))}function h(r){var e,t,o,u,s;return a(this,(function(a){switch(a.label){case 0:e=r.dataLink,t=new Array(e.length),o=0,a.label=1;case 1:return o<e.length?(u=t,s=o,[5,i(p(n(n({},r),{dataLink:e[o]})))]):[3,4];case 2:u[s]=a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2,t]}}))}function y(r){var e,t,u,s,c,l,f,h,y,v,b,m,E,_,w,g,O,P,R,S,D,j,x,k,N,C;return a(this,(function(a){switch(a.label){case 0:return e=r.dataLink,t=r.mode,u=3&t||3,s=r.data,c=e._dataLink_,e._computations_,l=e._template_,f=o(e,["_dataLink_","_computations_","_template_"]),c?[5,i(p(n(n({},r),{dataLink:c,mode:d.USER_DEEP})))]:[3,2];case 1:s=a.sent(),a.label=2;case 2:if(!l)return[3,11];if(!Array.isArray(s))throw new Error("[error] dataParserV5: data must be an array.");h=[],a.label=3;case 3:a.trys.push([3,8,9,10]),y=i(s),v=y.next(),a.label=4;case 4:return v.done?[3,7]:(b=v.value,E=(m=h).push,[5,i(p(n(n({},r),{dataLink:l,data:b})))]);case 5:E.apply(m,[a.sent()]),a.label=6;case 6:return v=y.next(),[3,4];case 7:return[3,10];case 8:return _=a.sent(),x={error:_},[3,10];case 9:try{v&&!v.done&&(k=y.return)&&k.call(y)}finally{if(x)throw x.error}return[7];case 10:return[2,h];case 11:w={},a.label=12;case 12:a.trys.push([12,18,19,20]),g=i(Object.getOwnPropertyNames(f)),O=g.next(),a.label=13;case 13:if(O.done)return[3,17];if(P=O.value,3!==u){if("_"===P[0]&&"_"===P[P.length-1]&&1===u)return[3,16];if(("_"!==P[0]||"_"===P[P.length-1])&&2===u)return[3,16]}return[5,i(p(n(n({},r),{dataLink:P,data:s})))];case 14:if("string"!=typeof(R=a.sent()))throw new Error("[error] dataParserV5: parsedKey must be a string.");return S=w,D=R,[5,i(p(n(n({},r),{dataLink:e[P],data:s})))];case 15:S[D]=a.sent(),a.label=16;case 16:return O=g.next(),[3,13];case 17:return[3,20];case 18:return j=a.sent(),N={error:j},[3,20];case 19:try{O&&!O.done&&(C=g.return)&&C.call(g)}finally{if(N)throw N.error}return[7];case 20:return[2,w]}}))}e.MODE=d,e.asyncDataParser=function(r){var e=r.schema,t=r.data,n=r.rootData,a=r.defaultData,o=r.functions,i=r.tokens,u=r.mode,s=void 0===u?d.FULL_DEEP:u;return new Promise((function(r,u){n||(n=t);var c=p({dataLink:e,data:t,rootData:n,functions:o,mode:s,tokens:i,defaultData:a});f.default(c,r,u)}))},e.syncDataParser=function(r){var e=r.schema,t=r.data,n=r.rootData,a=r.defaultData,o=r.functions,i=r.tokens,u=r.mode;n||(n=t);for(var s,c=p({dataLink:e,data:t,rootData:n,functions:o,mode:void 0===u?d.FULL_DEEP:u,tokens:i,defaultData:a});;){var l=c.next(s),f=l.done,h=l.value;if(s=h,f)return h}},e.genDataParser=function(r){var e=r.schema,t=r.data,n=r.rootData,o=r.defaultData,u=r.functions,s=r.tokens,c=r.mode,l=void 0===c?d.FULL_DEEP:c;return a(this,(function(r){switch(r.label){case 0:return n||(n=t),[5,i(p({dataLink:e,data:t,rootData:n,functions:u,mode:l,tokens:s,defaultData:o}))];case 1:return[2,r.sent()]}}))}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(r,e,t){var n=function(a){try{var o=r.next(a),i=o.value;o.done?i instanceof Promise?i.then(e,t):e(i):i instanceof Promise?i.then(n,t):n(i)}catch(r){t(r)}};n()}},function(r,e,t){"use strict";t.r(e),t.d(e,"mapProps",(function(){return g})),t.d(e,"withProps",(function(){return O})),t.d(e,"withPropsOnChange",(function(){return R})),t.d(e,"withHandlers",(function(){return D})),t.d(e,"defaultProps",(function(){return j})),t.d(e,"renameProp",(function(){return k})),t.d(e,"renameProps",(function(){return C})),t.d(e,"flattenProp",(function(){return A})),t.d(e,"withState",(function(){return L})),t.d(e,"withStateHandlers",(function(){return T})),t.d(e,"withReducer",(function(){return I})),t.d(e,"branch",(function(){return M})),t.d(e,"renderComponent",(function(){return U})),t.d(e,"renderNothing",(function(){return B})),t.d(e,"shouldUpdate",(function(){return $})),t.d(e,"pure",(function(){return K})),t.d(e,"onlyUpdateForKeys",(function(){return W})),t.d(e,"onlyUpdateForPropTypes",(function(){return Y})),t.d(e,"withContext",(function(){return X})),t.d(e,"getContext",(function(){return J})),t.d(e,"lifecycle",(function(){return H})),t.d(e,"toClass",(function(){return Z})),t.d(e,"toRenderProps",(function(){return q})),t.d(e,"fromRenderProps",(function(){return Q})),t.d(e,"setStatic",(function(){return m})),t.d(e,"setPropTypes",(function(){return rr})),t.d(e,"setDisplayName",(function(){return E})),t.d(e,"compose",(function(){return er})),t.d(e,"getDisplayName",(function(){return _})),t.d(e,"wrapDisplayName",(function(){return w})),t.d(e,"shallowEqual",(function(){return u.a})),t.d(e,"isClassComponent",(function(){return z})),t.d(e,"createSink",(function(){return tr})),t.d(e,"componentFromProp",(function(){return nr})),t.d(e,"nest",(function(){return ar})),t.d(e,"hoistStatics",(function(){return or})),t.d(e,"componentFromStream",(function(){return lr})),t.d(e,"componentFromStreamWithConfig",(function(){return cr})),t.d(e,"mapPropsStream",(function(){return pr})),t.d(e,"mapPropsStreamWithConfig",(function(){return dr})),t.d(e,"createEventHandler",(function(){return yr})),t.d(e,"createEventHandlerWithConfig",(function(){return hr})),t.d(e,"setObservableConfig",(function(){return ur}));var n=t(0),a=t.n(n);function o(){return(o=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}var i=t(11),u=t.n(i);function s(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function c(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=r&&this.setState(r)}function l(r){this.setState(function(e){var t=this.constructor.getDerivedStateFromProps(r,e);return null!=t?t:null}.bind(this))}function f(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}function d(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof r.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return r;var t=null,n=null,a=null;if("function"==typeof e.componentWillMount?t="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(t="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?a="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==t||null!==n||null!==a){var o=r.displayName||r.name,i="function"==typeof r.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==t?"\n  "+t:"")+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof r.getDerivedStateFromProps&&(e.componentWillMount=c,e.componentWillReceiveProps=l),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=f;var u=e.componentDidUpdate;e.componentDidUpdate=function(r,e,t){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:t;u.call(this,r,e,n)}}return r}function p(r,e){if(null==r)return{};var t,n,a={},o=Object.keys(r);for(n=0;n<o.length;n++)t=o[n],e.indexOf(t)>=0||(a[t]=r[t]);return a}c.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0;var h=t(34),y=t.n(h),v=t(22),b=t(12),m=function(r,e){return function(t){return t[r]=e,t}},E=function(r){return m("displayName",r)},_=function(r){return"string"==typeof r?r:r?r.displayName||r.name||"Component":void 0},w=function(r,e){return e+"("+_(r)+")"},g=function(r){return function(e){var t=Object(n.createFactory)(e);return function(e){return t(r(e))}}},O=function(r){return g((function(e){return o({},e,"function"==typeof r?r(e):r)}))},P=function(r,e){for(var t={},n=0;n<e.length;n++){var a=e[n];r.hasOwnProperty(a)&&(t[a]=r[a])}return t},R=function(r,e){return function(t){var a=Object(n.createFactory)(t),i="function"==typeof r?r:function(e,t){return!u()(P(e,r),P(t,r))},c=function(r){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=r.call.apply(r,[this].concat(a))||this).state={computedProps:e(t.props),prevProps:t.props},t}return s(t,r),t.getDerivedStateFromProps=function(r,t){return i(t.prevProps,r)?{computedProps:e(r),prevProps:r}:{prevProps:r}},t.prototype.render=function(){return a(o({},this.props,this.state.computedProps))},t}(n.Component);return d(c),c}},S=function(r,e){var t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n],n));return t},D=function(r){return function(e){var t=Object(n.createFactory)(e);return function(e){function n(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handlers=S("function"==typeof r?r(t.props):r,(function(r){return function(){var e=r(t.props);return e.apply(void 0,arguments)}})),t}return s(n,e),n.prototype.render=function(){return t(o({},this.props,this.handlers))},n}(n.Component)}},j=function(r){return function(e){var t=Object(n.createFactory)(e),a=function(r){return t(r)};return a.defaultProps=r,a}},x=function(r,e){for(var t=o({},r),n=0;n<e.length;n++){var a=e[n];t.hasOwnProperty(a)&&delete t[a]}return t},k=function(r,e){return g((function(t){var n;return o({},x(t,[r]),((n={})[e]=t[r],n))}))},N=Object.keys,C=function(r){return g((function(e){return o({},x(e,N(r)),(t=P(e,N(r)),n=function(e,t){return r[t]},N(t).reduce((function(r,e){var a=t[e];return r[n(a,e)]=a,r}),{})));var t,n}))},A=function(r){return function(e){var t=Object(n.createFactory)(e);return function(e){return t(o({},e,e[r]))}}},L=function(r,e,t){return function(a){var i=Object(n.createFactory)(a);return function(n){function a(){for(var r,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(r=n.call.apply(n,[this].concat(a))||this).state={stateValue:"function"==typeof t?t(r.props):t},r.updateStateValue=function(e,t){return r.setState((function(r){var t=r.stateValue;return{stateValue:"function"==typeof e?e(t):e}}),t)},r}return s(a,n),a.prototype.render=function(){var t;return i(o({},this.props,((t={})[r]=this.state.stateValue,t[e]=this.updateStateValue,t)))},a}(n.Component)}},T=function(r,e){return function(t){var a=Object(n.createFactory)(t);return function(t){function n(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).state="function"==typeof r?r(n.props):r,n.stateUpdaters=S(e,(function(r){return function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];e&&"function"==typeof e.persist&&e.persist(),n.setState((function(t,n){return r(t,n).apply(void 0,[e].concat(a))}))}})),n}return s(n,t),n.prototype.render=function(){return a(o({},this.props,this.state,this.stateUpdaters))},n}(n.Component)}},V=function(){},I=function(r,e,t,a){return function(i){var u=Object(n.createFactory)(i);return function(n){function i(){for(var r,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(r=n.call.apply(n,[this].concat(a))||this).state={stateValue:r.initializeStateValue()},r.dispatch=function(e,n){return void 0===n&&(n=V),r.setState((function(r){var n=r.stateValue;return{stateValue:t(n,e)}}),(function(){return n(r.state.stateValue)}))},r}s(i,n);var c=i.prototype;return c.initializeStateValue=function(){return void 0!==a?"function"==typeof a?a(this.props):a:t(void 0,{type:"@@recompose/INIT"})},c.render=function(){var t;return u(o({},this.props,((t={})[r]=this.state.stateValue,t[e]=this.dispatch,t)))},i}(n.Component)}},F=function(r){return r},M=function(r,e,t){return void 0===t&&(t=F),function(a){var o,i;return function(u){return r(u)?(o=o||Object(n.createFactory)(e(a)))(u):(i=i||Object(n.createFactory)(t(a)))(u)}}},U=function(r){return function(e){var t=Object(n.createFactory)(r);return function(r){return t(r)}}},G=function(r){function e(){return r.apply(this,arguments)||this}return s(e,r),e.prototype.render=function(){return null},e}(n.Component),B=function(r){return G},$=function(r){return function(e){var t=Object(n.createFactory)(e);return function(e){function n(){return e.apply(this,arguments)||this}s(n,e);var a=n.prototype;return a.shouldComponentUpdate=function(e){return r(this.props,e)},a.render=function(){return t(this.props)},n}(n.Component)}},K=function(r){return $((function(r,e){return!u()(r,e)}))(r)},W=function(r){return $((function(e,t){return!u()(P(t,r),P(e,r))}))},Y=function(r){var e=r.propTypes;var t=Object.keys(e||{});return W(t)(r)},X=function(r,e){return function(t){var a=Object(n.createFactory)(t),o=function(r){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=r.call.apply(r,[this].concat(a))||this).getChildContext=function(){return e(t.props)},t}return s(t,r),t.prototype.render=function(){return a(this.props)},t}(n.Component);return o.childContextTypes=r,o}},J=function(r){return function(e){var t=Object(n.createFactory)(e),a=function(r,e){return t(o({},r,e))};return a.contextTypes=r,a}},H=function(r){return function(e){var t=Object(n.createFactory)(e);var a=function(r){function e(){return r.apply(this,arguments)||this}return s(e,r),e.prototype.render=function(){return t(o({},this.props,this.state))},e}(n.Component);return Object.keys(r).forEach((function(e){return a.prototype[e]=r[e]})),a}},z=function(r){return Boolean(r&&r.prototype&&"function"==typeof r.prototype.render)},Z=function(r){var e,t;return z(r)?r:(t=e=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return"string"==typeof r?a.a.createElement(r,this.props):r(this.props,this.context)},t}(n.Component),e.displayName=_(r),e.propTypes=r.propTypes,e.contextTypes=r.contextTypes,e.defaultProps=r.defaultProps,t)};function q(r){return r((function(r){return r.children(r)}))}var Q=function(r,e,t){return void 0===t&&(t="children"),function(n){var i=a.a.createFactory(n),u=a.a.createFactory(r);return function(r){var n;return u(((n={})[t]=function(){return i(o({},r,e.apply(void 0,arguments)))},n))}}},rr=function(r){return m("propTypes",r)},er=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.reduce((function(r,e){return function(){return r(e.apply(void 0,arguments))}}),(function(r){return r}))},tr=function(r){var e=function(e){function t(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(r=e.call.apply(e,[this].concat(n))||this).state={},r}return s(t,e),t.getDerivedStateFromProps=function(e){return r(e),null},t.prototype.render=function(){return null},t}(n.Component);return d(e),e},nr=function(r){var e=function(e){return Object(n.createElement)(e[r],x(e,[r]))};return e.displayName="componentFromProp("+r+")",e},ar=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var a=e.map(n.createFactory),o=function(r){var e=r.children,t=p(r,["children"]);return a.reduceRight((function(r,e){return e(t,r)}),e)};return o},or=function(r,e){return function(t){var n=r(t);return y()(n,t,e),n}},ir={fromESObservable:null,toESObservable:null},ur=function(r){ir=r},sr={fromESObservable:function(r){return"function"==typeof ir.fromESObservable?ir.fromESObservable(r):r},toESObservable:function(r){return"function"==typeof ir.toESObservable?ir.toESObservable(r):r}},cr=function(r){return function(e){return function(t){function n(){for(var n,a,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(a=t.call.apply(t,[this].concat(i))||this).state={vdom:null},a.propsEmitter=Object(v.createChangeEmitter)(),a.props$=r.fromESObservable(((n={subscribe:function(r){return{unsubscribe:a.propsEmitter.listen((function(e){e?r.next(e):r.complete()}))}}})[b.a]=function(){return this},n)),a.vdom$=r.toESObservable(e(a.props$)),a}s(n,t);var a=n.prototype;return a.componentWillMount=function(){var r=this;this.subscription=this.vdom$.subscribe({next:function(e){r.setState({vdom:e})}}),this.propsEmitter.emit(this.props)},a.componentWillReceiveProps=function(r){this.propsEmitter.emit(r)},a.shouldComponentUpdate=function(r,e){return e.vdom!==this.state.vdom},a.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},a.render=function(){return this.state.vdom},n}(n.Component)}},lr=function(r){return cr(sr)(r)},fr=function(r){return r},dr=function(r){var e=cr({fromESObservable:fr,toESObservable:fr});return function(t){return function(a){var o=Object(n.createFactory)(a),i=r.fromESObservable,u=r.toESObservable;return e((function(r){var e;return(e={subscribe:function(e){var n=u(t(i(r))).subscribe({next:function(r){return e.next(o(r))}});return{unsubscribe:function(){return n.unsubscribe()}}}})[b.a]=function(){return this},e}))}}},pr=function(r){return dr(sr)(r)},hr=function(r){return function(){var e,t=Object(v.createChangeEmitter)(),n=r.fromESObservable(((e={subscribe:function(r){return{unsubscribe:t.listen((function(e){return r.next(e)}))}}})[b.a]=function(){return this},e));return{handler:t.emit,stream:n}}},yr=hr(sr)},function(r,e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);r.exports=function r(e,t,f){if("string"!=typeof t){if(l){var d=c(t);d&&d!==l&&r(e,d,f)}var p=i(t);u&&(p=p.concat(u(t)));for(var h=0;h<p.length;++h){var y=p[h];if(!(n[y]||a[y]||f&&f[y])){var v=s(t,y);try{o(e,y,v)}catch(r){}}}return e}return e}},function(r,e,t){"use strict";function n(r){var e,t=r.Symbol;return"function"==typeof t?t.observable?e=t.observable:(e=t("observable"),t.observable=e):e="@@observable",e}t.d(e,"a",(function(){return n}))},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&n(e,r,t);return a(e,r),e};Object.defineProperty(e,"__esModule",{value:!0}),e.CoreUtils=o(t(3)),e.Sections=o(t(39)),e.DataParser=o(t(72)),e.DataLinkParser=o(t(73)),e.builtInComputations=o(t(18))},function(r,e,t){"use strict";var n=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},a=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(n(arguments[e]));return r};Function.prototype.isGenerator||(Function.prototype.isGenerator=function(){return"GeneratorFunction"===this.constructor.name}),Function.prototype.isAsyncGenerator=function(){return"AsyncGeneratorFunction"===this.constructor.name},Function.prototype.isAsync||(Function.prototype.isAsync=function(){return"AsyncFunction"===this.constructor.name}),Array.prototype.flat||(Array.prototype.flat=function(r){return void 0===r&&(r=1),(r=isNaN(r)?0:Math.floor(r))<1?this.slice():[].concat.apply([],a(r<2?this:this.map((function(e){return Array.isArray(e)?e.flat(r-1):e}))))})},function(r,e,t){"use strict";var n=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i};Object.defineProperty(e,"__esModule",{value:!0}),e.isIframe=e.doNothing=e.debounce=e.buildClassNames=e.isEmpty=e.isReactElement=e.isFunction=e.isDate=e.isArray=e.isError=e.strictlyIsObject=e.isObject=e.isNumber=e.isString=e.isBoolean=void 0,e.isBoolean=function(r){return"boolean"==typeof r},e.isString=function(r){return"string"==typeof r},e.isNumber=function(r){return"number"==typeof r},e.isObject=function(r){return"object"==typeof r},e.strictlyIsObject=function(r){return"[object Object]"===Object.prototype.toString.call(r)},e.isError=function(r){return"[object Error]"===Object.prototype.toString.call(r)},e.isArray=function(r){return Array.isArray(r)},e.isDate=function(r){return r instanceof Date},e.isFunction=function(r){return"function"==typeof r},e.isReactElement=function(r){return e.isObject(r)&&r.$$typeof===Symbol.for("react.element")},e.isEmpty=function(r){return!e.isBoolean(r)&&(e.isString(r)?""===r:e.isNumber(r)?isNaN(r):!e.isDate(r)&&(e.isObject(r)?null===r||(e.isArray(r)?0===r.length:0===Object.keys(r).length):!r))},e.buildClassNames=function(r,t,a){if(void 0===r&&(r={}),void 0===a&&(a=""),e.isObject(t)){if(e.isArray(t))return t.map((function(e){return r[""+a+e]}));Object.entries(t).reduce((function(e,t){var o=n(t,2),i=o[0],u=o[1];return e[r[""+a+i]]=u,e}),{})}return e.isString(t)?r[""+a+t]||t:""};var a={};e.debounce=function(r,e,t){if(void 0===e&&(e=0),void 0===t&&(t=Symbol("debounced")),"function"!=typeof r)throw new Error("debounce: no callback!");if(e=+e,isNaN(e))throw new Error("debounce: delay should be number!");return"symbol"!=typeof t&&(t=Symbol(t)),a[t.toString()]&&clearTimeout(a[t.toString()]),a[t.toString()]=window.setTimeout((function(){r(),delete a[t.toString()]}),e),t},e.doNothing=function(){},e.isIframe=function(r){try{return Boolean(r.location!==r.parent.location||r.self!==r.top||r.self.frameElement&&(r.self.frameElement+"").indexOf("HTMLIFrameElement")>-1)}catch(r){console.error("[error] isIframe:",r.message,r.stack)}return!1}},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&n(e,r,t);return a(e,r),e};Object.defineProperty(e,"__esModule",{value:!0}),e.v4=o(t(14))},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunctionCall=e.isFunctionRef=e.isFunction=e.isRootLink=e.isLink=e.isDataLink=void 0,e.isDataLink=function(r){return/(?<!\\)[@$`([{]/.test(r)},e.isLink=function(r){return/^@[a-zA-Z0-9\\<>:_/-]+/.test(r)},e.isRootLink=function(r){return/^@\/[a-zA-Z0-9\\<>:_/-]+/.test(r)},e.isFunction=function(r){return/^\$[a-zA-Z0-9_-]+/.test(r)},e.isFunctionRef=function(r){return/^\$[a-zA-Z0-9_-]+\b$/.test(r)},e.isFunctionCall=function(r){return/^\$[a-zA-Z0-9_-]+\(.*?\)$/.test(r)}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(6)),i=t(1),u=t(7),s=function(r,e){return e?""+e+r:r};e.default=function(r){var e,t,a,c,l=r.dataLink;if(!(l instanceof u.DataLink))throw new i.DataParserError(i.DataParserError.ERRORS.DATA_LINK_TYPE);a=null;try{try{for(var f=n(l),d=f.next();!d.done;d=f.next()){var p=d.value;switch(p[1]){case"@":case"$":case"{":case"[":case"`":case"(":c=o.default(r),a=s(c,a);break;case"\\":a=s(p[2],a),l.getNextValue();break;case"}":case"]":case")":throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);default:a=s(p[1],a)}if(l.isEnd())break}}catch(r){e={error:r}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}}catch(e){if(e instanceof i.DataParserError){var h=l.getCursorPositionInfo();e.fullMessage=e.message+', dataLink: "'+h+'" at position '+l.getCurrentIndex(),l.isEnd()&&(e.fullMessage+=" (out of the string)"),e.data=r.data}throw console.error(e),e}return a}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(1),i=t(16),u=a(t(17));e.default=function(r){var e,t,a=r.dataLink,s=a.getCurrentValue(),c=[];if("["!==s[1])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);if("]"===s[2])return a.getNextValue(),[];try{for(var l=n(a),f=l.next();!f.done;f=l.next()){switch((s=f.value)[1]){case"[":if(" "===s[2]&&(u.default(r),s=a.getCurrentValue()),"]"===s[2])return[];case",":if(" "===s[2]&&(u.default(r),s=a.getCurrentValue()),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(","===s[2])throw new o.DataParserError(o.DataParserError.ERRORS.ARRAY_VALUE);if(s=a.getNextValue(),c.push(i.valueParser(r,!0))," "===(s=a.getCurrentValue())[2]&&(u.default(r),s=a.getCurrentValue()),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(","===s[2]||"]"===s[2])break;throw new o.DataParserError(o.DataParserError.ERRORS.ARRAY_VALUE)}if("]"===s[2]){a.getNextValue();break}}}catch(r){e={error:r}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return c}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(1),i=a(t(6)),u=a(t(4)),s=a(t(26)),c=function(r,e){return void 0===e?e=r:e+=""+r,e};e.default=function(r,e){var t,a,l,f=r.dataLink,d=f.getCurrentValue();if(!0===e&&"["!==d[0]&&","!==d[0]&&" "!==d[0]||!1===e&&":"!==d[0]&&" "!==d[0]||void 0===e&&"("!==d[0]&&" "!==d[0])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);try{for(var p=n(f),h=p.next();!h.done;h=p.next()){switch((d=h.value)[1]){case" ":throw new o.DataParserError(o.DataParserError.ERRORS.DEFAULT);case"\\":l=c(f.getNextValue());break;case"@":case"$":case"{":case"[":case"`":case"(":if(l=c(i.default(r)),f.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);d=f.getCurrentValue();break;default:if(f.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(!u.default(d[1]))throw e?new o.DataParserError(o.DataParserError.ERRORS.ARRAY_VALUE):new o.DataParserError(o.DataParserError.ERRORS.OBJECT_VALUE);l=(l||"")+c(d[1])}switch(d[2]){case",":case"]":case" ":case"}":case")":return s.default(l)}}}catch(r){t={error:r}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(t)throw t.error}}throw new o.DataParserError(o.DataParserError.ERRORS.DEFAULT)}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(1),i=a(t(6)),u=a(t(17)),s=t(16),c=function(r){var e,t,a=r.dataLink,i=[],c=a.getCurrentValue();if("("!==c[1])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);try{for(var l=n(a),f=l.next();!f.done;f=l.next()){switch((c=f.value)[1]){case"(":if(" "===c[2]&&(u.default(r),c=a.getCurrentValue()),")"===c[2])break;case",":if(" "===c[2]&&(u.default(r),c=a.getCurrentValue()),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(","===c[2])throw new o.DataParserError(o.DataParserError.ERRORS.FUNCTION_ARGUMENTS);if(c=a.getNextValue(),i.push(s.valueParser(r))," "===(c=a.getCurrentValue())[2]&&(u.default(r),c=a.getCurrentValue()),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(","===c[2]||")"===c[2])break;throw new o.DataParserError(o.DataParserError.ERRORS.FUNCTION_ARGUMENTS)}if(")"===c[2]){a.getNextValue();break}}}catch(r){e={error:r}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return i},l=function(r){var e,t,a=r.dataLink,s="",c=a.getCurrentValue();if("("!==c[1])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);if(" "===c[2]&&(u.default(r),c=a.getCurrentValue()),")"===c[2])return a.getNextValue(),"";a.getNextValue();try{for(var l=n(a),f=l.next();!f.done;f=l.next()){if(c=f.value,a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);switch(c[1]){case"@":case"$":case"{":case"[":case"`":case"(":if(s+=i.default(r),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);c=a.getCurrentValue();break;case"\\":s+=c[2],c=a.getNextValue();break;case" ":var d=" ";if(" "===c[2]&&(d+=u.default(r),c=a.getCurrentValue(),a.isEnd()))throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(")"===(c=a.getCurrentValue())[2])break;s+=d;break;default:s+=c[1]}if(")"===c[2]){a.getNextValue();break}}}catch(r){e={error:r}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return s};e.default=function(r,e){return e?c(r):l(r)}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(1),i=a(t(4)),u=t(6),s=t(46);e.default=function(r){var e,t,a=r.dataLink,c=r.renderFunctions,l=r.data,f=a.getCurrentValue();if("$"!==f[1])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);if(!i.default(f[2]))throw new o.DataParserError(o.DataParserError.ERRORS.FUNCTION_NAMING);f=a.getNextValue();var d="";try{for(var p=n(a),h=p.next();!h.done&&(d+=(f=h.value)[1],i.default(f[2]));h=p.next());}catch(r){e={error:r}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}var y=c[d];if("function"!=typeof y){if("("!==f[2]&&!a.isEnd()&&!i.default(f[2]))throw new o.DataParserError(o.DataParserError.ERRORS.FUNCTION_NAMING);throw new o.DataParserError(o.DataParserError.ERRORS.FUNCTION_UNKNOWN)}var v=s.isContextualRenderFunctions(c)?c:l;return"("===f[2]?(a.getNextValue(),y.apply(v,u.expressionParser(r,!0))):y.bind(v)}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.isContextualRenderFunctions=e.composeContextualRenderFunctions=void 0;var o=a(t(15));function i(){return function r(e,t,n){if(!(this&&this instanceof r?this.constructor:void 0))throw new Error("ContextualRenderFunctions: Must be invoked as a constructor!");this.values=e,this.props=t,this.setValues=n}}e.composeContextualRenderFunctions=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(!r.length)throw new Error("composeContextualRenderFunctions: at least one object with functions must be passed!");var t=r.reduce((function(r,e){return n(n({},r),e)}),{}),a=i();return a.prototype=n(n({},t),{constructor:a.prototype.constructor}),a},e.isContextualRenderFunctions=function(r){return!!o.default(r)&&"ContextualRenderFunctions"===Object.getPrototypeOf(r).constructor.name}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(t(4)),u=o(t(15)),s=t(1),c=o(t(6)),l=function(r,e){var t,o,l=r.dataLink,p=r.defaultValue,h="",y=!1,v=l.getCurrentValue();if("/"!==v[1]&&"@"!==v[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if(l.isEnd())return e;l.getNextValue();try{for(var b=a(l),m=b.next();!m.done;m=b.next()){switch((v=m.value)[1]){case"<":if("/"!==v[0])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_PART);return d(r,e);case":":h=f(r,e);break;case"$":case"{":case"[":case"(":if("/"!==v[0]&&"@"!==v[0])throw new s.DataParserError(s.DataParserError.ERRORS.LINK);h=c.default(n(n({},r),{data:e})),y=!0;break;case"\\":if("string"!=typeof h)throw new s.DataParserError(s.DataParserError.ERRORS.LINK);if(" "===v[2])throw new s.DataParserError(s.DataParserError.ERRORS.LINK);h+=v[2],l.getNextValue();break;default:if(!i.default(v[1]))throw new s.DataParserError(s.DataParserError.ERRORS.LINK);if("string"!=typeof h)throw new s.DataParserError(s.DataParserError.ERRORS.LINK);h+=v[1]}if(v=l.getCurrentValue(),l.isEnd()||"/"===v[2]||"\\"!==v[2]&&!i.default(v[2]))break;y=!1}}catch(r){t={error:r}}finally{try{m&&!m.done&&(o=b.return)&&o.call(b)}finally{if(t)throw t.error}}return"string"==typeof h?y&&"/"!==v[2]?h:u.default(e)||Array.isArray(e)?h&&/^\d+$/.test(h)&&Array.isArray(e)?e[Number(h)]||p:h&&u.default(e)?void 0===e[h]?p:e[h]:p:p:h},f=function(r,e){var t,n,o=r.dataLink,c=r.defaultValue,l=r.tokens,f=void 0===l?{}:l,d="",p=o.getCurrentValue();if(":"!==p[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if("/"!==p[0]&&"@"!==p[0]||o.isEnd()||"\\"!==p[2]&&!i.default(p[2]))throw new s.DataParserError(s.DataParserError.ERRORS.LINK);o.getNextValue();try{for(var h=a(o),y=h.next();!y.done&&(d+=(p=y.value)[1],!o.isEnd()&&("\\"===p[2]||"/"!==p[2]&&i.default(p[2])));y=h.next());}catch(r){t={error:r}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}var v=d&&Object.prototype.hasOwnProperty.call(f,d)?f[d]:0;if(!u.default(e)&&!Array.isArray(e))return console.warn("Error: The data should be an object or an array!"),c;var b=e[v];return void 0===b?c:b},d=function(r,e){var t,n,o=r.dataLink,u="",c=o.getCurrentValue();if(!Array.isArray(e))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_NOT_ARRAY_DATA);if("<"!==c[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if(">"===c[2]||"/"!==c[0])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_EMPTY);o.getNextValue();try{for(var l=a(o),f=l.next();!f.done;f=l.next()){if(c=f.value,!i.default(c[1]))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_NAME);if(u+=c[1],">"===c[2])break}}catch(r){t={error:r}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if("/"===(c=o.getNextValue())[2])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_LAST);if(i.default(c[2]))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_PART);for(var d in e)e[d][u]=d;return e};e.default=function(r){var e,t,n=r.dataLink,o=r.data,u=r.rootData,c=n.getCurrentValue();if("@"!==c[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);var f=o;"/"===c[2]&&(f=u,n.getNextValue());try{for(var d=a(n),p=d.next();!p.done;p=d.next()){if("/"!==(c=p.value)[1]&&"@"!==c[1])throw new s.DataParserError(s.DataParserError.ERRORS.LINK);if(f=l(r,f),c=n.getCurrentValue(),n.isEnd()||"/"!==c[2]&&!i.default(c[2]))break}}catch(r){e={error:r}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}return f}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(1),i=t(16),u=a(t(4)),s=a(t(6)),c=Symbol("NotDefined"),l=function(r){var e,t,a=r.dataLink,i="";try{for(var c=n(a),l=c.next();!l.done;l=c.next()){var f=l.value;if("{"===f[1]||"}"===f[1])throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);switch(f[1]){case"(":case"@":case"$":var d=s.default(r);if("string"!=typeof d)throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_KEY_STRING);i+=d,f=a.getCurrentValue();break;case"\\":i+=(f=a.getNextValue())[1];break;default:if("/"!==f[1]&&!u.default(f[1]))throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_KEY);i+=f[1]}if(a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(":"===f[2]||" "===f[2])break}}catch(r){e={error:r}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return i};e.default=function(r){var e,t,a=r.dataLink,u=a.getCurrentValue(),s={},f=c,d=c;if("{"!==u[1])throw new o.DataParserError(o.DataParserError.ERRORS.ITERATOR_ERROR);try{for(var p=n(a),h=p.next();!h.done;h=p.next()){switch((u=h.value)[1]){case",":case"{":if(" "===u[2]&&(i.spaceSkipping(r),u=a.getCurrentValue()),a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if(a.getNextValue(),f=l(r)," "===(u=a.getCurrentValue())[2]&&(i.spaceSkipping(r),u=a.getCurrentValue()),a.isEnd()||":"!==u[2])throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_KEY);break;case":":if(" "===u[2]&&(i.spaceSkipping(r),u=a.getCurrentValue()),a.isEnd()||","===u[2]||"}"===u[2])throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_VALUE);if(a.getNextValue(),d=i.valueParser(r,!1),!f||"string"!=typeof f)throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_KEY);if(s[f]=d," "===(u=a.getCurrentValue())[2]&&(i.spaceSkipping(r),u=a.getCurrentValue()),","===u[2]||"}"===u[2])break;throw new o.DataParserError(o.DataParserError.ERRORS.OBJECT_VALUE);default:throw new o.DataParserError(o.DataParserError.ERRORS.DEFAULT)}if(a.isEnd())throw new o.DataParserError(o.DataParserError.ERRORS.NESTING);if("}"===u[2]){a.getNextValue();break}}}catch(r){e={error:r}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return s}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=t(1);e.default=function(r){var e,t,o=r.dataLink,i="",u=o.getCurrentValue();if("`"!==u[1])throw new a.DataParserError(a.DataParserError.ERRORS.ITERATOR_ERROR);o.getNextValue();try{for(var s=n(o),c=s.next();!c.done&&"`"!==(u=c.value)[1];c=s.next()){if("\\"===u[1]&&(u=o.getNextValue()),o.isEnd())throw new a.DataParserError(a.DataParserError.ERRORS.DEFAULT);i+=u[1]}}catch(r){e={error:r}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var r=function(){var r;return n(this,(function(e){switch(e.label){case 0:r=1,e.label=1;case 1:return r<Number.MAX_SAFE_INTEGER?[4,r]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:throw new Error("The safe number range is over!")}}))}();this.gen=r};a.prototype.get=function(){return this.gen.next().value},e.default=a},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},u=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(i(arguments[e]));return r},s=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.getHandler=void 0;var c=s(t(30)),l=t(3),f=s(t(19)),d=t(13),p=t(5),h=t(31),y=t(2),v=t(62),b={};function m(r,e,t,n,a,o){for(var i=[],s=6;s<arguments.length;s++)i[s-6]=arguments[s];return new Promise((function(s,c){var l=o._formId_,f=n._objectId_,d=(b[l]||{}).breakControls,p=void 0===d?null:d;if(r&&!p)throw new Error("[error] breakControls is not defined.");var h=E.apply(void 0,u([e,t,n,a,o],i)),y=!1;r&&(p[f]=function(e){try{h.throw(e).done||(c(e),y=!0),r&&delete p[f]}catch(r){c(r)}});var v=function(r){try{if(y)return;var e=h.next(r),t=e.value;e.done?s(t):t.then(v,c)}catch(r){c(r)}};v()}))}function E(r,e){var t,n,i,s,c,l,d,p,h=[];for(t=2;t<arguments.length;t++)h[t-2]=arguments[t];return a(this,(function(t){switch(t.label){case 0:t.trys.push([0,9,,10]),t.label=1;case 1:t.trys.push([1,6,7,8]),n=o(r),i=n.next(),t.label=2;case 2:return i.done?[3,5]:(s=i.value,[4,_.apply(void 0,u([s,e],h))]);case 3:e=t.sent(),t.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return c=t.sent(),d={error:c},[3,8];case 7:try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}return[7];case 8:return[2,e];case 9:if(!((l=t.sent())instanceof f.default))throw l;return console.warn("[debug] actionsIterator has been stopped."),[3,10];case 10:return[2]}}))}e.getHandler=function(r){var e=r.schema,t=r.computations,n=r.updateState,a=e._formId_;if("function"!=typeof n)throw new Error("SectionsComputations: update state callback must be a function.");return function(r){var i=r.value,u=r.actions,s=r.after,p=r.context,h=r.currentSchemaObject,y=r.match,E=r.location,_=h._objectId_;if(_=Number(_),Number.isNaN(_))throw new Error("SectionsComputation: _objectId_ must be a number.");if(void 0===a||!a)throw new Error("SectionsComputations: formId must be defined.");b.hasOwnProperty(a)||(b[a]={mainReject:null,newContext:d.deepCopy(p),computeChains:{},afterActions:{},breakControls:{}});var O=b[a],P=O.mainReject,R=O.newContext,S=O.breakControls,D=O.computeChains,j=O.afterActions;if("function"==typeof P&&P(new f.default),"function"==typeof S[_]&&(S[_](new f.default),delete D[_]),!Array.isArray(u))throw new Error("SectionsComputation: Actions should be an Array.");if(!u.length)throw new Error("SectionsComputation: Actions can not be empty.");var x=m(!0,u,i,h,R,e,t,y,E,n);x.then((function(){return g(h,R)})).catch((function(r){if(!(r instanceof c.default))throw r;w(r,h,R),console.error("There are errors in the form!")})).then((function(){return g(e,R)})).catch((function(r){r instanceof Error&&!(r instanceof f.default)&&(w(r,e,R),console.error(r))})),D[_]=x;var k=Object.values(D),N=v.awaitAll(k),C=N.rejectCallback,A=N.promise;b[a].mainReject=C,Array.isArray(s)&&s.length&&(j[_]={actions:s,value:i,currentSchemaObject:h}),A.then((function(r){r.reduce((function(r,e){var t=e.status;return r||"success"===t}),!1)&&n(R),delete b[a]}),(function(r){if(r instanceof f.default)throw r;console.error("[error] computations: ",r)})).then((function(){var r,n,a={};if(!l.isEmpty(j)){var i=Object.getOwnPropertyNames(j);try{for(var u=o(i),s=u.next();!s.done;s=u.next()){var c=s.value,f=j[c],d=f.actions,p=f.value,h=f.currentSchemaObject;a[c]=m(!1,d,p,h,R,e,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return v.awaitAll(a).promise}}),(function(r){if(r instanceof f.default)return null})).catch((function(r){console.error("[error] afterComputations: ",r)}))}};var _=function(r,e,t,a,o,i,u,s,c){return new Promise((function(l,f){var d=function(r){p.isObject(r)?(r=n(n({},e),r)).hasOwnProperty("value")&&r.hasOwnProperty("dataLink")?l(r):f(new Error('Returned object must contain "value" and "dataLink" properties.')):f(new Error("Computation must return an object."))};h.asyncDataParser({schema:r,functions:i,data:a,rootData:a,mode:h.MODE.USER_DEEP}).then((function(r){if("function"==typeof r){var n=r(e,{context:a,schema:o,currentSchemaObject:t,match:u,location:s,computations:i,updateState:c});r.isGenerator()?y.runAsyncGenerator(n,d,f):n instanceof Promise?n.then(d,f):d(n)}else r instanceof Promise?r.then(d,f):d(r)})).catch(f)}))},w=function(r,e,t){var a=e._objectId_,o=Symbol.for(a),i=t[o]||{};l.isError(r)?t[o]=n(n({},i),{errors:[r.message]}):(console.warn("[debug] error",Object.prototype.toString.call(r)),console.error("Unhandled error! Error object must be instance of the Error."),console.error(r))},g=function(r,e){var t=r._objectId_,a=Symbol.for(t),o=e[a]||{};"errors"in o&&delete o.errors,e[a]=n({},o)}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(t(8)),u=t(2),s=t(10),c=function(r,e){return e?""+e+r:r};e.default=function(r){var e,t,o,l,f,d,p,h,y,v,b;return n(this,(function(n){switch(n.label){case 0:if(!((e=r.dataLink)instanceof s.DataLink))throw new u.DataParserError(u.DataParserError.ERRORS.DATA_LINK_TYPE);t=void 0,n.label=1;case 1:n.trys.push([1,15,,16]),n.label=2;case 2:n.trys.push([2,12,13,14]),o=a(e),l=o.next(),n.label=3;case 3:if(l.done)return[3,11];switch(f=l.value,f[1]){case"@":case"$":case"{":case"[":case"`":case"(":return[3,4];case"\\":return[3,6];case"}":case"]":case")":return[3,7]}return[3,8];case 4:return d=c,[5,a(i.default(r))];case 5:return t=d.apply(void 0,[n.sent(),t]),[3,9];case 6:return t=c(f[2],t),e.getNextValue(),[3,9];case 7:throw new u.DataParserError(u.DataParserError.ERRORS.NESTING);case 8:return t=c(f[1],t),[3,9];case 9:if(e.isEnd())return[3,11];n.label=10;case 10:return l=o.next(),[3,3];case 11:return[3,14];case 12:return p=n.sent(),v={error:p},[3,14];case 13:try{l&&!l.done&&(b=o.return)&&b.call(o)}finally{if(v)throw v.error}return[7];case 14:return[3,16];case 15:throw(h=n.sent())instanceof u.DataParserError&&(y=e.getCursorPositionInfo(),h.fullMessage=h.message+', dataLink: "'+y+'" at position '+e.getCurrentIndex(),e.isEnd()&&(h.fullMessage+=" (out of the string)"),h.data=r.data),console.error(h),h;case 16:return[2,t]}}))}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(2),u=t(20),s=o(t(21));e.default=function(r){var e,t,o,c,l,f,d,p,h;return n(this,(function(n){switch(n.label){case 0:if(e=r.dataLink,t=e.getCurrentValue(),o=[],"["!==t[1])throw new i.DataParserError(i.DataParserError.ERRORS.ITERATOR_ERROR);if("]"===t[2])return e.getNextValue(),[2,[]];n.label=1;case 1:n.trys.push([1,9,10,11]),c=a(e),l=c.next(),n.label=2;case 2:if(l.done)return[3,8];switch(t=l.value,t[1]){case"[":return[3,3];case",":return[3,4]}return[3,6];case 3:if(" "===t[2]&&(s.default(r),t=e.getCurrentValue()),"]"===t[2])return[2,[]];n.label=4;case 4:if(" "===t[2]&&(s.default(r),t=e.getCurrentValue()),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(","===t[2])throw new i.DataParserError(i.DataParserError.ERRORS.ARRAY_VALUE);return t=e.getNextValue(),[5,a(u.valueParser(r,!0))];case 5:if(f=n.sent(),o.push(f)," "===(t=e.getCurrentValue())[2]&&(s.default(r),t=e.getCurrentValue()),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(","===t[2]||"]"===t[2])return[3,6];throw new i.DataParserError(i.DataParserError.ERRORS.ARRAY_VALUE);case 6:if("]"===t[2])return e.getNextValue(),[3,8];n.label=7;case 7:return l=c.next(),[3,2];case 8:return[3,11];case 9:return d=n.sent(),p={error:d},[3,11];case 10:try{l&&!l.done&&(h=c.return)&&h.call(c)}finally{if(p)throw p.error}return[7];case 11:return[2,o]}}))}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(2),u=o(t(8)),s=o(t(4)),c=o(t(26)),l=function(r,e){return void 0===e?e=r:e+=""+r,e};e.default=function(r,e){var t,o,f,d,p,h,y,v,b;return n(this,(function(n){switch(n.label){case 0:if(t=r.dataLink,o=t.getCurrentValue(),!0===e&&"["!==o[0]&&","!==o[0]&&" "!==o[0]||!1===e&&":"!==o[0]&&" "!==o[0]||void 0===e&&"("!==o[0]&&" "!==o[0])throw new i.DataParserError(i.DataParserError.ERRORS.ITERATOR_ERROR);n.label=1;case 1:n.trys.push([1,11,12,13]),d=a(t),p=d.next(),n.label=2;case 2:if(p.done)return[3,10];switch(o=p.value,o[1]){case" ":return[3,3];case"\\":return[3,4];case"@":case"$":case"{":case"[":case"`":case"(":return[3,5]}return[3,7];case 3:throw new i.DataParserError(i.DataParserError.ERRORS.DEFAULT);case 4:return f=l(t.getNextValue()),[3,8];case 5:return h=l,[5,a(u.default(r))];case 6:if(f=h.apply(void 0,[n.sent()]),t.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);return o=t.getCurrentValue(),[3,8];case 7:if(t.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(!s.default(o[1]))throw e?new i.DataParserError(i.DataParserError.ERRORS.ARRAY_VALUE):new i.DataParserError(i.DataParserError.ERRORS.OBJECT_VALUE);return f=(f||"")+l(o[1]),[3,8];case 8:switch(o[2]){case",":case"]":case" ":case"}":case")":return[2,c.default(f)]}n.label=9;case 9:return p=d.next(),[3,2];case 10:return[3,13];case 11:return y=n.sent(),v={error:y},[3,13];case 12:try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(v)throw v.error}return[7];case 13:throw new i.DataParserError(i.DataParserError.ERRORS.DEFAULT)}}))}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(2),u=o(t(8)),s=o(t(21)),c=t(20),l=function(r){var e,t,o,u,l,f,d,p,h,y;return n(this,(function(n){switch(n.label){case 0:if(e=r.dataLink,t=[],"("!==(o=e.getCurrentValue())[1])throw new i.DataParserError(i.DataParserError.ERRORS.ITERATOR_ERROR);n.label=1;case 1:n.trys.push([1,9,10,11]),u=a(e),l=u.next(),n.label=2;case 2:if(l.done)return[3,8];switch(o=l.value,o[1]){case"(":return[3,3];case",":return[3,4]}return[3,6];case 3:if(" "===o[2]&&(s.default(r),o=e.getCurrentValue()),")"===o[2])return[3,6];n.label=4;case 4:if(" "===o[2]&&(s.default(r),o=e.getCurrentValue()),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(","===o[2])throw new i.DataParserError(i.DataParserError.ERRORS.FUNCTION_ARGUMENTS);return o=e.getNextValue(),d=(f=t).push,[5,a(c.valueParser(r))];case 5:if(d.apply(f,[n.sent()])," "===(o=e.getCurrentValue())[2]&&(s.default(r),o=e.getCurrentValue()),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(","===o[2]||")"===o[2])return[3,6];throw new i.DataParserError(i.DataParserError.ERRORS.FUNCTION_ARGUMENTS);case 6:if(")"===o[2])return e.getNextValue(),[3,8];n.label=7;case 7:return l=u.next(),[3,2];case 8:return[3,11];case 9:return p=n.sent(),h={error:p},[3,11];case 10:try{l&&!l.done&&(y=u.return)&&y.call(u)}finally{if(h)throw h.error}return[7];case 11:return[2,t]}}))},f=function(r){var e,t,o,c,l,f,d,p,h,y;return n(this,(function(n){switch(n.label){case 0:if(e=r.dataLink,t="","("!==(o=e.getCurrentValue())[1])throw new i.DataParserError(i.DataParserError.ERRORS.ITERATOR_ERROR);if(" "===o[2]&&(s.default(r),o=e.getCurrentValue()),")"===o[2])return e.getNextValue(),[2,""];e.getNextValue(),n.label=1;case 1:n.trys.push([1,11,12,13]),c=a(e),l=c.next(),n.label=2;case 2:if(l.done)return[3,10];if(o=l.value,e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);switch(o[1]){case"@":case"$":case"{":case"[":case"`":case"(":return[3,3];case"\\":return[3,5];case" ":return[3,6]}return[3,7];case 3:return f=t,[5,a(u.default(r))];case 4:if(t=f+n.sent(),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);return o=e.getCurrentValue(),[3,8];case 5:return t+=o[2],o=e.getNextValue(),[3,8];case 6:if(d=" "," "===o[2]&&(d+=s.default(r),o=e.getCurrentValue(),e.isEnd()))throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);return")"===(o=e.getCurrentValue())[2]||(t+=d),[3,8];case 7:return t+=o[1],[3,8];case 8:if(")"===o[2])return e.getNextValue(),[3,10];n.label=9;case 9:return l=c.next(),[3,2];case 10:return[3,13];case 11:return p=n.sent(),h={error:p},[3,13];case 12:try{l&&!l.done&&(y=c.return)&&y.call(c)}finally{if(h)throw h.error}return[7];case 13:return[2,t]}}))};e.default=function(r,e){var t;return n(this,(function(n){switch(n.label){case 0:return e?[5,a(l(r))]:[3,2];case 1:return t=n.sent(),[3,4];case 2:return[5,a(f(r))];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},i=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(o(arguments[e]));return r},u=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(2),c=u(t(4)),l=t(8);e.default=function(r){var e,t,o,u,f,d,p,h,y,v,b,m;return n(this,(function(n){switch(n.label){case 0:if(e=r.dataLink,t=r.functions,"$"!==(o=e.getCurrentValue())[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if(!c.default(o[2]))throw new s.DataParserError(s.DataParserError.ERRORS.FUNCTION_NAMING);o=e.getNextValue(),u="";try{for(f=a(e),d=f.next();!d.done&&(o=d.value,u+=o[1],c.default(o[2]));d=f.next());}catch(r){b={error:r}}finally{try{d&&!d.done&&(m=f.return)&&m.call(f)}finally{if(b)throw b.error}}if("function"!=typeof(p=t[u])){if("("!==o[2]&&!e.isEnd()&&!c.default(o[2]))throw new s.DataParserError(s.DataParserError.ERRORS.FUNCTION_NAMING);throw new s.DataParserError(s.DataParserError.ERRORS.FUNCTION_UNKNOWN)}return"("!==o[2]?[3,2]:(e.getNextValue(),y=(h=p).apply,v=[void 0],[5,a(l.expressionParser(r,!0))]);case 1:return[2,y.apply(h,v.concat([i.apply(void 0,[n.sent()])]))];case 2:return[2,p]}}))}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var u=i(t(4)),s=t(2),c=i(t(8)),l=t(5),f=function(r,e){var t,i,f,h,y,v,b,m,E;return a(this,(function(a){switch(a.label){case 0:if(t=r.dataLink,i=r.defaultValue,f="","/"!==(h=t.getCurrentValue())[1]&&"@"!==h[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if(t.isEnd())return[2,e];t.getNextValue(),a.label=1;case 1:a.trys.push([1,12,13,14]),y=o(t),v=y.next(),a.label=2;case 2:if(v.done)return[3,11];switch(h=v.value,h[1]){case"<":return[3,3];case":":return[3,4];case"$":case"(":return[3,5];case"\\":return[3,7]}return[3,8];case 3:if("/"!==h[0])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_PART);return[2,p(r,e)];case 4:return f=d(r,e),[3,9];case 5:if("/"!==h[0]&&"@"!==h[0])throw new s.DataParserError(s.DataParserError.ERRORS.LINK);return[5,o(c.default(n(n({},r),{data:e})))];case 6:if("string"!=typeof(f=a.sent()))throw new s.DataParserError(s.DataParserError.ERRORS.LINK);return[3,9];case 7:if("string"!=typeof f)throw new s.DataParserError(s.DataParserError.ERRORS.LINK);if(" "===h[2])throw new s.DataParserError(s.DataParserError.ERRORS.LINK);return f+=h[2],t.getNextValue(),[3,9];case 8:if(!u.default(h[1]))throw new s.DataParserError(s.DataParserError.ERRORS.LINK);if("string"!=typeof f)throw new s.DataParserError(s.DataParserError.ERRORS.LINK);f+=h[1],a.label=9;case 9:if(h=t.getCurrentValue(),t.isEnd()||"/"===h[2]||"\\"!==h[2]&&!u.default(h[2]))return[3,11];a.label=10;case 10:return v=y.next(),[3,2];case 11:return[3,14];case 12:return b=a.sent(),m={error:b},[3,14];case 13:try{v&&!v.done&&(E=y.return)&&E.call(y)}finally{if(m)throw m.error}return[7];case 14:if("string"!=typeof f)throw new s.DataParserError(s.DataParserError.ERRORS.LINK);return l.isObject(e)||Array.isArray(e)?f&&/^\d+$/.test(f)&&Array.isArray(e)?[2,e[Number(f)]||i]:f&&l.isObject(e)?[2,void 0===e[f]?i:e[f]]:[2,i]:[2,i]}}))},d=function(r,e){var t,n,a=r.dataLink,i=r.defaultValue,c=r.tokens,f=void 0===c?{}:c,d="",p=a.getCurrentValue();if(":"!==p[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if("/"!==p[0]&&"@"!==p[0]||a.isEnd()||"\\"!==p[2]&&!u.default(p[2]))throw new s.DataParserError(s.DataParserError.ERRORS.LINK);a.getNextValue();try{for(var h=o(a),y=h.next();!y.done&&(d+=(p=y.value)[1],!a.isEnd()&&("\\"===p[2]||"/"!==p[2]&&u.default(p[2])));y=h.next());}catch(r){t={error:r}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}var v=d&&Object.prototype.hasOwnProperty.call(f,d)?f[d]:0;if(!l.isObject(e)&&!Array.isArray(e))return console.warn("Error: The data should be an object or an array!"),i;var b=e[v];return void 0===b?i:b},p=function(r,e){var t,n,a=r.dataLink,i="",c=a.getCurrentValue();if(!Array.isArray(e))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_NOT_ARRAY_DATA);if("<"!==c[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);if(">"===c[2]||"/"!==c[0])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_EMPTY);a.getNextValue();try{for(var l=o(a),f=l.next();!f.done;f=l.next()){if(c=f.value,!u.default(c[1]))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_NAME);if(i+=c[1],">"===c[2])break}}catch(r){t={error:r}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if("/"===(c=a.getNextValue())[2])throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_LAST);if(u.default(c[2]))throw new s.DataParserError(s.DataParserError.ERRORS.INDEX_PART);for(var d in e)e[d][i]=d;return e};e.default=function(r){var e,t,n,i,c,l,d,p,h,y;return a(this,(function(a){switch(a.label){case 0:if(e=r.dataLink,t=r.data,n=r.rootData,"@"!==(i=e.getCurrentValue())[1])throw new s.DataParserError(s.DataParserError.ERRORS.ITERATOR_ERROR);c=t,"/"===i[2]&&(c=n,e.getNextValue()),a.label=1;case 1:a.trys.push([1,8,9,10]),l=o(e),d=l.next(),a.label=2;case 2:return d.done?[3,7]:"/"!==(i=d.value)[1]&&"@"!==i[1]?[3,4]:[5,o(f(r,c))];case 3:return c=a.sent(),[3,5];case 4:throw new s.DataParserError(s.DataParserError.ERRORS.LINK);case 5:if(i=e.getCurrentValue(),e.isEnd()||"/"!==i[2]&&!u.default(i[2]))return[3,7];a.label=6;case 6:return d=l.next(),[3,2];case 7:return[3,10];case 8:return p=a.sent(),h={error:p},[3,10];case 9:try{d&&!d.done&&(y=l.return)&&y.call(l)}finally{if(h)throw h.error}return[7];case 10:return[2,c]}}))}},function(r,e,t){"use strict";var n=this&&this.__generator||function(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(r,i)}catch(r){o=[6,r],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(2),u=t(20),s=o(t(4)),c=o(t(8)),l=Symbol("NotDefined"),f=function(r){var e,t,o,u,l,f,d,p,h;return n(this,(function(n){switch(n.label){case 0:e=r.dataLink,t="",n.label=1;case 1:n.trys.push([1,10,11,12]),o=a(e),u=o.next(),n.label=2;case 2:if(u.done)return[3,9];if("{"===(l=u.value)[1]||"}"===l[1])throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);switch(l[1]){case"(":case"@":case"$":return[3,3];case"\\":return[3,5]}return[3,6];case 3:return[5,a(c.default(r))];case 4:if("string"!=typeof(f=n.sent()))throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_KEY_STRING);return t+=f,l=e.getCurrentValue(),[3,7];case 5:return l=e.getNextValue(),t+=l[1],[3,7];case 6:if("/"!==l[1]&&!s.default(l[1]))throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_KEY);t+=l[1],n.label=7;case 7:if(e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if(":"===l[2]||" "===l[2])return[3,9];n.label=8;case 8:return u=o.next(),[3,2];case 9:return[3,12];case 10:return d=n.sent(),p={error:d},[3,12];case 11:try{u&&!u.done&&(h=o.return)&&h.call(o)}finally{if(p)throw p.error}return[7];case 12:return[2,t]}}))};e.default=function(r){var e,t,o,s,c,d,p,h,y,v;return n(this,(function(n){switch(n.label){case 0:if(e=r.dataLink,t=e.getCurrentValue(),o={},s=l,c=l,"{"!==t[1])throw new i.DataParserError(i.DataParserError.ERRORS.ITERATOR_ERROR);n.label=1;case 1:n.trys.push([1,11,12,13]),d=a(e),p=d.next(),n.label=2;case 2:if(p.done)return[3,10];switch(t=p.value,t[1]){case",":case"{":return[3,3];case":":return[3,5]}return[3,7];case 3:if(" "===t[2]&&(u.spaceSkipping(r),t=e.getCurrentValue()),e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);return e.getNextValue(),[5,a(f(r))];case 4:if(s=n.sent()," "===(t=e.getCurrentValue())[2]&&(u.spaceSkipping(r),t=e.getCurrentValue()),e.isEnd()||":"!==t[2])throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_KEY);return[3,8];case 5:if(" "===t[2]&&(u.spaceSkipping(r),t=e.getCurrentValue()),e.isEnd()||","===t[2]||"}"===t[2])throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_VALUE);return e.getNextValue(),[5,a(u.valueParser(r,!1))];case 6:if(c=n.sent(),!s||"string"!=typeof s)throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_KEY);if(o[s]=c," "===(t=e.getCurrentValue())[2]&&(u.spaceSkipping(r),t=e.getCurrentValue()),","===t[2]||"}"===t[2])return[3,8];throw new i.DataParserError(i.DataParserError.ERRORS.OBJECT_VALUE);case 7:throw new i.DataParserError(i.DataParserError.ERRORS.DEFAULT);case 8:if(e.isEnd())throw new i.DataParserError(i.DataParserError.ERRORS.NESTING);if("}"===t[2])return e.getNextValue(),[3,10];n.label=9;case 9:return p=d.next(),[3,2];case 10:return[3,13];case 11:return h=n.sent(),y={error:h},[3,13];case 12:try{p&&!p.done&&(v=d.return)&&v.call(d)}finally{if(y)throw y.error}return[7];case 13:return[2,o]}}))}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=t(2);e.default=function(r){var e,t,o=r.dataLink,i="",u=o.getCurrentValue();if("`"!==u[1])throw new a.DataParserError(a.DataParserError.ERRORS.ITERATOR_ERROR);o.getNextValue();try{for(var s=n(o),c=s.next();!c.done&&"`"!==(u=c.value)[1];c=s.next()){if("\\"===u[1]&&(u=o.getNextValue()),o.isEnd())throw new a.DataParserError(a.DataParserError.ERRORS.DEFAULT);i+=u[1]}}catch(r){e={error:r}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i}},function(r,e,t){"use strict";var n=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},a=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(n(arguments[e]));return r};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function r(e){if("string"!=typeof e||!e.trim())throw new Error("DataLink: The dataLink must be a not empty string!");this.string=e.trim(),this.processingString=a([r.START],this.string,[r.END]),this.reset()}return r.prototype.size=function(){return this.string.length},r.prototype.getCursorPositionInfo=function(){var r=this.string,e=this.getCurrentValue()[1],t=this.isEnd(),n=this.getCurrentIndex();return r.slice(0,n)+"*>"+e+"<*"+(t?"":r.slice(n+1,r.length))},r.prototype.getNextValue=function(){return this.pause?(this.pause=!1,this.currentValue):this.current>this.string.length?void 0:(this.current++,this.currentValue[0]=this.currentValue[1],this.currentValue[1]=this.currentValue[2],this.currentValue[2]=this.processingString[this.current+1],this.currentValue)},r.prototype.reset=function(){this.current=1,this.currentValue=[this.processingString[0],this.processingString[1],this.processingString[2]],this.iteratorValue={value:this.currentValue,done:!1}},r.prototype.getCurrentIndex=function(){return this.current?this.current-1:0},r.prototype.getCurrentValue=function(){return this.currentValue},r.prototype.isStart=function(){return this.currentValue[0]===r.START},r.prototype.isEnd=function(){return this.currentValue[2]===r.END},r.prototype.valueOf=function(){return this.string},r.prototype.toString=function(){return this.string},r.prototype.next=function(){return this.current>this.string.length?{value:void 0,done:!0}:(this.iteratorValue.value=this.getNextValue(),this.iteratorValue)},r.prototype[Symbol.iterator]=function(){return this.pause=!0,this},r.START="",r.END="",r}();e.default=o},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(10),a=new Map;e.default=function(r){if("string"!=typeof r||!r)throw new Error("getDataLink: Data link should be a non empty string!");return a.has(r)?a.get(r).reset():a.set(r,new n.DataLink(r)),a.get(r)}},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.awaitAll=void 0;var a=n(t(63));e.awaitAll=a.default},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(t(30)),o=n(t(19));e.default=function(r){for(var e=null,t=new Promise((function(r,t){e=t})),n=[],i=function(e){var t=r[e],i=new Promise((function(r){if(!(t instanceof Promise))throw new Error("SectionsComputation: chains must contain only promises.");t.then((function(e){r({status:"success",data:e})}),(function(e){var t="unknownError";switch(!0){case e instanceof a.default:t="validationError";break;case e instanceof o.default:t="breakError"}r({status:t,error:e})}))}));n.push(i)},u=0;u<r.length;u++)i(u);var s=Promise.all(n),c=Promise.race([t,s]);return{rejectCallback:e,promise:c}}},function(r,e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(0)),i=t(33),u=a(t(67)),s=t(14),c=t(3),l=t(5),f=a(t(7)),d=a(t(9)),p=a(t(71)),h=function(r){var e=r.parsedSchema,t=r.level,n=void 0===t?0:t;return o.default.createElement(b,{parsedSchema:e,level:n})},y=function(r){var e=r.parsedSchema,t=r.level,n=void 0===t?0:t;return o.default.createElement(p.default,{parsedSchema:e,level:n})},v=i.compose(i.branch((function(r){var e=r.context,t=r.parsedSchema;return!(e&&c.strictlyIsObject(e)&&t&&c.strictlyIsObject(t))}),i.renderNothing),i.withProps((function(r){var e=r.history,t=r.context,a=r.computations,i=r.parsedSchema,s=r.sectionComponents,c=r.level,p=void 0===c?0:c,v=n({},u.default.parse(e.location.search)),b=null!=i?i:{},m=b._type_,E=void 0===m?"":m,_=b._visible_,w=void 0===_||_,g=null!=i?i:{},O=g._sections_,P=void 0===O?[]:O,R=g._fields_,S=void 0===R?[]:R;if(!Array.isArray(P)||!Array.isArray(S))throw new Error("Sections: _sections_/_fields_ must be an array.");l.isDataLink(E)&&"string"!=typeof(E=f.default({dataLink:d.default(E),data:t,renderFunctions:a}))&&(console.error("[error] SectionEntry: _type_ must be a string."),E=""),l.isDataLink(w)&&(w=f.default({dataLink:d.default(w),data:t,renderFunctions:a}));var D=E&&E in s&&s[E]?s[E]:s.DefaultSection;if(!D)throw new Error("Sections: DefaultSection must be defined.");var j=[];P.length&&(j=P.map((function(r,e){return o.default.createElement(h,{parsedSchema:r,level:p+1,key:e})})));var x=[];return S.length&&(x=S.map((function(r,e){return o.default.createElement(y,{parsedSchema:r,level:p,key:e})}))),{tokenParams:v,visible:!!w,Comp:D,sections:j,fields:x}})),i.branch((function(r){return!r.visible}),i.renderNothing))((function(r){var e=r.parsedSchema,t=r.level,n=r.tokenParams,a=r.context,i=r.Comp,u=r.sections,s=r.fields,c=r.updateState,l=r.computations,f=r.styles;return o.default.createElement(i,{styles:f,context:a,parsedSchema:e,sections:u,fields:s,tokenParams:n,level:t||0,updateState:c,computations:l,ScopedSection:h,ScopedField:y})})),b=function(r){var e=r.parsedSchema,t=r.level;return o.default.createElement(s.SectionsContext.Consumer,null,(function(r){var n=r.computations,a=r.sectionComponents,i=r.fieldComponents,u=r.context,s=r.updateState,c=r.styles,l=r.history,f=r.location,d=r.match;return o.default.createElement(v,{styles:c,level:t,context:u,parsedSchema:e,updateState:s,computations:n,sectionComponents:a,fieldComponents:i,history:l,location:f,match:d})}))};e.default=b},function(r,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"==typeof window&&(t=window)}r.exports=t},function(r,e){r.exports=function(r){if(!r.webpackPolyfill){var e=Object.create(r);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(r,e,t){"use strict";const n=t(68),a=t(69),o=t(70);function i(r){if("string"!=typeof r||1!==r.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(r,e){return e.encode?e.strict?n(r):encodeURIComponent(r):r}function s(r,e){return e.decode?a(r):r}function c(r){const e=r.indexOf("#");return-1!==e&&(r=r.slice(0,e)),r}function l(r){const e=(r=c(r)).indexOf("?");return-1===e?"":r.slice(e+1)}function f(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&"string"==typeof r&&""!==r.trim()?r=Number(r):!e.parseBooleans||null===r||"true"!==r.toLowerCase()&&"false"!==r.toLowerCase()||(r="true"===r.toLowerCase()),r}function d(r,e){i((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const t=function(r){let e;switch(r.arrayFormat){case"index":return(r,t,n)=>{e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),e?(void 0===n[r]&&(n[r]={}),n[r][e[1]]=t):n[r]=t};case"bracket":return(r,t,n)=>{e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),e?void 0!==n[r]?n[r]=[].concat(n[r],t):n[r]=[t]:n[r]=t};case"comma":case"separator":return(e,t,n)=>{const a="string"==typeof t&&t.split("").indexOf(r.arrayFormatSeparator)>-1?t.split(r.arrayFormatSeparator).map(e=>s(e,r)):null===t?t:s(t,r);n[e]=a};default:return(r,e,t)=>{void 0!==t[r]?t[r]=[].concat(t[r],e):t[r]=e}}}(e),n=Object.create(null);if("string"!=typeof r)return n;if(!(r=r.trim().replace(/^[?#&]/,"")))return n;for(const a of r.split("&")){let[r,i]=o(e.decode?a.replace(/\+/g," "):a,"=");i=void 0===i?null:["comma","separator"].includes(e.arrayFormat)?i:s(i,e),t(s(r,e),i,n)}for(const r of Object.keys(n)){const t=n[r];if("object"==typeof t&&null!==t)for(const r of Object.keys(t))t[r]=f(t[r],e);else n[r]=f(t,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((r,e)=>{const t=n[e];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?r[e]=function r(e){return Array.isArray(e)?e.sort():"object"==typeof e?r(Object.keys(e)).sort((r,e)=>Number(r)-Number(e)).map(r=>e[r]):e}(t):r[e]=t,r},Object.create(null))}e.extract=l,e.parse=d,e.stringify=(r,e)=>{if(!r)return"";i((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const t=t=>e.skipNull&&null==r[t]||e.skipEmptyString&&""===r[t],n=function(r){switch(r.arrayFormat){case"index":return e=>(t,n)=>{const a=t.length;return void 0===n||r.skipNull&&null===n||r.skipEmptyString&&""===n?t:null===n?[...t,[u(e,r),"[",a,"]"].join("")]:[...t,[u(e,r),"[",u(a,r),"]=",u(n,r)].join("")]};case"bracket":return e=>(t,n)=>void 0===n||r.skipNull&&null===n||r.skipEmptyString&&""===n?t:null===n?[...t,[u(e,r),"[]"].join("")]:[...t,[u(e,r),"[]=",u(n,r)].join("")];case"comma":case"separator":return e=>(t,n)=>null==n||0===n.length?t:0===t.length?[[u(e,r),"=",u(n,r)].join("")]:[[t,u(n,r)].join(r.arrayFormatSeparator)];default:return e=>(t,n)=>void 0===n||r.skipNull&&null===n||r.skipEmptyString&&""===n?t:null===n?[...t,u(e,r)]:[...t,[u(e,r),"=",u(n,r)].join("")]}}(e),a={};for(const e of Object.keys(r))t(e)||(a[e]=r[e]);const o=Object.keys(a);return!1!==e.sort&&o.sort(e.sort),o.map(t=>{const a=r[t];return void 0===a?"":null===a?u(t,e):Array.isArray(a)?a.reduce(n(t),[]).join("&"):u(t,e)+"="+u(a,e)}).filter(r=>r.length>0).join("&")},e.parseUrl=(r,e)=>({url:c(r).split("?")[0]||"",query:d(l(r),e)}),e.stringifyUrl=(r,t)=>{const n=c(r.url).split("?")[0]||"",a=e.extract(r.url),o=e.parse(a),i=function(r){let e="";const t=r.indexOf("#");return-1!==t&&(e=r.slice(t)),e}(r.url),u=Object.assign(o,r.query);let s=e.stringify(u,t);return s&&(s="?"+s),`${n}${s}${i}`}},function(r,e,t){"use strict";r.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,r=>"%"+r.charCodeAt(0).toString(16).toUpperCase())},function(r,e,t){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(r,e){try{return decodeURIComponent(r.join(""))}catch(r){}if(1===r.length)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],o(t),o(n))}function i(r){try{return decodeURIComponent(r)}catch(a){for(var e=r.match(n),t=1;t<e.length;t++)e=(r=o(e,t).join("")).match(n);return r}}r.exports=function(r){if("string"!=typeof r)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch(e){return function(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=a.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch(r){var n=i(t[0]);n!==t[0]&&(e[t[0]]=n)}t=a.exec(r)}e["%C2"]="�";for(var o=Object.keys(e),u=0;u<o.length;u++){var s=o[u];r=r.replace(new RegExp(s,"g"),e[s])}return r}(r)}}},function(r,e,t){"use strict";r.exports=(r,e)=>{if("string"!=typeof r||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[r];const t=r.indexOf(e);return-1===t?[r]:[r.slice(0,t),r.slice(t+e.length)]}},function(r,e,t){"use strict";var n=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(0)),i=t(33),u=t(14),s=t(3),c=t(5),l=a(t(7)),f=a(t(9)),d=t(29),p={_onBlur_:"onBlur",_onChange_:"onChange",_onClick_:"onClick"},h=i.compose(i.branch((function(r){var e=r.context,t=r.parsedSchema;return s.isEmpty(e)||s.isEmpty(t)}),i.renderNothing),i.withStateHandlers({loading:!1},{setLoadingState:function(){return function(r){return{loading:!!r}}}}),i.withPropsOnChange(["context","parsedSchema"],(function(r){var e,t,a=r.context,o=void 0===a?{}:a,i=r.parsedSchema,u=r.updateState,s=r.match,h=r.location,y=r.fieldComponents,v=r.computations,b=r.loading,m=null!=i?i:{},E=m._objectId_,_=void 0===E?0:E,w=m._value_,g=void 0===w?"":w,O=m._visible_,P=void 0===O||O,R=m._computations_,S=void 0===R?{}:R,D=(S._initial_,S._before_,S._handlers_),j=void 0===D?{}:D,x=S._after_,k=void 0===x?[]:x;S._unmount_;if(_&&!Number.isInteger(_))throw new Error("[error] SectionField: _objectId_ must be a number.");var N=(null!=i?i:{})._type_,C=void 0===N?"":N;if(!Array.isArray(k))throw new Error("[error] SectionField: _after_ must be an array.");var A="string"==typeof P?d.simpleDataParser({dataLink:P,data:o,renderFunctions:v}):!!P;c.isDataLink(C)&&"string"!=typeof(C=l.default({dataLink:f.default(C),data:o,renderFunctions:v}))&&(console.error("[error] SectionField: _type_ must be a string."),C="");var L=C&&C in y?y[C]:y.DefaultField;if(!L)throw new Error("[error] SectionField: DefaultField must be defined.");var T={},V=function(r){if(!(r in p))return"continue";var e=j[r];e=Array.isArray(e)?e:[e],T[p[r]]=function(r){return u(function(r,e,t,n,a,o,i,u){return{value:{dataLink:r&&"@"+r.replace(/@?\\/g,""),value:e},currentSchemaObject:t,actions:n,after:a,context:o,match:i,location:u}}(g,r.target.value,i,e,k,o,s,h))}};try{for(var I=n(Object.getOwnPropertyNames(j)),F=I.next();!F.done;F=I.next()){V(F.value)}}catch(r){e={error:r}}finally{try{F&&!F.done&&(t=I.return)&&t.call(I)}finally{if(e)throw e.error}}var M=(o?o[Symbol.for(String(_))]||{}:void 0).errors;return{visible:A,handlers:T,errors:M,loading:b,Comp:L}})),i.branch((function(r){return!r.visible}),i.renderNothing))((function(r){var e=r.parsedSchema,t=r.level,n=r.context,a=r.handlers,i=r.errors,u=r.Comp,s=r.computations,c=r.loading,l=r.styles;return o.default.createElement(u,{styles:l,loading:c,context:n,handlers:a,errors:i,parsedSchema:e,level:t||0,computations:s})}));e.default=function(r){var e=r.parsedSchema;return o.default.createElement(u.SectionsContext.Consumer,null,(function(r){var t=r.computations,n=r.sectionComponents,a=r.fieldComponents,i=r.context,u=r.updateState,s=r.styles,c=r.history,l=r.location,f=r.match;return o.default.createElement(h,{styles:s,context:i,parsedSchema:e,updateState:u,computations:t,sectionComponents:n,fieldComponents:a,history:c,location:l,match:f})}))}},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&n(e,r,t);return a(e,r),e};Object.defineProperty(e,"__esModule",{value:!0}),e.v5=o(t(31)),e.v4=o(t(24))},function(r,e,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(r,e,t,n){void 0===n&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){void 0===n&&(n=t),r[n]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&n(e,r,t);return a(e,r),e};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.v1=void 0;var i=o(t(7));e.v1=i;var u=o(t(10));e.v2=u}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL3NyYy9kYXRhX3BhcnNlci91dGlscy9kYXRhX3BhcnNlcl9lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9wYXJzZXIvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3V0aWxzL2luX2FsbG93ZWRfc3ltYm9scy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9oZWxwZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YxL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2hlbHBlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfcGFyc2VyL3V0aWxzL2RhdGFfbGlua19jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92Mi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZGVlcF9jb3B5LnRzIiwid2VicGFjazovLy8uL3NyYy9zZWN0aW9ucy92NC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdXRpbHMvaXNfb2JqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YxL2hlbHBlcnMvZ2VuZXJhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9oZWxwZXJzL2dlbmVyYWwvc3BhY2Vfc2tpcHBpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXB1dGF0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcHV0YXRpb25zL2hhbmRsZXIvZXJyb3JzL2JyZWFrX3Byb21pc2VfY2hhaW5fZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdjIvaGVscGVycy9nZW5lcmFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2hlbHBlcnMvZ2VuZXJhbC9zcGFjZV9za2lwcGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hhbmdlLWVtaXR0ZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9kZWVwX21lcmdlLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX3BhcnNlci92NC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9kYXRhX2xpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdXRpbHMvcHJpbWl0aXZlc19jb252ZXJ0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXB1dGF0aW9ucy9hc3luY19jb21wdXRhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXB1dGF0aW9ucy9leHBlcmltZW50YWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfcGFyc2VyL3Y0L3NpbXBsZV9kYXRhX3BhcnNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcHV0YXRpb25zL2hhbmRsZXIvZXJyb3JzL3ZhbGlkYXRpb25fZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfcGFyc2VyL3Y1L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX3BhcnNlci91dGlscy9ydW5fYXN5bmNfZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVjb21wb3NlL2Rpc3QvUmVjb21wb3NlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVjb21wb3NlL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9kaXN0L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzLmNqcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9wYXRjaGVzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VjdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdXRpbHMvaXNfZGF0YV9saW5rLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YxL2RhdGFfbGlua19wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdjEvaGVscGVycy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9oZWxwZXJzL2dlbmVyYWwvdmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdjEvaGVscGVycy9leHByZXNzaW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YxL2hlbHBlcnMvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdXRpbHMvY29udGV4dHVhbF9yZW5kZXJfZnVuY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YxL2hlbHBlcnMvbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9oZWxwZXJzL29iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92MS9oZWxwZXJzL3BsYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX3BhcnNlci91dGlscy9pbmNyZW1lbnRfZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wdXRhdGlvbnMvaGFuZGxlci92Mi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92Mi9kYXRhX2xpbmtfcGFyc2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2hlbHBlcnMvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfbGlua19wYXJzZXIvdjIvaGVscGVycy9nZW5lcmFsL3ZhbHVlLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2hlbHBlcnMvZXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92Mi9oZWxwZXJzL2Z1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2hlbHBlcnMvbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92Mi9oZWxwZXJzL29iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9saW5rX3BhcnNlci92Mi9oZWxwZXJzL3BsYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL3YyL2RhdGFfbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV9wYXJzZXIvdjUvdXRpbHMvZGF0YV9saW5rX2NhY2hlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wdXRhdGlvbnMvaGFuZGxlci91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcHV0YXRpb25zL2hhbmRsZXIvdXRpbHMvYXdhaXRfYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9zZWN0aW9ucy92NC9jb21wb25lbnRzL3NlY3Rpb25fZW50cnkudHN4Iiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0cmljdC11cmktZW5jb2RlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWNvZGUtdXJpLWNvbXBvbmVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3BsaXQtb24tZmlyc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3Rpb25zL3Y0L2NvbXBvbmVudHMvc2VjdGlvbl9maWVsZC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFfcGFyc2VyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhX2xpbmtfcGFyc2VyL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRhdGFQYXJzZXJFcnJvciIsIm1lc3NhZ2UiLCJkYXRhIiwiRXJyb3IiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiY29uc3RydWN0b3IiLCJFUlJPUlMiLCJEQVRBX0xJTktfVFlQRSIsIklURVJBVE9SX0VSUk9SIiwiVU5SRUFDSEFCTEVfUEFUSCIsIkZVTkNUSU9OX05BTUlORyIsIkZVTkNUSU9OX0FSR1VNRU5UUyIsIkZVTkNUSU9OX1VOS05PV04iLCJPQkpFQ1RfS0VZIiwiT0JKRUNUX0tFWV9TVFJJTkciLCJPQkpFQ1RfVkFMVUUiLCJBUlJBWV9WQUxVRSIsIlZBTFVFIiwiTkVTVElORyIsIkxJTksiLCJERUZBVUxUIiwiSU5ERVhfUEFSVCIsIklOREVYX0xBU1QiLCJJTkRFWF9OQU1FIiwiSU5ERVhfRU1QVFkiLCJJTkRFWF9OT1RfQVJSQVlfREFUQSIsInJ1bkFzeW5jR2VuZXJhdG9yIiwiZ2V0RGF0YUxpbmsiLCJ4IiwiY29kZSIsImNoYXJDb2RlQXQiLCJpc0RhdGFMaW5rIiwiaXNMaW5rIiwiaXNSb290TGluayIsImlzRnVuY3Rpb24iLCJpc0Z1bmN0aW9uQ2FsbCIsImlzRnVuY3Rpb25SZWYiLCJpc09iamVjdCIsImFycmF5UGFyc2VyIiwiZXhwcmVzc2lvblBhcnNlciIsImZ1bmN0aW9uUGFyc2VyIiwibGlua1BhcnNlciIsIm9iamVjdFBhcnNlciIsImVzY2FwZWRQbGFpblBhcnNlciIsInBhcmFtcyIsImRhdGFMaW5rIiwiZ2V0Q3VycmVudFZhbHVlIiwiRGF0YUxpbmsiLCJkYXRhTGlua1BhcnNlciIsInN5bWJvbCIsImRhdGFMaW5rTWFwIiwiTWFwIiwiZGF0YUxpbmtTdHJpbmciLCJoYXMiLCJyZXNldCIsInNldCIsImlzIiwieSIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzIiwia2V5c0IiLCJsZW5ndGgiLCJzZWxmIiwiZ2xvYmFsIiwicmVzdWx0IiwiZW1wdHlBcnJheUZsYWciLCJ0b1N0cmluZyIsImRlZXBDb3B5IiwicHJvcHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldFZhbHVlIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0UHJvdG90eXBlT2YiLCJBcnJheSIsImlzQXJyYXkiLCJjbG9uZSIsInB1c2giLCJjb25zb2xlIiwid2FybiIsImdldERlZXBDb3B5Q29uc3RydWN0b3IiLCJzb3VyY2UiLCJjb25zdHJ1Y3RvckJvZHkiLCJnZXRDb25zdHJ1Y3RvckJvZHkiLCJGdW5jdGlvbiIsImpvaW4iLCJwYXRoIiwiYXJyYXlMZXZlbCIsIlN0cmluZyIsIm5ld0tleSIsIlNlY3Rpb25zQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJ1cGRhdGVTdGF0ZSIsImNvbnRleHQiLCJmaWVsZENvbXBvbmVudHMiLCJzZWN0aW9uQ29tcG9uZW50cyIsInN0eWxlcyIsImNvbXB1dGF0aW9ucyIsImhpc3RvcnkiLCJsb2NhdGlvbiIsIm1hdGNoIiwic3RhdGUiLCJwYXJzZWRTY2hlbWEiLCJzY2hlbWEiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJzdGF0ZURhdGEiLCJzdGF0ZVNjaGVtYSIsInN0cmljdGx5SXNPYmplY3QiLCJyZW5kZXJGdW5jdGlvbnMiLCJidWlsdEluU3luY0NvbXB1dGF0aW9ucyIsInVwZGF0ZUNvbnRleHQiLCJzZXRTdGF0ZSIsInJlbmRlciIsImZ1bGxDb21wdXRhdGlvbnMiLCJidWlsdEluQXN5bmNDb21wdXRhdGlvbnMiLCJleHBlcmltZW50YWwiLCJzZWN0aW9uc0NvbnRleHRWYWx1ZSIsImdldEhhbmRsZXIiLCJQcm92aWRlciIsImxldmVsIiwiQ29tcG9uZW50IiwiVG9wU2VjdGlvbiIsIml0ZW0iLCJ2YWx1ZVBhcnNlciIsInNwYWNlU2tpcHBpbmciLCJjb3VudCIsImN1cnJlbnQiLCJyZXBlYXQiLCJpc0VxdWFsIiwiY29udHJvbCIsImFuZCIsImFyZ3MiLCJvciIsIm5vdCIsImlmQ29uZGl0aW9uIiwidGVzdCIsInRydWVTdGF0ZSIsImZhbHNlU3RhdGUiLCJvclZhbHVlIiwiYW5kVmFsdWUiLCJ0b051bWJlciIsInYiLCJOdW1iZXIiLCJpc05hTiIsImVycm9yIiwidG9Nb25leUZvcm1hdCIsInRvRml4ZWQiLCJ0b0Jvb2xlYW4iLCJCb29sZWFuIiwiaXNJblJhbmdlIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJmaXJzdExldHRlclVwcGVyQ2FzZSIsIndvcmQiLCJzdWJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRvTG93ZXJDYXNlIiwidW5kZXJTY29yZVRvQ2FtZWxDYXNlIiwic3BsaXQiLCJmaWx0ZXIiLCJtYXAiLCJ0b1VwcGVyY2FzZSIsInRvTG93ZXJjYXNlIiwiQnJlYWtQcm9taXNlQ2hhaW5FcnJvciIsImNyZWF0ZUNoYW5nZUVtaXR0ZXIiLCJjdXJyZW50TGlzdGVuZXJzIiwibmV4dExpc3RlbmVycyIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJzbGljZSIsImxpc3RlbiIsImxpc3RlbmVyIiwiaXNTdWJzY3JpYmVkIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZW1pdCIsImxpc3RlbmVycyIsImlzQXJyYXlPck9iamVjdCIsImdldE1lcmdlZERlc2NyaXB0b3JzIiwiZGVzdFByb3BzIiwic291cmNlUHJvcHMiLCJzb3VyY2VLZXlzIiwic291cmNlS2V5IiwibmV3VmFsdWUiLCJkZWVwTWVyZ2UiLCJkZXN0IiwibmV3QXJyYXkiLCJzaW1wbGVEYXRhUGFyc2VyIiwicGFyc2VTY2hlbWFGaWVsZHMiLCJEQVRBX09CSkVDVF9JRCIsImZvciIsIm9iamVjdElkR2VuZXJhdG9yIiwidGVtcGxhdGVJbmRleE5hbWVzIiwiZGF0YVBhcnNlciIsInJvb3REYXRhIiwiZGF0YVBhdGgiLCJzY2hlbWFQYXRoIiwic3dpdGNoZXIiLCJ0ZW1wbGF0ZVBhcnNlciIsInN0cmluZ1BhcnNlciIsImFyciIsIl9vYmplY3RJZF8iLCJ3cml0YWJsZSIsIl9pbmRleF8iLCJmaWVsZFBhcnNlciIsIl9zZWN0aW9uc18iLCJfZmllbGRzXyIsIl9kYXRhTGlua18iLCJfZGVmYXVsdERhdGFfIiwib3RoZXJzIiwibmV3RGF0YSIsImlzRW1wdHkiLCJwYXJzZURhdGFMaW5rIiwiX3ZhbHVlXyIsIl9jb21wdXRhdGlvbnNfIiwiY29tcHV0YXRpb25zUGFyc2VyIiwiX2hhbmRsZXJzXyIsIl9hZnRlcl8iLCJldmVudFR5cGVzIiwiZSIsImFjdGlvbnNQYXJzZXIiLCJhY3Rpb25zIiwiYWN0aW9uIiwibWV0YSIsInRva2VucyIsIl90ZW1wbGF0ZV8iLCJlbmRzV2l0aCIsInBvcCIsImluZGV4TmFtZSIsInNjaGVtYVRlbXBsYXRlIiwib2JqZWN0SWQiLCJuZXdEYXRhTGluayIsIm1lcmdlTGlua3MiLCJtaWRkbGUiLCJsaW5rIiwidGVtcGxhdGVEYXRhTGluayIsImN1cnJlbnRUZW1wbGF0ZUlkIiwiZGF0YUxpbmtJbnN0YW5jZSIsImxpbmtzIiwiY29udGFpbnNMaW5rcyIsImV4dHJhY3RMaW5rcyIsImxpbmtPYmoiLCJuZXdMaW5rIiwicmVwbGFjZVRva2VucyIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwiY29udGV4dEtleSIsInVuZGVmaW5lZCIsImVzY2FwZWRDb250ZXh0S2V5IiwicGFydHMiLCJnZXROZXdQYXJ0cyIsIm5ld1BhcnRzIiwicmVkdWNlIiwiYWNjIiwicGFydCIsInRva2VuIiwiaW5jbHVkZXMiLCJzaG91bGRCZUFkZGVkIiwicHVyZURhdGFMaW5rIiwidGVtcGxhdGVBZGRJbmZvIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZURlbGV0ZUluZm8iLCJzdHJpbmciLCJ0cmltIiwicHJvY2Vzc2luZ1N0cmluZyIsIlNUQVJUIiwiRU5EIiwic2l6ZSIsImdldEN1cnNvclBvc2l0aW9uSW5mbyIsImN1cnJlbnRTeW1ib2wiLCJpc0VuZCIsImdldEN1cnJlbnRJbmRleCIsImdldE5leHRWYWx1ZSIsInBhdXNlIiwiY3VycmVudFZhbHVlIiwiaXRlcmF0b3JWYWx1ZSIsImRvbmUiLCJpc1N0YXJ0IiwidmFsdWVPZiIsIm5leHQiLCJpdGVyYXRvciIsInR5cGVzIiwibnVsbCIsImZhbHNlIiwidHJ1ZSIsInN0ciIsImxvZyIsIm1hcmtlciIsImFkZGl0aW9uYWwiLCJpbnB1dCIsImVudiIsImJyZWFrQWN0aW9uIiwib3ZlcnJpZGVJbnB1dFZhbHVlIiwic2V0VmFsdWUiLCJydW5BY3Rpb24iLCJmdW5jIiwidGhlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiYXBwbHlGaWx0ZXJzIiwiZmlsdGVycyIsImRlYm91bmNlZFByb21pc2VzIiwiZGVib3VuY2UiLCJjb21wdXRhdGlvbiIsInRpbWUiLCJyZWplY3QiLCJpc0ludGVnZXIiLCJyZXNvbHZlUHJvbWlzZSIsImRlbGV0ZSIsInJlamVjdFByb21pc2UiLCJlcnIiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwicmVzIiwiZGVsYXkiLCJ0aW1lT3V0Iiwic2VjdGlvbnNEaWRNb3VudFByb2Nlc3NvciIsInByb2Nlc3NvciIsInNlY3Rpb25zIiwicHJvbWlzZXMiLCJuZXdTZWN0aW9ucyIsInJlc29sdmVGIiwicHJvbWlzZSIsIm5ld1NlY3Rpb25PYmplY3QiLCJhbGwiLCJwYXJzZWRTZWN0aW9ucyIsImNhdGNoIiwiZ2VuZXJhdG9yQ29tcHV0YXRpb24iLCJ2YWx1ZTIiLCJnZW5lcmF0b3JDb21wdXRhdGlvbjIiLCJzY2htIiwicGFyc2VLZXkiLCJWYWxpZGF0aW9uRXJyb3IiLCJNT0RFIiwiVVNFUl9TSEFMTE9XIiwiQ09SRV9TSEFMTE9XIiwiRlVMTF9TSEFMTE9XIiwiVVNFUl9ERUVQIiwiQ09SRV9ERUVQIiwiRlVMTF9ERUVQIiwibW9kZUNvZGUiLCJzdWJEYXRhIiwicGFyc2VkS2V5IiwiYXN5bmNEYXRhUGFyc2VyIiwiZGVmYXVsdERhdGEiLCJmdW5jdGlvbnMiLCJzeW5jRGF0YVBhcnNlciIsImdlbmVyYXRvciIsImdlbkRhdGFQYXJzZXIiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiX19wcm90b19fIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInByZXZTdGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0U3RhdGUiLCJwcmV2UHJvcHMiLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWciLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwicG9seWZpbGwiLCJpc1JlYWN0Q29tcG9uZW50IiwiZm91bmRXaWxsTW91bnROYW1lIiwiZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSIsImZvdW5kV2lsbFVwZGF0ZU5hbWUiLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudE5hbWUiLCJkaXNwbGF5TmFtZSIsIm5ld0FwaU5hbWUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJtYXliZVNuYXBzaG90Iiwic25hcHNob3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwiX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyIsInNldFN0YXRpYyIsIkJhc2VDb21wb25lbnQiLCJzZXREaXNwbGF5TmFtZSIsImdldERpc3BsYXlOYW1lIiwiQ29tcG9uZW50JCQxIiwid3JhcERpc3BsYXlOYW1lIiwiaG9jTmFtZSIsInByb3BzTWFwcGVyIiwicGljayIsIm9iaiIsInNob3VsZE1hcE9yS2V5cyIsInNob3VsZE1hcCIsIldpdGhQcm9wc09uQ2hhbmdlIiwiX0NvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsIl9rZXkiLCJjb25jYXQiLCJjb21wdXRlZFByb3BzIiwibWFwVmFsdWVzIiwiaGFuZGxlcnMiLCJXaXRoSGFuZGxlcnMiLCJfYXJncyIsImNyZWF0ZUhhbmRsZXIiLCJoYW5kbGVyIiwiRGVmYXVsdFByb3BzIiwib3duZXJQcm9wcyIsImRlZmF1bHRQcm9wcyIsInJlc3QiLCJvbGROYW1lIiwibmV3TmFtZSIsIl9leHRlbmRzMiIsIm5hbWVNYXAiLCJfIiwidmFsIiwicHJvcE5hbWUiLCJzdGF0ZU5hbWUiLCJzdGF0ZVVwZGF0ZXJOYW1lIiwiaW5pdGlhbFN0YXRlIiwiV2l0aFN0YXRlIiwic3RhdGVWYWx1ZSIsInVwZGF0ZVN0YXRlVmFsdWUiLCJ1cGRhdGVGbiIsImNhbGxiYWNrIiwiX3JlZiIsInN0YXRlVXBkYXRlcnMiLCJXaXRoU3RhdGVIYW5kbGVycyIsIm1heUJlRXZlbnQiLCJfbGVuMiIsIl9rZXkyIiwicGVyc2lzdCIsIm5vb3AiLCJkaXNwYXRjaE5hbWUiLCJyZWR1Y2VyIiwiV2l0aFJlZHVjZXIiLCJpbml0aWFsaXplU3RhdGVWYWx1ZSIsImRpc3BhdGNoIiwiX3Byb3RvIiwidHlwZSIsImlkZW50aXR5IiwibGVmdCIsInJpZ2h0IiwibGVmdEZhY3RvcnkiLCJyaWdodEZhY3RvcnkiLCJOb3RoaW5nIiwicmVuZGVyTm90aGluZyIsIlNob3VsZFVwZGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImhvYyIsInByb3BLZXlzIiwib25seVVwZGF0ZUZvclByb3BUeXBlcyIsInByb3BUeXBlcyIsImNoaWxkQ29udGV4dFR5cGVzIiwiZ2V0Q2hpbGRDb250ZXh0IiwiV2l0aENvbnRleHQiLCJjb250ZXh0VHlwZXMiLCJHZXRDb250ZXh0Iiwic3BlYyIsIkxpZmVjeWNsZSIsImZvckVhY2giLCJob29rIiwiaXNDbGFzc0NvbXBvbmVudCIsImJhc2VDb21wb25lbnQiLCJfY2xhc3MiLCJfdGVtcCIsIlRvQ2xhc3MiLCJjcmVhdGVFbGVtZW50IiwidG9SZW5kZXJQcm9wcyIsImNoaWxkcmVuIiwiUmVuZGVyUHJvcHNDb21wb25lbnQiLCJyZW5kZXJQcm9wTmFtZSIsImJhc2VGYWN0b3J5IiwiY3JlYXRlRmFjdG9yeSIsInJlbmRlclByb3BzRmFjdG9yeSIsIl9yZW5kZXJQcm9wc0ZhY3RvcnkiLCJzZXRQcm9wVHlwZXMiLCJjb21wb3NlIiwiZnVuY3MiLCJiIiwiYXJnIiwiU2luayIsIkNvbXBvbmVudHMiLCJmYWN0b3JpZXMiLCJOZXN0IiwicmVkdWNlUmlnaHQiLCJjaGlsZCIsImhpZ2hlck9yZGVyQ29tcG9uZW50IiwiYmxhY2tsaXN0IiwiTmV3Q29tcG9uZW50IiwiX2NvbmZpZyIsImZyb21FU09ic2VydmFibGUiLCJ0b0VTT2JzZXJ2YWJsZSIsImNvbmZpZ3VyZU9ic2VydmFibGUiLCJjb25maWciLCJvYnNlcnZhYmxlIiwic3RyZWFtIiwiY29uZmlnJCQxIiwicHJvcHNUb1Zkb20iLCJDb21wb25lbnRGcm9tU3RyZWFtIiwiX2NvbmZpZyRmcm9tRVNPYnNlcnZhIiwidmRvbSIsInByb3BzRW1pdHRlciIsInByb3BzJCIsInN1YnNjcmliZSIsIm9ic2VydmVyIiwidW5zdWJzY3JpYmUiLCJjb21wbGV0ZSIsInZkb20kIiwiX3RoaXMyIiwic3Vic2NyaXB0aW9uIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJjb21wb25lbnRGcm9tU3RyZWFtIiwiaWRlbnRpdHkkMSIsImNvbXBvbmVudEZyb21TdHJlYW0kJDEiLCJ0cmFuc2Zvcm0iLCJjaGlsZFByb3BzIiwibWFwUHJvcHNTdHJlYW0iLCJlbWl0dGVyIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiUkVBQ1RfU1RBVElDUyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJjYWxsZWUiLCJhcml0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm9iamVjdFByb3RvdHlwZSIsImhvaXN0Tm9uUmVhY3RTdGF0aWNzIiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiaW5oZXJpdGVkQ29tcG9uZW50IiwiZGVzY3JpcHRvciIsInN5bWJvbE9ic2VydmFibGVQb255ZmlsbCIsImlzR2VuZXJhdG9yIiwiaXNBc3luY0dlbmVyYXRvciIsImlzQXN5bmMiLCJmbGF0IiwiZGVwdGgiLCJNYXRoIiwiZmxvb3IiLCJpc0Jvb2xlYW4iLCJwb3NzaWJsZUJvb2xlYW4iLCJpc1N0cmluZyIsInBvc3NpYmxlU3RyaW5nIiwiaXNOdW1iZXIiLCJwb3NzaWJsZU51bWJlciIsInBvc3NpYmxlT2JqZWN0IiwiaXNFcnJvciIsInBvc3NpYmxlRXJyb3IiLCJwb3NzaWJsZUFycmF5IiwiaXNEYXRlIiwicG9zc2libGVEYXRlIiwiRGF0ZSIsInBvc3NpYmxlRnVuY3Rpb24iLCJpc1JlYWN0RWxlbWVudCIsImVsIiwiJCR0eXBlb2YiLCJidWlsZENsYXNzTmFtZXMiLCJjbGFzc05hbWUiLCJwcmVmaXgiLCJjTmFtZSIsImVudHJpZXMiLCJjb25kaXRpb24iLCJ0aW1lb3V0cyIsImRvTm90aGluZyIsImlzSWZyYW1lIiwid2luIiwicGFyZW50IiwidG9wIiwiZnJhbWVFbGVtZW50Iiwic2V0UmVzdWx0IiwibWFpblJlc3VsdCIsIkVyciIsImluZm8iLCJmdWxsTWVzc2FnZSIsImFycmF5Q29udGV4dCIsImZ1bmN0aW9uRXhwcmVzc2lvbiIsInNpbXBsZUV4cHJlc3Npb24iLCJzcGFjZXMiLCJmdW5jdGlvbkNvbnRleHQiLCJmdW5jdGlvbk5hbWUiLCJmIiwiaXNDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zIiwiZ2V0Q29udGV4dHVhbENvbnN0cnVjdG9yIiwiQ29udGV4dHVhbFJlbmRlckZ1bmN0aW9ucyIsInZhbHVlcyIsInNldFZhbHVlcyIsImpvaW5lZFJGIiwicmVhZExpbmtQYXJ0IiwiZGVmYXVsdFZhbHVlIiwiY29tcHV0ZWQiLCJyZWFkSW5kZXhOYW1lIiwicmVhZFRva2VuIiwibG9jYWxEYXRhIiwiTk9UX0RFRklORUQiLCJrZXlQYXJzZXIiLCJpbmNyZW1lbnRHZW5lcmF0b3IiLCJnZW4iLCJNQVhfU0FGRV9JTlRFR0VSIiwiZm9ybVByb21pc2VzIiwicnVuIiwiY29udHJvbFN0YXR1cyIsImFjdGlvbnNMaXN0IiwiY3VycmVudFNjaGVtYU9iamVjdCIsIl9mb3JtSWRfIiwiYnJlYWtDb250cm9scyIsImciLCJhY3Rpb25zSXRlcmF0b3IiLCJvdGhlclBhcmFtcyIsImJyZWFrTWFyayIsInRocm93IiwiYWN0IiwiY29tcHV0ZSIsImFmdGVyIiwibWFpblJlamVjdCIsIm5ld0NvbnRleHQiLCJjb21wdXRlQ2hhaW5zIiwiYWZ0ZXJBY3Rpb25zIiwicHJvY2VzcyIsImNsZWFyRXJyb3JzIiwid3JpdGVFcnJvcnMiLCJhbGxDaGFpbnMiLCJhd2FpdEFsbCIsInJlamVjdENhbGxiYWNrIiwicmVzdWx0cyIsInN0YXR1cyIsImNoYWlucyIsImlkcyIsImlkIiwiZmluYWxSZXNvbHZlIiwic2VydmljZUtleSIsInNlcnZpY2VPYmplY3QiLCJlcnJvcnMiLCJyZWplY3RDb250cm9sUHJvbWlzZSIsImNvbnRyb2xQcm9taXNlIiwiY2hhaW4iLCJhd2FpdFByb21pc2UiLCJtYWluUHJvbWlzZSIsInJhY2UiLCJTY29wZWRTZWN0aW9uIiwiU2VjdGlvbiIsIlNjb3BlZEZpZWxkIiwiU2VjdGlvbkVudHJ5IiwiYnJhbmNoIiwid2l0aFByb3BzIiwidG9rZW5QYXJhbXMiLCJwYXJzZSIsInNlYXJjaCIsIl90eXBlXyIsIl92aXNpYmxlXyIsIl9mIiwiQ29tcCIsImZpZWxkcyIsInZpc2libGUiLCJDb25zdW1lciIsIm9yaWdpbmFsTW9kdWxlIiwid2VicGFja1BvbHlmaWxsIiwic3RyaWN0VXJpRW5jb2RlIiwiZGVjb2RlQ29tcG9uZW50Iiwic3BsaXRPbkZpcnN0IiwidmFsaWRhdGVBcnJheUZvcm1hdFNlcGFyYXRvciIsIlR5cGVFcnJvciIsImVuY29kZSIsIm9wdGlvbnMiLCJzdHJpY3QiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWNvZGUiLCJyZW1vdmVIYXNoIiwiaGFzaFN0YXJ0IiwiZXh0cmFjdCIsInF1ZXJ5U3RhcnQiLCJwYXJzZVZhbHVlIiwicGFyc2VOdW1iZXJzIiwicGFyc2VCb29sZWFucyIsInNvcnQiLCJhcnJheUZvcm1hdCIsImFycmF5Rm9ybWF0U2VwYXJhdG9yIiwiZm9ybWF0dGVyIiwiYWNjdW11bGF0b3IiLCJleGVjIiwicGFyc2VyRm9yQXJyYXlGb3JtYXQiLCJyZXQiLCJwYXJhbSIsImsiLCJrZXlzU29ydGVyIiwic3RyaW5naWZ5Iiwic2hvdWxkRmlsdGVyIiwic2tpcE51bGwiLCJza2lwRW1wdHlTdHJpbmciLCJlbmNvZGVyRm9yQXJyYXlGb3JtYXQiLCJvYmplY3RDb3B5IiwicGFyc2VVcmwiLCJ1cmwiLCJxdWVyeSIsInN0cmluZ2lmeVVybCIsInF1ZXJ5RnJvbVVybCIsInBhcnNlZFF1ZXJ5RnJvbVVybCIsImhhc2giLCJnZXRIYXNoIiwicXVlcnlTdHJpbmciLCJzaW5nbGVNYXRjaGVyIiwiUmVnRXhwIiwibXVsdGlNYXRjaGVyIiwiZGVjb2RlQ29tcG9uZW50cyIsImNvbXBvbmVudHMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVkVVJJIiwicmVwbGFjZU1hcCIsImN1c3RvbURlY29kZVVSSUNvbXBvbmVudCIsInNlcGFyYXRvciIsInNlcGFyYXRvckluZGV4IiwiRVZFTlRTIiwiX29uQmx1cl8iLCJfb25DaGFuZ2VfIiwiX29uQ2xpY2tfIiwiU2VjdGlvbkZpZWxkIiwid2l0aFN0YXRlSGFuZGxlcnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZ1N0YXRlIiwid2l0aFByb3BzT25DaGFuZ2UiLCJfaW5pdGlhbF8iLCJfYmVmb3JlXyIsIl91bm1vdW50XyIsImV2ZW50VHlwZSIsInZhbHVlTGluayIsImdldFNldFN0YXRlUGFyYW1zIiwidjEiLCJ2MiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQ2hELEdBQXNCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsZUFDN0IsR0FBcUIsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFNBQVVKLE9BQ2QsQ0FDSixJQUFJTSxFQUF1QixpQkFBWkwsUUFBdUJELEVBQVFHLFFBQVEsVUFBWUgsRUFBUUQsRUFBWSxPQUN0RixJQUFJLElBQUlRLEtBQUtELEdBQXVCLGlCQUFaTCxRQUF1QkEsUUFBVUYsR0FBTVEsR0FBS0QsRUFBRUMsSUFQeEUsQ0FTR0MsUUFBUSxTQUFTQyxHQUNwQixPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVgsUUFHbkMsSUFBSUMsRUFBU1EsRUFBaUJFLEdBQVksQ0FDekNMLEVBQUdLLEVBQ0hDLEdBQUcsRUFDSFosUUFBUyxJQVVWLE9BTkFhLEVBQVFGLEdBQVVHLEtBQUtiLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNVLEdBRy9EVCxFQUFPVyxHQUFJLEVBR0pYLEVBQU9ELFFBMERmLE9BckRBVSxFQUFvQkssRUFBSUYsRUFHeEJILEVBQW9CTSxFQUFJUCxFQUd4QkMsRUFBb0JPLEVBQUksU0FBU2pCLEVBQVNrQixFQUFNQyxHQUMzQ1QsRUFBb0JVLEVBQUVwQixFQUFTa0IsSUFDbENHLE9BQU9DLGVBQWV0QixFQUFTa0IsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFVCxFQUFvQmUsRUFBSSxTQUFTekIsR0FDWCxv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LFdBQ1J5TyxFQUFNLFNBQ05tQixFQUFJLE9BQ0poakIsRUFBWSxlQUNaa25CLEVBQU8sVUFDUG5uQixFQUFNLFNBRU4sT0FDSSx3QkFBQ2lqQixFQUFJLENBQ0RqakIsT0FBUUEsRUFDUm1uQixRQUFTQSxFQUNUdG5CLFFBQVNBLEVBQ1R3VCxTQUFVQSxFQUNWeU8sT0FBUUEsRUFDUnhoQixhQUFjQSxFQUNkaUIsTUFBT0EsR0FBUyxFQUNoQnRCLGFBQWNBLE9BZ0oxQixVQWpDdUIsU0FBQyxHLElBQUVLLEVBQVksZUFDbEMsT0FDSSx3QkFBQyxFQUFBWixnQkFBZ0IwakIsU0FBUSxNQUNwQixTQUFDLEcsSUFDRW5qQixFQUFZLGVBQ1pGLEVBQWlCLG9CQUNqQkQsRUFBZSxrQkFDZkQsRUFBTyxVQUNQRCxFQUFXLGNBQ1hJLEVBQU0sU0FDTkUsRUFBTyxVQUNQQyxFQUFRLFdBQ1JDLEVBQUssUUFFTCxPQUNJLHdCQUFDNm1CLEVBQVksQ0FDVGpuQixPQUFRQSxFQUNSSCxRQUFTQSxFQUNUUyxhQUFjQSxFQUNkVixZQUFhQSxFQUNiSyxhQUFjQSxFQUNkRixrQkFBbUJBLEVBQ25CRCxnQkFBaUJBLEVBQ2pCSSxRQUFTQSxFQUNUQyxTQUFVQSxFQUNWQyxNQUFPQSxTLGtsQkM5TS9CLGNBQ0EsZSxtbUJDREEsY0FHUyxFQUFBd25CLEtBRlQsZUFFYSxFQUFBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSkgOiBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzNik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCJleHBvcnQgY29uc3QgRGF0YVBhcnNlckVycm9yID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBEYXRhUGFyc2VyRXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgICAgICBFcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRGF0YVBhcnNlckVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCAnRGF0YVBhcnNlckVycm9yJztcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gbWF5IG5vdCBleGlzdFxuICAgICAgICAgICAgdGhpcy5zdGFjayA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIERhdGFQYXJzZXJFcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBEYXRhUGFyc2VyRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIERhdGFQYXJzZXJFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEYXRhUGFyc2VyRXJyb3I7XG4gICAgcmV0dXJuIERhdGFQYXJzZXJFcnJvcjtcbn0pKCk7XG5cbkRhdGFQYXJzZXJFcnJvci5FUlJPUlMgPSB7XG4gICAgREFUQV9MSU5LX1RZUEU6ICdUaGUgZGF0YUxpbmsgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB0aGUgRGF0YUxpbmshJyxcbiAgICBJVEVSQVRPUl9FUlJPUjogJ0l0ZXJhdG9yIHZhbHVlIGlzIGluY29ycmVjdCcsXG4gICAgVU5SRUFDSEFCTEVfUEFUSDogJ1VucmVhY2hhYmxlIHBhdGgnLFxuICAgIEZVTkNUSU9OX05BTUlORzogJ0Z1bmN0aW9uIG5hbWluZyBlcnJvcicsXG4gICAgRlVOQ1RJT05fQVJHVU1FTlRTOiAnRnVuY3Rpb24gYXJndW1lbnRzIGVycm9yJyxcbiAgICBGVU5DVElPTl9VTktOT1dOOiAnVW5rbm93biBmdW5jdGlvbiBlcnJvcicsXG4gICAgT0JKRUNUX0tFWTogJ09iamVjdCBrZXkgZXJyb3InLFxuICAgIE9CSkVDVF9LRVlfU1RSSU5HOiAnT2JqZWN0IGtleSBpcyBub3QgYSBzdHJpbmcgZXJyb3InLFxuICAgIE9CSkVDVF9WQUxVRTogJ09iamVjdCB2YWx1ZSBlcnJvcicsXG4gICAgQVJSQVlfVkFMVUU6ICdBcnJheSB2YWx1ZSBlcnJvcicsXG4gICAgVkFMVUU6ICdPYmplY3QgLyBBcnJheSB2YWx1ZSBlcnJvcicsXG4gICAgTkVTVElORzogJ05lc3RpbmcgZXJyb3InLFxuICAgIExJTks6ICdMaW5rIHBhcnNpbmcgZXJyb3InLFxuICAgIERFRkFVTFQ6ICdEZWZhdWx0IHBhcnNlIGVycm9yJyxcbiAgICBJTkRFWF9QQVJUOiAnSW5kZXggc2hvdWxkIGJlIGEgcGFydCBvZiB0aGUgbGluaycsXG4gICAgSU5ERVhfTEFTVDogJ0luZGV4IHNob3VsZCBiZSB0aGUgbGFzdCBwYXJ0IG9mIHRoZSBsaW5rJyxcbiAgICBJTkRFWF9OQU1FOiAnSW5kZXggbmFtZSBjb250YWlucyBkaXNhbGxvd2VkIHN5bWJvbHMnLFxuICAgIElOREVYX0VNUFRZOiAnSW5kZXggbmFtZSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZycsXG4gICAgSU5ERVhfTk9UX0FSUkFZX0RBVEE6ICdPbmx5IGFycmF5IG1heSBiZSBpbmRleGVkJyxcbn07XG4iLCJpbXBvcnQgcnVuQXN5bmNHZW5lcmF0b3IgZnJvbSAnLi9ydW5fYXN5bmNfZ2VuZXJhdG9yLnRzJztcbmltcG9ydCBnZXREYXRhTGluayBmcm9tICcuL2RhdGFfbGlua19jYWNoZSc7XG5pbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuL2RhdGFfcGFyc2VyX2Vycm9yJztcblxuZXhwb3J0IHsgcnVuQXN5bmNHZW5lcmF0b3IsIGdldERhdGFMaW5rLCBEYXRhUGFyc2VyRXJyb3IgfTtcbiIsImltcG9ydCAnLi9wYXRjaGVzLmpzJzsgLy8gdG8gdXBncmFkZSByb290IHByb3RvdHlwZXMuXG5leHBvcnQgKiBmcm9tICcuL2RlZXBfbWVyZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9kZWVwX2NvcHknO1xuZXhwb3J0ICogZnJvbSAnLi91dGlscyc7XG4iLCIvKipcbiAqIENoZWNrcyB0aGF0IHRoZSBzeW1ib2wgaXMgZnJvbSB2YWxpZCByYW5nZXMuXG4gKiBAcGFyYW0geFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGluQWxsb3dlZFN5bWJvbHMgPSAoeCkgPT4ge1xuICAgIC8vIC9bYS16QS1aMC05X10vXG4gICAgY29uc3QgY29kZSA9IHguY2hhckNvZGVBdCgwKTtcbiAgICByZXR1cm4gKFxuICAgICAgICBjb2RlID49IDk3ICYmIGNvZGUgPD0gMTIyIC8qIFthLXpdICovIHx8XG4gICAgICAgIGNvZGUgPj0gNDggJiYgY29kZSA8PSA1NyAvKiBbMC05XSAqLyB8fFxuICAgICAgICBjb2RlID49IDY1ICYmIGNvZGUgPD0gOTAgLyogW0EtWl0gKi8gfHxcbiAgICAgICAgY29kZSA9PT0gOTUgLyogXyAqL1xuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbkFsbG93ZWRTeW1ib2xzO1xuIiwiaW1wb3J0IHtcbiAgICBpc0RhdGFMaW5rLFxuICAgIGlzTGluayxcbiAgICBpc1Jvb3RMaW5rLFxuICAgIGlzRnVuY3Rpb24sXG4gICAgaXNGdW5jdGlvbkNhbGwsXG4gICAgaXNGdW5jdGlvblJlZixcbn0gZnJvbSAnLi9pc19kYXRhX2xpbmsnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNfb2JqZWN0JztcblxuZXhwb3J0IHtcbiAgICBpc0RhdGFMaW5rLFxuICAgIGlzTGluayxcbiAgICBpc1Jvb3RMaW5rLFxuICAgIGlzT2JqZWN0LFxuICAgIGlzRnVuY3Rpb25DYWxsLFxuICAgIGlzRnVuY3Rpb25SZWYsXG4gICAgaXNGdW5jdGlvbixcbn07XG4iLCJpbXBvcnQgYXJyYXlQYXJzZXIgZnJvbSAnLi9hcnJheSc7XG5pbXBvcnQgZXhwcmVzc2lvblBhcnNlciBmcm9tICcuL2V4cHJlc3Npb24nO1xuaW1wb3J0IGZ1bmN0aW9uUGFyc2VyIGZyb20gJy4vZnVuY3Rpb24nO1xuaW1wb3J0IGxpbmtQYXJzZXIgZnJvbSAnLi9saW5rJztcbmltcG9ydCBvYmplY3RQYXJzZXIgZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IGVzY2FwZWRQbGFpblBhcnNlciBmcm9tICcuL3BsYWluJztcbmltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzL2RhdGFfcGFyc2VyX2Vycm9yJztcbmltcG9ydCBEYXRhTGluayBmcm9tICcuLi9kYXRhX2xpbmsnO1xuXG5leHBvcnQge1xuICAgIGFycmF5UGFyc2VyLFxuICAgIGV4cHJlc3Npb25QYXJzZXIsXG4gICAgZnVuY3Rpb25QYXJzZXIsXG4gICAgbGlua1BhcnNlcixcbiAgICBvYmplY3RQYXJzZXIsXG4gICAgZXNjYXBlZFBsYWluUGFyc2VyLFxufTtcblxuLyoqXG4gKiBUaGUgSW5kZXhQYXJzZXIgaXMgdGhlIG1haW4gcGFyc2VyIGNvbnRyb2xsZXJcbiAqIHRoYXQgZGVsZWdhdGVzIHRoZSBwYXJzaW5nIHByb2Nlc3MgdG8gb3RoZXIgcGFyc2Vycy5cbiAqIEBwYXJhbSB7UGFyc2VyUGFyYW1zfSBwYXJhbXNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5jb25zdCBpbmRleFBhcnNlciA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgaWYgKCEoZGF0YUxpbmsgaW5zdGFuY2VvZiBEYXRhTGluaykpXG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5EQVRBX0xJTktfVFlQRSk7XG4gICAgY29uc3Qgc3ltYm9sID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKClbMV07XG4gICAgc3dpdGNoIChzeW1ib2wpIHtcbiAgICAgICAgY2FzZSAnQCc6IC8vIGxpbmsgcGFydFxuICAgICAgICAgICAgcmV0dXJuIGxpbmtQYXJzZXIocGFyYW1zKTtcbiAgICAgICAgY2FzZSAnJCc6IC8vIGZ1bmN0aW9uIHBhcnRcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvblBhcnNlcihwYXJhbXMpO1xuICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RQYXJzZXIocGFyYW1zKTtcbiAgICAgICAgY2FzZSAnWyc6IC8vIGFycmF5IHBhcnRcbiAgICAgICAgICAgIHJldHVybiBhcnJheVBhcnNlcihwYXJhbXMpO1xuICAgICAgICBjYXNlICdgJzogLy8gZXNjYXBlZCBieSB0aGUgYGAgc3ltYm9scyBzdHJpbmcgcGFydFxuICAgICAgICAgICAgcmV0dXJuIGVzY2FwZWRQbGFpblBhcnNlcihwYXJhbXMpO1xuICAgICAgICBjYXNlICcoJzogLy8gZXhwcmVzc2lvbiBwYXJ0XG4gICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvblBhcnNlcihwYXJhbXMpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4UGFyc2VyO1xuIiwiaW1wb3J0IERhdGFMaW5rIGZyb20gJy4vZGF0YV9saW5rJztcbmltcG9ydCBkYXRhTGlua1BhcnNlciBmcm9tICcuL2RhdGFfbGlua19wYXJzZXInO1xuXG5leHBvcnQgeyBkYXRhTGlua1BhcnNlciwgRGF0YUxpbmsgfTtcblxuZXhwb3J0IGRlZmF1bHQgZGF0YUxpbmtQYXJzZXI7XG4iLCJpbXBvcnQgYXJyYXlQYXJzZXIgZnJvbSAnLi9hcnJheSc7XG5pbXBvcnQgZXhwcmVzc2lvblBhcnNlciBmcm9tICcuL2V4cHJlc3Npb24nO1xuaW1wb3J0IGZ1bmN0aW9uUGFyc2VyIGZyb20gJy4vZnVuY3Rpb24nO1xuaW1wb3J0IGxpbmtQYXJzZXIgZnJvbSAnLi9saW5rJztcbmltcG9ydCBvYmplY3RQYXJzZXIgZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IGVzY2FwZWRQbGFpblBhcnNlciBmcm9tICcuL3BsYWluJztcbmltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzJztcbmltcG9ydCB7IERhdGFMaW5rIH0gZnJvbSAnLi4vJztcblxuZXhwb3J0IHtcbiAgICBhcnJheVBhcnNlcixcbiAgICBleHByZXNzaW9uUGFyc2VyLFxuICAgIGZ1bmN0aW9uUGFyc2VyLFxuICAgIGxpbmtQYXJzZXIsXG4gICAgb2JqZWN0UGFyc2VyLFxuICAgIGVzY2FwZWRQbGFpblBhcnNlcixcbn07XG5cbi8qKlxuICogVGhlIEluZGV4UGFyc2VyIGlzIHRoZSBtYWluIHBhcnNlciBjb250cm9sbGVyXG4gKiB0aGF0IGRlbGVnYXRlcyB0aGUgcGFyc2luZyBwcm9jZXNzIHRvIG90aGVyIHBhcnNlcnMuXG4gKiBAcGFyYW0ge1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuY29uc3QgaW5kZXhQYXJzZXIgPSBmdW5jdGlvbiogKHBhcmFtcykge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBpZiAoIShkYXRhTGluayBpbnN0YW5jZW9mIERhdGFMaW5rKSlcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRBVEFfTElOS19UWVBFKTtcbiAgICBjb25zdCBzeW1ib2wgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKVsxXTtcbiAgICBzd2l0Y2ggKHN5bWJvbCkge1xuICAgICAgICBjYXNlICdAJzogLy8gbGluayBwYXJ0XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIGxpbmtQYXJzZXIocGFyYW1zKTtcbiAgICAgICAgY2FzZSAnJCc6IC8vIGZ1bmN0aW9uIHBhcnRcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogZnVuY3Rpb25QYXJzZXIocGFyYW1zKTtcbiAgICAgICAgY2FzZSAneyc6IC8vIG9iamVjdCBwYXJ0XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIG9iamVjdFBhcnNlcihwYXJhbXMpO1xuICAgICAgICBjYXNlICdbJzogLy8gYXJyYXkgcGFydFxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBhcnJheVBhcnNlcihwYXJhbXMpO1xuICAgICAgICBjYXNlICcoJzogLy8gZXhwcmVzc2lvbiBwYXJ0XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIGV4cHJlc3Npb25QYXJzZXIocGFyYW1zKTtcbiAgICAgICAgY2FzZSAnYCc6IC8vIGVzY2FwZWQgYnkgdGhlIGBgIHN5bWJvbHMgc3RyaW5nIHBhcnRcbiAgICAgICAgICAgIHJldHVybiBlc2NhcGVkUGxhaW5QYXJzZXIocGFyYW1zKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ERUZBVUxUKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleFBhcnNlcjtcbiIsImltcG9ydCB7IERhdGFMaW5rIH0gZnJvbSAnLi4vLi4vZGF0YV9saW5rX3BhcnNlci92MSc7XG5cbmNvbnN0IGRhdGFMaW5rTWFwID0gbmV3IE1hcCgpO1xuLyoqXG4gKlxuICogQHBhcmFtIGRhdGFMaW5rU3RyaW5nXG4gKiBAcmV0dXJuIERhdGFMaW5rXG4gKi9cbmNvbnN0IGdldERhdGFMaW5rID0gKGRhdGFMaW5rU3RyaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkYXRhTGlua1N0cmluZyAhPT0gJ3N0cmluZycgfHwgIWRhdGFMaW5rU3RyaW5nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldERhdGFMaW5rOiBEYXRhIGxpbmsgc2hvdWxkIGJlIGEgbm9uIGVtcHR5IHN0cmluZyEnKTtcbiAgICBpZiAoIWRhdGFMaW5rTWFwLmhhcyhkYXRhTGlua1N0cmluZykpIHtcbiAgICAgICAgZGF0YUxpbmtNYXAuc2V0KGRhdGFMaW5rU3RyaW5nLCBuZXcgRGF0YUxpbmsoZGF0YUxpbmtTdHJpbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhTGlua01hcC5nZXQoZGF0YUxpbmtTdHJpbmcpLnJlc2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhTGlua01hcC5nZXQoZGF0YUxpbmtTdHJpbmcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0RGF0YUxpbms7XG4iLCJpbXBvcnQgZGF0YUxpbmtQYXJzZXIgZnJvbSAnLi9kYXRhX2xpbmtfcGFyc2VyJztcbmltcG9ydCBEYXRhTGluayBmcm9tICcuL2RhdGFfbGluayc7XG5cbmV4cG9ydCB7IGRhdGFMaW5rUGFyc2VyLCBEYXRhTGluayB9O1xuXG5leHBvcnQgZGVmYXVsdCBkYXRhTGlua1BhcnNlcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gIGlmICh4ID09PSB5KSB7XG4gICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAvLyBBZGRlZCB0aGUgbm9uemVybyB5IGNoZWNrIHRvIG1ha2UgRmxvdyBoYXBweSwgYnV0IGl0IGlzIHJlZHVuZGFudFxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiaW1wb3J0IHsgUHJvY2Vzc2VkT2JqZWN0LCBQcmltaXRpdmVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBFeHRlbmRlZFByb3BlcnR5RGVzY3JpcHRvck1hcCB9IGZyb20gJ3R5cGVzL3R5cGVzJztcblxubGV0IGVtcHR5QXJyYXlGbGFnID0gZmFsc2U7XG50eXBlIFZhbHVlID0gUHJvY2Vzc2VkT2JqZWN0IHwgUHJpbWl0aXZlcyB8IHVua25vd25cbmludGVyZmFjZSBDb3B5Q2FsbGJhY2sge1xuICAgIChvYmplY3Q6IFByb2Nlc3NlZE9iamVjdCk6IFByb2Nlc3NlZE9iamVjdDtcbn1cblxuLyoqXG4gKiBJcyBkdXBsaWNhdGVkIGZvciBzdHJpbmdpZnkgcG9zc2liaWxpdHkuXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBpc09iamVjdCA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gPT5cbiAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqXG4gKiBTbG93IGFuZCBmbGV4aWJsZSBkZWVwIGNvcGllci5cbiAqL1xuY29uc3QgZGVlcENvcHkgPSAoZGF0YTogUHJvY2Vzc2VkT2JqZWN0KTogUHJvY2Vzc2VkT2JqZWN0ID0+IHtcbiAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcHJvcHM6IEV4dGVuZGVkUHJvcGVydHlEZXNjcmlwdG9yTWFwID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZGF0YSk7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcykpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBpKSkgY29udGludWU7XG4gICAgICAgICAgICBwcm9wc1tpXS52YWx1ZSA9IGdldFZhbHVlKHByb3BzW2ldLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBpKSkgY29udGludWU7XG4gICAgICAgICAgICBwcm9wc1tpXS52YWx1ZSA9IGdldFZhbHVlKHByb3BzW2ldLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSksIHByb3BzKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmU6IEFycmF5PFZhbHVlPiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZGF0YSkge1xuICAgICAgICAgICAgY2xvbmUucHVzaChnZXRWYWx1ZShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oJ1t3YXJuaW5nXSBkZWVwQ29weTogYW4gYXJyYXkgb3IgYW4gb2JqZWN0IG11c3QgYmUgcGFzc2VkIGZvciBwcm9jZXNzaW5nLicpO1xuICAgIHJldHVybiBkYXRhO1xufTtcblxuY29uc3QgZ2V0VmFsdWUgPSAodmFsdWU6IFZhbHVlKTogVmFsdWUgPT4ge1xuICAgIGlmIChpc09iamVjdCh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBDb3B5KDxQcm9jZXNzZWRPYmplY3Q+dmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuXG4vLyB0b2RvOiAxKSBhZGQgYSBwcm9jZXNzaW5nIHRoZSBuZXh0IHR5cGVzIG9mIG9iamVjdDogcmVnZXhwLCBkYXRlLCBtYXAsIHNldCwgZnVuY3Rpb24sIGdlbmVyYXRvciBhbmQgYm94ZWQgcHJpbWl0aXZlcy5cbi8vIHRvZG86IDIpIGFkZCBzeW1ib2wga2V5cyBwcm9jZXNzaW5nLlxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgY29uc3RydWN0b3IgdGhhdCBjYW4gYmUgdXNlZCB0byBjb3B5IG9iamVjdHMgdGhhdCBoYXZlIHRoZSBzYW1lIHN0cnVjdHVyZSBhcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogVGhlIGdpdmVuIGNvbnN0cnVjdG9yIGlzIHZlcnkgZmFzdCBidXQgaXMgbm90IGVmZmljaWVudCBvbiBpcnJlZ3VsYXIgc3RydWN0dXJlZCBvYmplY3RzIGluIGFycmF5cyBhbmQgZW1wdHkgYXJyYXlzIHRoYXQgY291bGQgYmUgZmlsbGVkIGxhdGVyLlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICogQGV4YW1wbGVcbiAqICAgbGV0IENvcHkgPSBnZXREZWVwQ29weUNvbnN0cnVjdG9yKHNvdXJjZSk7IC8vIHNob3VsZCBiZSBjcmVhdGVkIG9ubHkgYXQgb25jZVxuICogICBsZXQgZGVlcENvcGllZE9iamVjdCA9IG5ldyBDb3B5KHNvdXJjZU9yU291cmNlU2ltaWxhck9iamVjdCk7IC8vIHNob3VsZCBiZSB1c2VkIG1hbnkgdGltZXNcbiAqL1xuY29uc3QgZ2V0RGVlcENvcHlDb25zdHJ1Y3RvciA9IChzb3VyY2U6IFByb2Nlc3NlZE9iamVjdCk6IENvcHlDYWxsYmFjayA9PiB7XG4gICAgaWYgKCFpc09iamVjdChzb3VyY2UpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZXBDb3B5OiB0aGUgc291cmNlIHNob3VsZCBiZSBhbiBvYmplY3QhJyk7XG4gICAgY29uc3QgY29uc3RydWN0b3JCb2R5ID0gZ2V0Q29uc3RydWN0b3JCb2R5KHNvdXJjZSk7XG4gICAgaWYgKGVtcHR5QXJyYXlGbGFnKSB7XG4gICAgICAgIGNvbnN0cnVjdG9yQm9keS5wdXNoKFxuICAgICAgICAgICAgaXNPYmplY3QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGdldFZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBkZWVwQ29weS50b1N0cmluZygpXG4gICAgICAgICk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHJldHVybiA8Q29weUNhbGxiYWNrPihuZXcgRnVuY3Rpb24oJ3NvdXJjZScsIGNvbnN0cnVjdG9yQm9keS5qb2luKCcnKSkpO1xufTtcblxuY29uc3QgZ2V0Q29uc3RydWN0b3JCb2R5ID0gKCBzb3VyY2U6IFByb2Nlc3NlZE9iamVjdCwgcGF0aCA9ICcnLCBjb25zdHJ1Y3RvckJvZHk6IEFycmF5PHN0cmluZz4gPSBbXSwgYXJyYXlMZXZlbCA9IDApOiBBcnJheTxzdHJpbmc+ID0+IHtcbiAgICBpZiAoIXBhdGggJiYgIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWVwQ29weTogVGhlIHJvb3Qgc2hvdWxkIGJlIGFuIG9iamVjdCEnKTtcbiAgICB9XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgY29uc3RydWN0b3JCb2R5LnB1c2goXG4gICAgICAgICAgICAnaWYnLFxuICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgJyFuZXcudGFyZ2V0JyxcbiAgICAgICAgICAgICcpJyxcbiAgICAgICAgICAgICd0aHJvdyBuZXcgRXJyb3IoXCJEZWVwQ29weSBtdXN0IGJlIGludm9rZWQgd2l0aCB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yIVwiKScsXG4gICAgICAgICAgICAnOydcbiAgICAgICAgKTtcbiAgICAgICAgZW1wdHlBcnJheUZsYWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIGlmICghc291cmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgZW1wdHlBcnJheUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3RydWN0b3JCb2R5LnB1c2goXG4gICAgICAgICAgICAgICAgJ3RoaXMnLFxuICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICc9JyxcbiAgICAgICAgICAgICAgICAnZGVlcENvcHknLFxuICAgICAgICAgICAgICAgICcoJyxcbiAgICAgICAgICAgICAgICAnc291cmNlJyxcbiAgICAgICAgICAgICAgICAnLicsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAnKScsXG4gICAgICAgICAgICAgICAgJzsnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yQm9keTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheUxldmVsKys7XG4gICAgICAgIGNvbnN0cnVjdG9yQm9keS5wdXNoKCd0aGlzJywgJy4nLCBwYXRoLCAnPScsICdbJywgJ10nLCAnOycpO1xuICAgICAgICBjb25zdHJ1Y3RvckJvZHkucHVzaChcbiAgICAgICAgICAgICdmb3InLFxuICAgICAgICAgICAgJygnLFxuICAgICAgICAgICAgJ2xldCAnLFxuICAgICAgICAgICAgJ2knLFxuICAgICAgICAgICAgU3RyaW5nKGFycmF5TGV2ZWwpLFxuICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgJzAnLFxuICAgICAgICAgICAgJzsnLFxuICAgICAgICAgICAgJ2knLFxuICAgICAgICAgICAgU3RyaW5nKGFycmF5TGV2ZWwpLFxuICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgJ3NvdXJjZScsXG4gICAgICAgICAgICAnLicsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgJ2xlbmd0aCcsXG4gICAgICAgICAgICAnOycsXG4gICAgICAgICAgICAnaScsXG4gICAgICAgICAgICBTdHJpbmcoYXJyYXlMZXZlbCksXG4gICAgICAgICAgICAnKysnLFxuICAgICAgICAgICAgJyknLFxuICAgICAgICAgICAgJ3snXG4gICAgICAgICk7XG4gICAgICAgIC8vIEFuIGFycmF5IHdpdGggaWRlbnRpY2FsIHN0cnVjdHVyZWQgb2JqZWN0cyBpcyBleHBlY3RlZCxcbiAgICAgICAgLy8gc28gdGhhdCB3ZSB1c2Ugb25seSB0aGUgZmlyc3Qgb2JqZWN0IGZvciBib2R5IGdlbmVyYXRpb24uXG4gICAgICAgIGdldENvbnN0cnVjdG9yQm9keShcbiAgICAgICAgICAgIDxQcm9jZXNzZWRPYmplY3Q+IHNvdXJjZVswXSxcbiAgICAgICAgICAgIHBhdGggKyAnWycgKyAnaScgKyBhcnJheUxldmVsICsgJ10nLFxuICAgICAgICAgICAgY29uc3RydWN0b3JCb2R5LFxuICAgICAgICAgICAgYXJyYXlMZXZlbFxuICAgICAgICApO1xuICAgICAgICBjb25zdHJ1Y3RvckJvZHkucHVzaCgnfScpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgICBwYXRoICYmIGNvbnN0cnVjdG9yQm9keS5wdXNoKCd0aGlzJywgJy4nLCBwYXRoLCAnPScsICd7JywgJ30nLCAnOycpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qoc291cmNlW2tleV0pIHx8IEFycmF5LmlzQXJyYXkoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3S2V5ID0gcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgICAgICAgICAgICAgZ2V0Q29uc3RydWN0b3JCb2R5KHNvdXJjZVtrZXldLCBuZXdLZXksIGNvbnN0cnVjdG9yQm9keSwgYXJyYXlMZXZlbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQm9keS5wdXNoKCd0aGlzJyk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICBwYXRoICYmIGNvbnN0cnVjdG9yQm9keS5wdXNoKCcuJywgcGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3JCb2R5LnB1c2goJy4nLCBrZXksICc9JywgJ3NvdXJjZScpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgcGF0aCAmJiBjb25zdHJ1Y3RvckJvZHkucHVzaCgnLicsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQm9keS5wdXNoKCcuJywga2V5LCAnOycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAvLyBmcm9tIGFycmF5IHByb2Nlc3NpbmdcbiAgICAgICAgY29uc3RydWN0b3JCb2R5LnB1c2goJ3RoaXMnLCAnLicsIHBhdGgsICc9JywgJ3NvdXJjZScsICcuJywgcGF0aCwgJzsnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uc3RydWN0b3JCb2R5O1xufTtcblxuZXhwb3J0IHsgZGVlcENvcHksIGdldERlZXBDb3B5Q29uc3RydWN0b3IgfTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc2NoZW1hUGFyc2VyIGZyb20gJy4uLy4uL2RhdGFfcGFyc2VyL3Y0JztcbmltcG9ydCB7IGdldEhhbmRsZXIgfSBmcm9tICcuLi8uLi9jb21wdXRhdGlvbnMvaGFuZGxlci92Mic7XG5pbXBvcnQgeyBzdHJpY3RseUlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi9jb21wb25lbnRzL3NlY3Rpb25fZW50cnknO1xuaW1wb3J0ICogYXMgYnVpbHRJblN5bmNDb21wdXRhdGlvbnMgZnJvbSAnLi4vLi4vY29tcHV0YXRpb25zJztcbmltcG9ydCAqIGFzIGV4cGVyaW1lbnRhbCBmcm9tICcuLi8uLi9jb21wdXRhdGlvbnMvZXhwZXJpbWVudGFsJztcbmltcG9ydCAqIGFzIGJ1aWx0SW5Bc3luY0NvbXB1dGF0aW9ucyBmcm9tICcuLi8uLi9jb21wdXRhdGlvbnMvYXN5bmNfY29tcHV0YXRpb25zJztcbmltcG9ydCB7IFNlY3Rpb25JbnRlcmZhY2VzLCBEYXRhQ29udGV4dCB9IGZyb20gJ3R5cGVzL3R5cGVzJztcbmltcG9ydCBTZWN0aW9uVjQgPSBTZWN0aW9uSW50ZXJmYWNlcy52NC5TZWN0aW9uXG4vKipcbiAqIFRoaXMgY29udGV4dCBwcm92aWRlcyBmb3IgY29uc3VtZXJzIGFuIFwiaW1tdXRhYmxlXCIgb2JqZWN0IHdpdGggc29tZSBnZW5lcmFsIGRhdGEuXG4gKiBUaGlzIG9iamVjdCBpcyBuZXZlciBjaGFuZ2VkLCBidXQgaXQgY2FuIGNvbnRhaW4gYW5vdGhlciBkYXRhIGluIGEgZGVlcCBjYWxsLlxuICovXG5jb25zdCBTZWN0aW9uc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFNlY3Rpb25WNC5SZWFjdENvbnRleHRWYWx1ZT4oe1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICB1cGRhdGVTdGF0ZTogKCkgPT4ge30sXG4gICAgY29udGV4dDoge30sXG4gICAgZmllbGRDb21wb25lbnRzOiB7fSxcbiAgICBzZWN0aW9uQ29tcG9uZW50czoge30sXG4gICAgc3R5bGVzOiB7fSxcbiAgICBjb21wdXRhdGlvbnM6IHt9LFxuICAgIGhpc3Rvcnk6IHt9LFxuICAgIGxvY2F0aW9uOiB7fSxcbiAgICBtYXRjaDoge31cbn0pO1xuXG5jbGFzcyBUb3BTZWN0aW9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFNlY3Rpb25WNC5Ub3BQcm9wcywgU2VjdGlvblY0LlRvcFN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFNlY3Rpb25WNC5Ub3BQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgcGFyc2VkU2NoZW1hOiBudWxsLFxuICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgIHNjaGVtYTogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzOiBTZWN0aW9uVjQuVG9wUHJvcHMsIHN0YXRlOiBTZWN0aW9uVjQuVG9wU3RhdGUpOiBTZWN0aW9uVjQuVG9wU3RhdGUgfCBudWxsIHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBzY2hlbWEgfSA9IHByb3BzO1xuICAgICAgICBjb25zdCB7IGRhdGE6IHN0YXRlRGF0YSwgc2NoZW1hOiBzdGF0ZVNjaGVtYSB9ID0gc3RhdGU7XG4gICAgICAgIGlmIChkYXRhID09PSBzdGF0ZURhdGEgJiYgc2NoZW1hID09PSBzdGF0ZVNjaGVtYSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChzY2hlbWEgJiYgc3RyaWN0bHlJc09iamVjdChzY2hlbWEpICYmIGRhdGEgJiYgc3RyaWN0bHlJc09iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgeyBjb250ZXh0OiBuZXdDb250ZXh0LCBzY2hlbWE6IG5ld1NjaGVtYSB9ID0gc2NoZW1hUGFyc2VyKHtcbiAgICAgICAgICAgICAgICBkYXRhTGluazogc2NoZW1hLFxuICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25zOiBidWlsdEluU3luY0NvbXB1dGF0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbnRleHQ6IG5ld0NvbnRleHQsXG4gICAgICAgICAgICAgICAgcGFyc2VkU2NoZW1hOiBuZXdTY2hlbWEsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdXBkYXRlQ29udGV4dChjb250ZXh0OiBEYXRhQ29udGV4dCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29udGV4dCB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKTogSlNYLkVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29tcHV0YXRpb25zLFxuICAgICAgICAgICAgc2VjdGlvbkNvbXBvbmVudHMsXG4gICAgICAgICAgICBmaWVsZENvbXBvbmVudHMsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgc2NoZW1hLFxuICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgaGlzdG9yeSxcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgbWF0Y2hcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IGZ1bGxDb21wdXRhdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi5jb21wdXRhdGlvbnMsXG4gICAgICAgICAgICAuLi5idWlsdEluU3luY0NvbXB1dGF0aW9ucyxcbiAgICAgICAgICAgIC4uLmJ1aWx0SW5Bc3luY0NvbXB1dGF0aW9ucyxcbiAgICAgICAgICAgIC4uLmV4cGVyaW1lbnRhbCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBwYXJzZWRTY2hlbWEgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICghKGRhdGEgJiYgc3RyaWN0bHlJc09iamVjdChkYXRhKSAmJiBzY2hlbWEgJiYgc3RyaWN0bHlJc09iamVjdChzY2hlbWEpKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB1cGRhdGVTdGF0ZSA9IGdldEhhbmRsZXIoe1xuICAgICAgICAgICAgc2NoZW1hOiBwYXJzZWRTY2hlbWEsXG4gICAgICAgICAgICBjb21wdXRhdGlvbnM6IGZ1bGxDb21wdXRhdGlvbnMsXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogdGhpcy51cGRhdGVDb250ZXh0LmJpbmQodGhpcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzZWN0aW9uc0NvbnRleHRWYWx1ZTogU2VjdGlvblY0LlJlYWN0Q29udGV4dFZhbHVlID0ge1xuICAgICAgICAgICAgY29tcHV0YXRpb25zOiBmdWxsQ29tcHV0YXRpb25zLFxuICAgICAgICAgICAgc2VjdGlvbkNvbXBvbmVudHMsXG4gICAgICAgICAgICBmaWVsZENvbXBvbmVudHMsXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZSxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICBoaXN0b3J5LFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBtYXRjaFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFNlY3Rpb25zQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c2VjdGlvbnNDb250ZXh0VmFsdWV9PlxuICAgICAgICAgICAgICAgIDxTZWN0aW9uIHBhcnNlZFNjaGVtYT17cGFyc2VkU2NoZW1hfSBsZXZlbD17MH0gLz5cbiAgICAgICAgICAgIDwvU2VjdGlvbnNDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICApO1xuICAgIH1cbn1cbmV4cG9ydCB7IFNlY3Rpb25zQ29udGV4dCwgVG9wU2VjdGlvbiB9O1xuLy8gZXhwb3J0IGRlZmF1bHQgVG9wU2VjdGlvbjtcbiIsImV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChpdGVtKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVtKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzT2JqZWN0O1xuIiwiaW1wb3J0IHZhbHVlUGFyc2VyIGZyb20gJy4vdmFsdWUnO1xuaW1wb3J0IHNwYWNlU2tpcHBpbmcgZnJvbSAnLi9zcGFjZV9za2lwcGluZyc7XG5cbmV4cG9ydCB7IHZhbHVlUGFyc2VyLCBzcGFjZVNraXBwaW5nIH07XG4iLCJjb25zdCBzcGFjZVNraXBwaW5nID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSBjb250aW51ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAnICcucmVwZWF0KGNvdW50KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNwYWNlU2tpcHBpbmc7XG4iLCJleHBvcnQgKiBhcyBhc3luY0NvbXB1dGF0aW9ucyBmcm9tICcuL2FzeW5jX2NvbXB1dGF0aW9ucy5qcyc7XG5leHBvcnQgKiBhcyBleHBlcmltZW50YWxDb21wdXRhdGlvbnMgZnJvbSAnLi9leHBlcmltZW50YWwuanMnO1xuXG4vKiogdHJ1dGggaWYgdGhlIHBhc3NlZCB2YWx1ZXMgYXJlIHN0cmljdGx5IGVxdWFsICovXG5leHBvcnQgY29uc3QgaXNFcXVhbCA9ICh2YWx1ZSwgY29udHJvbCkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gY29udHJvbDtcbn07XG5cbi8qKiB0cnV0aCBpZiBhbGwgdmFsdWVzIGFyZSB0cnV0aCAqL1xuZXhwb3J0IGNvbnN0IGFuZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSBpZiAoIWFyZ3NbaV0pIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKiB0cnV0aCBpZiBhdCBsZWFzdCBvbmUgaXMgdHJ1dGggKi9cbmV4cG9ydCBjb25zdCBvciA9ICguLi5hcmdzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSBpZiAoYXJnc1tpXSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqIGJvb2xlYW4gaW52ZXJzaW9uICovXG5leHBvcnQgY29uc3Qgbm90ID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICF2YWx1ZTtcbn07XG5cbi8qKiBzaW1pbGFybHkgaW4gSlM6IGNvbmRpdGlvbiA/IHRydWVTdGF0ZSA6IGZhbHNlU3RhdGUgKi9cbmV4cG9ydCBjb25zdCBpZkNvbmRpdGlvbiA9ICh0ZXN0LCB0cnVlU3RhdGUsIGZhbHNlU3RhdGUpID0+IHtcbiAgICByZXR1cm4gdGVzdCA/IHRydWVTdGF0ZSA6IGZhbHNlU3RhdGU7XG59O1xuXG4vKiogc2ltaWxhcmx5IGluIEpTOiB2YWx1ZSB8fCB2YWx1ZSB8fCB2YWx1ZTsgKi9cbmV4cG9ydCBjb25zdCBvclZhbHVlID0gKC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoIC0gMTsgaSsrKSBpZiAoYXJnc1tpXSkgcmV0dXJuIGFyZ3NbaV07XG4gICAgcmV0dXJuIGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbn07XG5cbi8qKiBzaW1pbGFybHkgaW4gSlM6IHZhbHVlICYmIHZhbHVlICYmIHZhbHVlOyAqL1xuZXhwb3J0IGNvbnN0IGFuZFZhbHVlID0gKC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoIC0gMTsgaSsrKSBpZiAoIWFyZ3NbaV0pIHJldHVybiBhcmdzW2ldO1xuICAgIHJldHVybiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG59O1xuXG5leHBvcnQgY29uc3QgdG9OdW1iZXIgPSAodikgPT4ge1xuICAgIHYgPSBOdW1iZXIodik7XG4gICAgaWYgKE51bWJlci5pc05hTih2KSkge1xuICAgICAgICB2ID0gMDtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Vycm9yXSB0b051bWJlcjogdmFsdWUgbXVzdCBiZSBhIG51bWJlci4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59O1xuXG4vKiogZmxvYXQgbnVtYmVyIHdpdGggdHdvIGRlY2ltYWwgcGxhY2VzICovXG5leHBvcnQgY29uc3QgdG9Nb25leUZvcm1hdCA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIHRvTnVtYmVyKHYpLnRvRml4ZWQoMik7XG59O1xuXG5leHBvcnQgY29uc3QgdG9Cb29sZWFuID0gKHYpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbih2KTtcbn07XG5cbmV4cG9ydCBjb25zdCB0b1N0cmluZyA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIFN0cmluZyh2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0luUmFuZ2UgPSAoeyByYW5nZTogeyBtaW4sIG1heCB9IH0sIGNvbnRyb2wpID0+IHtcbiAgICByZXR1cm4gY29udHJvbCA+PSBtaW4gJiYgY29udHJvbCA8PSBtYXg7XG59O1xuXG5leHBvcnQgY29uc3QgZmlyc3RMZXR0ZXJVcHBlckNhc2UgPSAod29yZCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd29yZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignZmlyc3RMZXR0ZXJVcHBlckNhc2U6IHdvcmQgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgcmV0dXJuIHdvcmQ7XG4gICAgfVxuICAgIHJldHVybiB3b3JkLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0b1VwcGVyQ2FzZSA9ICh3b3JkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdmaXJzdExldHRlclVwcGVyQ2FzZTogd29yZCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAgICByZXR1cm4gd29yZDtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmQudG9VcHBlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmRlclNjb3JlVG9DYW1lbENhc2UgPSAod29yZCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd29yZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Vycm9yXSB1bmRlclNjb3JlT3RDYW1lbENhc2U6IHdvcmQgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgcmV0dXJuIHdvcmQ7XG4gICAgfVxuICAgIGNvbnN0IHBhcnRzID0gd29yZC5zcGxpdCgnXycpLmZpbHRlcihCb29sZWFuKTtcbiAgICByZXR1cm4gcGFydHMubWFwKCh2KSA9PiBmaXJzdExldHRlclVwcGVyQ2FzZSh2KSkuam9pbignJyk7XG59O1xuXG5leHBvcnQgY29uc3QgdG9VcHBlcmNhc2UgPSAod29yZCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd29yZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Vycm9yXSB0b1VwcGVyY2FzZTogd29yZCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAgICByZXR1cm4gd29yZDtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmQudG9VcHBlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0b0xvd2VyY2FzZSA9ICh3b3JkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZXJyb3JdIHRvVXBwZXJjYXNlOiB3b3JkIG11c3QgYmUgYSBzdHJpbmcuJyk7XG4gICAgICAgIHJldHVybiB3b3JkO1xuICAgIH1cbiAgICByZXR1cm4gd29yZC50b0xvd2VyQ2FzZSgpO1xufTtcbiIsImNsYXNzIEJyZWFrUHJvbWlzZUNoYWluRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnUHJvbWlzZSBjaGFpbiBpcyBicm9rZW4hJztcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCcmVha1Byb21pc2VDaGFpbkVycm9yO1xuIiwiaW1wb3J0IHZhbHVlUGFyc2VyIGZyb20gJy4vdmFsdWUnO1xuaW1wb3J0IHNwYWNlU2tpcHBpbmcgZnJvbSAnLi9zcGFjZV9za2lwcGluZyc7XG5cbmV4cG9ydCB7IHZhbHVlUGFyc2VyLCBzcGFjZVNraXBwaW5nIH07XG4iLCJjb25zdCBzcGFjZVNraXBwaW5nID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSBjb250aW51ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAnICcucmVwZWF0KGNvdW50KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNwYWNlU2tpcHBpbmc7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgY3JlYXRlQ2hhbmdlRW1pdHRlciA9IGV4cG9ydHMuY3JlYXRlQ2hhbmdlRW1pdHRlciA9IGZ1bmN0aW9uIGNyZWF0ZUNoYW5nZUVtaXR0ZXIoKSB7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXQoKSB7XG4gICAgY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShsaXN0ZW5lcnMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsaXN0ZW46IGxpc3RlbixcbiAgICBlbWl0OiBlbWl0XG4gIH07XG59OyIsImltcG9ydCB7IGRlZXBDb3B5IH0gZnJvbSAnLi9kZWVwX2NvcHknO1xuaW1wb3J0IHsgRXh0ZW5kZWRQcm9wZXJ0eURlc2NyaXB0b3JNYXAgfSBmcm9tICd0eXBlcy90eXBlcyc7XG5pbXBvcnQgeyBQcm9jZXNzZWRPYmplY3QgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgaXNPYmplY3QgPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuID0+XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmNvbnN0IGlzQXJyYXlPck9iamVjdCA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gPT5cbiAgICBpc09iamVjdCh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cbmNvbnN0IGdldFZhbHVlID0gKHZhbHVlOiB1bmtub3duKTogdW5rbm93biA9PlxuICAgIGlzQXJyYXlPck9iamVjdCh2YWx1ZSkgPyBkZWVwQ29weSg8UHJvY2Vzc2VkT2JqZWN0PnZhbHVlKSA6IHZhbHVlO1xuXG5jb25zdCBnZXRNZXJnZWREZXNjcmlwdG9ycyA9IChkZXN0UHJvcHM6IEV4dGVuZGVkUHJvcGVydHlEZXNjcmlwdG9yTWFwLCBzb3VyY2VQcm9wczogRXh0ZW5kZWRQcm9wZXJ0eURlc2NyaXB0b3JNYXAsIHNvdXJjZUtleXM6IEFycmF5PHN0cmluZz4gfCBBcnJheTxzeW1ib2w+KSA9PiB7XG4gICAgZm9yIChjb25zdCBzb3VyY2VLZXkgb2Ygc291cmNlS2V5cykge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2VQcm9wcywgc291cmNlS2V5KSkgY29udGludWU7XG4gICAgICAgIGlmICghZGVzdFByb3BzW3NvdXJjZUtleV0pIHtcbiAgICAgICAgICAgIGRlc3RQcm9wc1tzb3VyY2VLZXldID0ge1xuICAgICAgICAgICAgICAgIC4uLnNvdXJjZVByb3BzW3NvdXJjZUtleV0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGdldFZhbHVlKHNvdXJjZVByb3BzW3NvdXJjZUtleV0udmFsdWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBuZXdWYWx1ZTogdW5rbm93bjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhaXNBcnJheU9yT2JqZWN0KGRlc3RQcm9wc1tzb3VyY2VLZXldLnZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICFpc0FycmF5T3JPYmplY3Qoc291cmNlUHJvcHNbc291cmNlS2V5XS52YWx1ZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlUHJvcHNbc291cmNlS2V5XS52YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBkZWVwTWVyZ2UoXG4gICAgICAgICAgICAgICAgICAgIGRlc3RQcm9wc1tzb3VyY2VLZXldLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VQcm9wc1tzb3VyY2VLZXldLnZhbHVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3RQcm9wc1tzb3VyY2VLZXldID0ge1xuICAgICAgICAgICAgICAgIC4uLnNvdXJjZVByb3BzW3NvdXJjZUtleV0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVzdFByb3BzO1xufTtcblxuY29uc3QgZGVlcE1lcmdlID0gKGRlc3Q6IFByb2Nlc3NlZE9iamVjdCwgc291cmNlOiBQcm9jZXNzZWRPYmplY3QpOiBQcm9jZXNzZWRPYmplY3QgPT4ge1xuICAgIGlmIChpc09iamVjdChkZXN0KSAmJiBpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKTtcbiAgICAgICAgY29uc3QgZGVzdFByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZGVzdCk7XG4gICAgICAgIGdldE1lcmdlZERlc2NyaXB0b3JzKFxuICAgICAgICAgICAgZGVzdFByb3BzLFxuICAgICAgICAgICAgc291cmNlUHJvcHMsXG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VQcm9wcylcbiAgICAgICAgKTtcbiAgICAgICAgZ2V0TWVyZ2VkRGVzY3JpcHRvcnMoXG4gICAgICAgICAgICBkZXN0UHJvcHMsXG4gICAgICAgICAgICBzb3VyY2VQcm9wcyxcbiAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlUHJvcHMpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHt9LCBkZXN0UHJvcHMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZXN0KSAmJiBBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgbmV3QXJyYXk6IEFycmF5PHVua25vd24+ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBkZXN0KSBuZXdBcnJheS5wdXNoKGdldFZhbHVlKGkpKTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHNvdXJjZSkgbmV3QXJyYXkucHVzaChnZXRWYWx1ZShpKSk7XG4gICAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgW2Vycm9yXSBkZWVwTWVyZ2U6IGRlc3RpbmF0aW9uIG9iamVjdCBhbmQgc291cmNlIG9iamVjdCBtdXN0IGJlIGFycmF5cyBvciBvYmplY3RzIGFuZCB0aGUgc2FtZSB0eXBlLlxuQSAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkZXN0KX0gb2YgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBhbmQgYSAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzb3VyY2UpfSBvZiB0aGUgc291cmNlIG9iamVjdCBhcmUgZ2l2ZW4uYFxuICAgICAgICApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlZXBNZXJnZTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGlzRW1wdHksIGlzRnVuY3Rpb24sIHN0cmljdGx5SXNPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQge1xuICAgIGlzRGF0YUxpbmssXG4gICAgaXNGdW5jdGlvbkNhbGwsXG4gICAgaXNMaW5rLFxuICAgIGlzUm9vdExpbmssXG59IGZyb20gJy4uLy4uL2RhdGFfbGlua19wYXJzZXIvdXRpbHMnO1xuaW1wb3J0IGdldERhdGFMaW5rIGZyb20gJy4uL3V0aWxzL2RhdGFfbGlua19jYWNoZSc7XG5pbXBvcnQgKiBhcyByZW5kZXJGdW5jdGlvbnMgZnJvbSAnLi4vLi4vY29tcHV0YXRpb25zL2luZGV4JztcbmltcG9ydCB7IGxpbmtQYXJzZXIgfSBmcm9tICcuLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3YxL2hlbHBlcnMnO1xuaW1wb3J0IEluY3JlbWVudEdlbmVyYXRvciBmcm9tICcuLi91dGlscy9pbmNyZW1lbnRfZ2VuZXJhdG9yJztcbmltcG9ydCBkZWVwTWVyZ2UgZnJvbSAnLi4vLi4vdXRpbHMvZGVlcF9tZXJnZSc7XG5pbXBvcnQgeyBEYXRhUGFyc2VySW50ZXJmYWNlcywgU2NoZW1hSW50ZXJmYWNlcyB9IGZyb20gJ3R5cGVzL3R5cGVzJztcbmltcG9ydCBEYXRhUGFyc2VyVjQgPSBEYXRhUGFyc2VySW50ZXJmYWNlcy52NC5QcmVwcm9jZXNzb3I7XG5pbXBvcnQgeyBQcm9jZXNzZWRPYmplY3QgfSBmcm9tICd1dGlscy90eXBlcyc7XG5pbXBvcnQgeyBzaW1wbGVEYXRhUGFyc2VyLCBwYXJzZVNjaGVtYUZpZWxkcyB9IGZyb20gJy4vc2ltcGxlX2RhdGFfcGFyc2VyJztcblxuLy8gdG9kbzogdGhpcyBmaWxlIG11c3QgYmUgcmVtb3ZlZC4gQWxsIHNjaGVtYXMgc2hvdWxkIGJlIHBhcnNlZCBpbnNpZGUgdGhlIHNlY3Rpb25zIGxvZ2ljLiBTY2hlbWEgcHJlLXByb2Nlc3NpbmcgaXMgdmVyeSBkaWZmaWN1bHQgZm9yIG1haW50ZW5hbmNlLlxuXG5jb25zdCBGSUVMRFNfTU9ERSA9ICdmaWVsZHNNb2RlJztcbmNvbnN0IFNFQ1RJT05TX01PREUgPSAnc2VjdGlvbnNNb2RlJztcblxuLyoqXG4gKiB0b2RvOiBpZiB0aGVyZSBpcyBhIGxpbmsgbGlrZSBAa2V5LzAva2V5IChjb250YWlucyBhbiBhcnJheSdzIGluZGV4KSBpdCBzaG91bGQgYmUgcmVwbGFjZWQgYnkgYSBsaW5rIHdpdGggb2JqZWN0SWQgaW5zdGVhZCBvZiBhcnJheSBpbmRleC5cbiAqIHRvZG86IGFkZCB2YWxpZGF0aW9ucyBwcm9jZXNzaW5nLCB0aGV5IG11c3QgYmUgd3JpdHRlbiBpbnRvIHRoZSBjb250ZXh0IHVuZGVyIGEgc3ltYm9sIGtleS5cbiAqICBPblN1Ym1pdCBoYW5kbGVyIHdpbGwgcmVhZCBhbGwgc3ltYm9sLWtleWVkIHZhbGlkYXRvcnMgYW5kIGNhbGwgdGhlbS5cbiAqIHRvZG86IHRoZSBjb250ZXh0IHNob3VsZCBiZSBhIGRlZXAgY29weSBvZiB0aGUgc291cmNlIGRhdGEgYW5kIG11c3QgYmUgd3JhcHBlZCBpbiBhIFByb3h5IHRvIGltaXRhdGUgYSBmbGF0IGhhc2hNYXAgb2JqZWN0LlxuICovXG5cbmNvbnN0IERBVEFfT0JKRUNUX0lEID0gU3ltYm9sLmZvcignX29iamVjdElkXycpO1xuY29uc3Qgb2JqZWN0SWRHZW5lcmF0b3IgPSBuZXcgSW5jcmVtZW50R2VuZXJhdG9yKCk7XG5jb25zdCB0ZW1wbGF0ZUluZGV4TmFtZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcblxuLyoqXG4gKiBFbnRyeSBwb2ludCBvZiB0aGUgZGF0YVBhcnNlci5cbiAqL1xuY29uc3QgZGF0YVBhcnNlciA9IChwYXJhbXM6IERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNFbnRyeSk6IHsgc2NoZW1hOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjb250ZXh0OiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+IH0gPT4ge1xuICAgIHBhcmFtcy5yZW5kZXJGdW5jdGlvbnMgPVxuICAgICAgICBwYXJhbXMucmVuZGVyRnVuY3Rpb25zIHx8IGRhdGFQYXJzZXIucmVuZGVyRnVuY3Rpb25zIHx8IHt9O1xuICAgIGxldCB7IGRhdGEgfSA9IHBhcmFtcztcbiAgICBpZiAoIWRhdGEpIGRhdGEgPSB7fTtcbiAgICBsZXQgeyByb290RGF0YSwgZGF0YVBhdGgsIHNjaGVtYVBhdGggfSA9IHBhcmFtcztcbiAgICBpZiAoIXJvb3REYXRhKSByb290RGF0YSA9IGRhdGE7XG4gICAgaWYgKCFkYXRhUGF0aCkge1xuICAgICAgICBkYXRhUGF0aCA9ICdALyc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVBhdGggIT09ICdzdHJpbmcnIHx8ICEvXkBcXC8vLnRlc3QoZGF0YVBhdGgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRGF0YVBhcnNlclY0OiBkYXRhUGF0aCBtdXN0IGJlIGEgc3RyaW5nIGFuZCBzdGFydHMgd2l0aCBcXCdAL1xcJyBzeW1ib2xzLidcbiAgICAgICAgKTtcbiAgICBpZiAoIXNjaGVtYVBhdGgpIHtcbiAgICAgICAgc2NoZW1hUGF0aCA9IFtdO1xuICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hUGF0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IHNjaGVtYVBhdGggbXVzdCBiZSBhIHN0cmluZyBhbmQgc3RhcnRzIHdpdGggXFwnIy9cXCcgc3ltYm9scy4nXG4gICAgICAgICk7XG4gICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgIGNvbnN0IHBhcnNlZCA9IHN3aXRjaGVyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQW55PntcbiAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICByb290RGF0YSxcbiAgICAgICAgZGF0YVBhdGgsXG4gICAgICAgIHNjaGVtYVBhdGgsXG4gICAgICAgIGNvbnRleHQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHsgc2NoZW1hOiBwYXJzZWQsIGNvbnRleHQgfTtcbn07XG5kYXRhUGFyc2VyLnJlbmRlckZ1bmN0aW9ucyA9IHJlbmRlckZ1bmN0aW9ucztcblxuLyoqXG4gKiBDYWxscyBhIGZ1bmN0aW9uIGNvcnJlc3BvbmRpbmcgdGhlIHBhc3NlZCBkYXRhTGluayB0eXBlLlxuICogQHBhcmFtIHtQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge2FueVtdfG51bGx8QXJyYXl8Kn1cbiAqL1xuY29uc3Qgc3dpdGNoZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQW55KTogYW55ID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rLCBkYXRhIH0gPSBwYXJhbXM7XG4gICAgLy8gdG9kbzogdGhlIG5leHQgbGluZSBzaG91bGQgYmUgcmVmYWN0b3JlZC5cbiAgICBpZiAoZGF0YUxpbmsgPT09IHZvaWQgMCkgcmV0dXJuIGRhdGE7XG4gICAgLy8gd2FybmluZzogdGhlIG5leHQgbGluZSBoYXMgYmVlbiBjb21tZW50ZWQuIEl0IG1heSBjYXVzZSBlcnJvcnMuXG4gICAgLy8gaWYgKGlzRW1wdHkoZGF0YSkpIHJldHVybiBudWxsXG4gICAgaWYgKHN0cmljdGx5SXNPYmplY3QoZGF0YUxpbmspKSB7XG4gICAgICAgIGNvbnN0IHsgX3RlbXBsYXRlXyB9ID0gPFNjaGVtYUludGVyZmFjZXMuR2VuZXJhbFNjaGVtYU9iamVjdEludGVyZmFjZT5kYXRhTGluaztcbiAgICAgICAgaWYgKF90ZW1wbGF0ZV8pIHJldHVybiB0ZW1wbGF0ZVBhcnNlcig8RGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc09iamVjdD5wYXJhbXMpO1xuICAgICAgICByZXR1cm4gb2JqZWN0UGFyc2VyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0PnBhcmFtcyk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFMaW5rKSkgcmV0dXJuIGFycmF5UGFyc2VyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQXJyYXk+cGFyYW1zKTtcbiAgICBpZiAodHlwZW9mIGRhdGFMaW5rID09PSAnc3RyaW5nJyAmJiBkYXRhTGluayAmJiBpc0RhdGFMaW5rKGRhdGFMaW5rKSlcbiAgICAgICAgcmV0dXJuIHN0cmluZ1BhcnNlcig8RGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc1N0cmluZz5wYXJhbXMpO1xuICAgIHJldHVybiBkYXRhTGluaztcbn07XG5cbi8qKlxuICogUGFyc2VzIGEgc2NoZW1hIGFycmF5LlxuICogQHBhcmFtIHtQYXJhbXN9IHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gbW9kZVxuICogQHJldHVybiB7YW55W119XG4gKi9cbmNvbnN0IGFycmF5UGFyc2VyID0gKHBhcmFtczogRGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc0FycmF5LCBtb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YUxpbmspKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFQYXJzZXJWNDogZGF0YUxpbmsgc2hvdWxkIGJlIGFuIGFycmF5Jyk7XG4gICAgY29uc3QgYXJyID0gbmV3IEFycmF5KGRhdGFMaW5rLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhTGluay5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3RyaWN0bHlJc09iamVjdChkYXRhTGlua1tpXSkpIHtcbiAgICAgICAgICAgIGRhdGFMaW5rW2ldID0gT2JqZWN0LmNyZWF0ZShcbiAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICA8UHJvcGVydHlEZXNjcmlwdG9yTWFwPntcbiAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoPFNjaGVtYUludGVyZmFjZXMuR2VuZXJhbFNjaGVtYU9iamVjdEludGVyZmFjZT5kYXRhTGlua1tpXSksXG4gICAgICAgICAgICAgICAgICAgIF9vYmplY3RJZF86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3RJZEdlbmVyYXRvci5nZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfaW5kZXhfOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEZJRUxEU19NT0RFOiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJpY3RseUlzT2JqZWN0KGRhdGFMaW5rW2ldKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0RhdGFMaW5rUGFyc2VyVjQ6IGFycmF5IGl0ZW0gbXVzdCBiZSBhbiBvYmplY3QgKGZpZWxkcyBtb2RlKS4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXJyW2ldID0gZmllbGRQYXJzZXIoPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNPYmplY3Q+eyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBkYXRhTGlua1tpXSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU0VDVElPTlNfTU9ERToge1xuICAgICAgICAgICAgICAgIGlmICghc3RyaWN0bHlJc09iamVjdChkYXRhTGlua1tpXSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdEYXRhTGlua1BhcnNlclY0OiBhcnJheSBpdGVtIG11c3QgYmUgYW4gb2JqZWN0IChzZWN0aW9ucyBtb2RlKS4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXJyW2ldID0gb2JqZWN0UGFyc2VyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0PnsgLi4ucGFyYW1zLCBkYXRhTGluazogZGF0YUxpbmtbaV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFycltpXSA9IHN3aXRjaGVyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQW55PnsgLi4ucGFyYW1zLCBkYXRhTGluazogZGF0YUxpbmtbaV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn07XG4vKipcbiAqIFBhcnNlcyBhbiBvYmplY3QsXG4gKiBwcm9jZXNzZXMgc29tZSBzcGVjaWFsIGNhc2VzIHN1Y2ggYXMgX3NlY3Rpb25zXyBhbmQgX2ZpZWxkc18uXG4gKiBAcGFyYW0ge1BhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJuIE9iamVjdFxuICovXG5jb25zdCBvYmplY3RQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0KTogUmVjb3JkPHN0cmluZywgYW55PiA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9OiB7IGRhdGFMaW5rOiBTY2hlbWFJbnRlcmZhY2VzLkdlbmVyYWxTY2hlbWFPYmplY3RJbnRlcmZhY2UgJiB7IF9kZWZhdWx0RGF0YV8/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBfb2JqZWN0SWRfPzogbnVtYmVyIH0gfSA9IHBhcmFtcztcbiAgICBsZXQgeyBkYXRhUGF0aCwgcm9vdERhdGEsIGRhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCB7XG4gICAgICAgIF9zZWN0aW9uc18sXG4gICAgICAgIF9maWVsZHNfLFxuICAgICAgICBfZGF0YUxpbmtfLFxuICAgICAgICBfZGVmYXVsdERhdGFfLFxuICAgICAgICBfb2JqZWN0SWRfLFxuICAgICAgICAuLi5vdGhlcnNcbiAgICB9ID0gZGF0YUxpbms7XG4gICAgaWYgKF9kZWZhdWx0RGF0YV8pIHtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IGlzRW1wdHkoZGF0YSlcbiAgICAgICAgICAgID8gX2RlZmF1bHREYXRhX1xuICAgICAgICAgICAgOiBkZWVwTWVyZ2UoX2RlZmF1bHREYXRhXywgPFByb2Nlc3NlZE9iamVjdD5kYXRhKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHJvb3REYXRhKSB7XG4gICAgICAgICAgICByb290RGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgfVxuICAgIGlmIChfZGF0YUxpbmtfKVxuICAgICAgICAoeyBkYXRhLCBkYXRhUGF0aCB9ID0gcGFyc2VEYXRhTGluayh7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcm9vdERhdGEsXG4gICAgICAgICAgICBkYXRhTGluazogX2RhdGFMaW5rXyxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUoXG4gICAgICAgIHt9LFxuICAgICAgICA8UHJvcGVydHlEZXNjcmlwdG9yTWFwPntcbiAgICAgICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG90aGVycyksXG4gICAgICAgICAgICBfb2JqZWN0SWRfOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF9vYmplY3RJZF8gfHwgb2JqZWN0SWRHZW5lcmF0b3IuZ2V0KCksXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICk7XG4gICAgaWYgKF9zZWN0aW9uc18pIHtcbiAgICAgICAgaWYgKHN0cmljdGx5SXNPYmplY3QoX3NlY3Rpb25zXykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5fc2VjdGlvbnNfID0gdGVtcGxhdGVQYXJzZXIoXG4gICAgICAgICAgICAgICAgPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNPYmplY3Q+eyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfc2VjdGlvbnNfLCBkYXRhLCByb290RGF0YSwgZGF0YVBhdGggfSxcbiAgICAgICAgICAgICAgICBTRUNUSU9OU19NT0RFXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3NlY3Rpb25zXykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5fc2VjdGlvbnNfID0gYXJyYXlQYXJzZXIoXG4gICAgICAgICAgICAgICAgPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNBcnJheT57IC4uLnBhcmFtcywgZGF0YUxpbms6IF9zZWN0aW9uc18sIGRhdGEsIHJvb3REYXRhLCBkYXRhUGF0aCB9LFxuICAgICAgICAgICAgICAgIFNFQ1RJT05TX01PREVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IF9zZWN0aW9uc18gbXVzdCBiZSBhbiBhcnJheSBvciBhbiBvYmplY3QuJ1xuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgaWYgKF9maWVsZHNfKSB7XG4gICAgICAgIGlmIChzdHJpY3RseUlzT2JqZWN0KF9maWVsZHNfKSkge1xuICAgICAgICAgICAgcmVzdWx0Ll9maWVsZHNfID0gdGVtcGxhdGVQYXJzZXIoXG4gICAgICAgICAgICAgICAgPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNPYmplY3Q+eyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfZmllbGRzXywgZGF0YSwgcm9vdERhdGEsIGRhdGFQYXRoIH0sXG4gICAgICAgICAgICAgICAgRklFTERTX01PREVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfZmllbGRzXykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5fZmllbGRzXyA9IGFycmF5UGFyc2VyKFxuICAgICAgICAgICAgICAgIDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQXJyYXk+eyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfZmllbGRzXywgZGF0YSwgcm9vdERhdGEsIGRhdGFQYXRoIH0sXG4gICAgICAgICAgICAgICAgRklFTERTX01PREVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IF9maWVsZHNfIG11c3QgYmUgYW4gYXJyYXkgb3IgYW4gb2JqZWN0LidcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG90aGVycykpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzd2l0Y2hlcih7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBkYXRhTGluazogb3RoZXJzW2tleV0sXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcm9vdERhdGEsXG4gICAgICAgICAgICBkYXRhUGF0aCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhIGZpZWxkIG9iamVjdC5cbiAqL1xuY29uc3QgZmllbGRQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0KTogUmVjb3JkPHN0cmluZywgYW55PiA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgY29udGV4dCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtcbiAgICAgICAgX3ZhbHVlXyxcbiAgICAgICAgX29iamVjdElkXyxcbiAgICAgICAgX2NvbXB1dGF0aW9uc18sXG4gICAgICAgIF9zZWN0aW9uc18sXG4gICAgICAgIF9maWVsZHNfLFxuICAgICAgICAuLi5vdGhlcnNcbiAgICB9ID0gPFNjaGVtYUludGVyZmFjZXMuR2VuZXJhbFNjaGVtYU9iamVjdEludGVyZmFjZSAmIHsgX29iamVjdElkXz86IG51bWJlciB9PmRhdGFMaW5rO1xuICAgIGlmIChfc2VjdGlvbnNfIHx8IF9maWVsZHNfKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRGF0YVBhcnNlclY0OiBmaWVsZCBtdXN0IGJlIHRoZSBlbmQgcG9pbnQgb2JqZWN0IG9mIGEgc2NoZW1hLidcbiAgICAgICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKFxuICAgICAgICB7fSxcbiAgICAgICAgPFByb3BlcnR5RGVzY3JpcHRvck1hcD57XG4gICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvdGhlcnMpLFxuICAgICAgICAgICAgX29iamVjdElkXzoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfb2JqZWN0SWRfIHx8IG9iamVjdElkR2VuZXJhdG9yLmdldCgpLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICApO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG90aGVycykpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzd2l0Y2hlcih7IC4uLnBhcmFtcywgZGF0YUxpbms6IGRhdGFMaW5rW2tleV0gfSk7XG4gICAgfVxuICAgIGlmIChfdmFsdWVfKSB7XG4gICAgICAgIGlmICh0eXBlb2YgX3ZhbHVlXyAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0RhdGFQYXJzZXJWNDogX3ZhbHVlXyBtdXN0IGJlIGEgc3ludGF4IHN0cmluZyBvciBhIHNpbXBsZSBzdHJpbmcuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgaWYgKGlzRGF0YUxpbmsoX3ZhbHVlXykpIHtcbiAgICAgICAgICAgIGlmICghaXNMaW5rKF92YWx1ZV8pICYmICFpc0Z1bmN0aW9uQ2FsbChfdmFsdWVfKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IF92YWx1ZV8gb2YgZmllbGQgbXVzdCBiZSBhIHNpbXBsZSBsaW5rIG9yIGEgZnVuY3Rpb24gY2FsbC4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIF9kZWZhdWx0VmFsdWVfIGZpZWxkIHNob3VsZCBjb250YWluIGEgcHJpbWl0aXZlIHZhbHVlLiB0b2RvOiBpbiBmdXR1cmUsIGl0IG1pZ2h0IGJlIGEgZHluYW1pY2FsbHkgZXZhbHVhdGVkIHZhbHVlXG4gICAgICAgICAgICByZXN1bHRbJ192YWx1ZV8nXSA9IHN0cmluZ1BhcnNlcihcbiAgICAgICAgICAgICAgICB7IC4uLnBhcmFtcywgZGF0YUxpbms6IF92YWx1ZV8gfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHJlc3VsdFsnX3ZhbHVlXyddID0gX3ZhbHVlXztcbiAgICB9XG4gICAgLy8gQWRkcyBhIHNlcnZpY2Ugb2JqZWN0IHVuZGVyIGEgU3ltYm9sIGtleSB0aGF0IGlzIHJlbGF0ZWQgd2l0aCB0aGUgY3VycmVudCBzY2hlbWEgZmllbGQgb2JqZWN0LlxuICAgIGNvbnRleHRbU3ltYm9sLmZvcihyZXN1bHQuX29iamVjdElkXyldID0ge307XG4gICAgaWYgKHN0cmljdGx5SXNPYmplY3QoX2NvbXB1dGF0aW9uc18pKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihfdmFsdWVfKSkge1xuICAgICAgICAgICAgcmVzdWx0Ll9jb21wdXRhdGlvbnNfID0gY29tcHV0YXRpb25zUGFyc2VyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQ29tcHV0YXRpb25zPntcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgZGF0YUxpbms6IF9jb21wdXRhdGlvbnNfLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IFJlbmRlciBmdW5jdGlvbiBpbiBfdmFsdWVfIGlzIGFsbG93ZWQgb25seSBpbiBwYXNzaXZlIGZpZWxkLidcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuLyoqXG4gKiBQcm9jZXNzZXMgX2NvbXB1dGF0aW9uc18gb2JqZWN0LlxuICogQHBhcmFtIHBhcmFtc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5jb25zdCBjb21wdXRhdGlvbnNQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQ29tcHV0YXRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtcbiAgICAgICAgX2hhbmRsZXJzXyA9IHt9LFxuICAgICAgICBfYWZ0ZXJfID0gW10sXG4gICAgfSA9IGRhdGFMaW5rO1xuICAgIGNvbnN0IGV2ZW50VHlwZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhfaGFuZGxlcnNfKTtcbiAgICBpZiAoIWV2ZW50VHlwZXMubGVuZ3RoKSByZXR1cm4ge307XG4gICAgY29uc3QgY29tcHV0YXRpb25zOiB7IF9hZnRlcl86IEFycmF5PHN0cmluZz4sIF9oYW5kbGVyc186IFJlY29yZDxzdHJpbmcsIEFycmF5PHN0cmluZyB8IFJlY29yZDxzdHJpbmcsIGFueT4+PiB9ID0ge1xuICAgICAgICBfaGFuZGxlcnNfOiB7fSxcbiAgICAgICAgX2FmdGVyXzogW10sXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGUgb2YgZXZlbnRUeXBlcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfaGFuZGxlcnNfW2VdKSAmJiBfaGFuZGxlcnNfW2VdLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcHV0YXRpb25zLl9oYW5kbGVyc19bZV0gPSBhY3Rpb25zUGFyc2VyKHtcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgZGF0YUxpbms6IF9oYW5kbGVyc19bZV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBfaGFuZGxlcnNfW2VdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgaXNGdW5jdGlvbkNhbGwoX2hhbmRsZXJzX1tlXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb21wdXRhdGlvbnMuX2hhbmRsZXJzX1tlXSA9IHN0cmluZ1BhcnNlcih7XG4gICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgIGRhdGFMaW5rOiBfaGFuZGxlcnNfW2VdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IExpc3Qgb2YgY29tcHV0YXRpb25zIG11c3QgYmUgYSBub24gZW1wdHkgYXJyYXksIGFuIG9iamVjdCBvciBhIHJlbmRlckZ1bmN0aW9uIHN0cmluZy4nXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShfYWZ0ZXJfKSAmJiBfYWZ0ZXJfLmxlbmd0aCkge1xuICAgICAgICBjb21wdXRhdGlvbnMuX2FmdGVyXyA9IDxBcnJheTxzdHJpbmc+PmFjdGlvbnNQYXJzZXIoeyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfYWZ0ZXJfIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIF9hZnRlcl8gPT09ICdzdHJpbmcnICYmIGlzRnVuY3Rpb25DYWxsKF9hZnRlcl8pKSB7XG4gICAgICAgIGNvbXB1dGF0aW9ucy5fYWZ0ZXJfID0gWyBzdHJpbmdQYXJzZXIoeyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfYWZ0ZXJfIH0pIF07XG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShfYWZ0ZXJfKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0RhdGFQYXJzZXJWNDogQ29tcHV0YXRpb24gbXVzdCBiZSBhIHJlbmRlckZ1bmN0aW9uIHN0cmluZyAoX2FmdGVyXykuJ1xuICAgICAgICApO1xuXG4gICAgcmV0dXJuIGNvbXB1dGF0aW9ucztcbn07XG5cbi8qKlxuICogUHJvY2Vzc2VzIHBhc3NlZCBsaXN0IG9mIHJlbmRlckZ1bmN0aW9uIHN0cmluZ3MsXG4gKiBpZiB0aGV5IGNvbnRhaW5zIGEgbGlua3MgdGhleSBhcmUgcmVwbGFjZWQgYnkgY29udGV4dCdzIGtleXMuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7W119XG4gKi9cbmNvbnN0IGFjdGlvbnNQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQXJyYXkpOiBBcnJheTxzdHJpbmcgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGFjdGlvbnM6IEFycmF5PHN0cmluZyB8IFJlY29yZDxzdHJpbmcsIGFueT4+ID0gW107XG4gICAgZm9yIChjb25zdCBhY3Rpb24gb2YgZGF0YUxpbmspIHtcbiAgICAgICAgLy8gaWYgKHR5cGVvZiBhY3Rpb24gIT09ICdzdHJpbmcnIHx8ICFpc0Z1bmN0aW9uQ2FsbChhY3Rpb24pKSB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFQYXJzZXJWNDogQ29tcHV0YXRpb24gbXVzdCBiZSBhIHJlbmRlckZ1bmN0aW9uIHN0cmluZy4nKVxuICAgICAgICBpZiAoc3RyaWN0bHlJc09iamVjdChhY3Rpb24pKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2gob2JqZWN0UGFyc2VyKDxEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0PnsgLi4ucGFyYW1zLCBkYXRhTGluazogPFJlY29yZDxzdHJpbmcsIGFueT4+YWN0aW9uIH0pKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHN0cmluZ1BhcnNlcih7IC4uLnBhcmFtcywgZGF0YUxpbms6IGFjdGlvbiB9KSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IGFjdGlvbiBtdXN0IGJlIGEgZGF0YUxpbmsgc3RyaW5nIG9yIGEgdmFsdWUgb2JqZWN0LidcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBhY3Rpb25zO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyBhIHNjaGVtYSB0ZW1wbGF0ZSxcbiAqIHJldHVybnMgYW4gYXJyYXkgb2Ygc2NoZW1hIG9iamVjdHMgd2l0aCBtb2RpZmllZCBzeW50YXggc3RyaW5ncy5cbiAqIFNjaGVtYSBvYmplY3RzIGRvbid0IGNvbnRhaW4gYW55IGRhdGEgYnV0IG9ubHkgbGlua3MgdG8gZGF0YSBpbiB0aGUgY29udGV4dC5cbiAqIEBwYXJhbSB7UGFyYW1zfSBwYXJhbXNcbiAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IG1vZGVcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuY29uc3QgdGVtcGxhdGVQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zT2JqZWN0LCBtb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmssIHJvb3REYXRhLCBjb250ZXh0LCBtZXRhLCB0b2tlbnMgPSB7fSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHsgX3RlbXBsYXRlXywgX2RhdGFMaW5rXyB9ID0gZGF0YUxpbms7XG4gICAgaWYgKCFfdGVtcGxhdGVfKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YVBhcnNlclY0OiBzY2hlbWEgdGVtcGxhdGUgc2hvdWxkIGJlIHByb3ZpZGVkLicpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAgIChtb2RlID09PSBTRUNUSU9OU19NT0RFIHx8IG1vZGUgPT09IEZJRUxEU19NT0RFKSAmJlxuICAgICAgICAhc3RyaWN0bHlJc09iamVjdChfdGVtcGxhdGVfKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFQYXJzZXJWNDogdGVtcGxhdGUgbXVzdCBiZSBhbiBvYmplY3QgKCR7bW9kZX0pLmApO1xuICAgIH1cbiAgICBpZiAoIV9kYXRhTGlua18gfHwgdHlwZW9mIF9kYXRhTGlua18gIT09ICdzdHJpbmcnIHx8ICFpc0xpbmsoX2RhdGFMaW5rXykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0RhdGFQYXJzZXJWNDogdGVtcGxhdGUgbXVzdCBiZSBwcm92aWRlZCB3aXRoIGEgX2RhdGFMaW5rXyBmaWVsZCBhbmQgaXQgc2hvdWxkIGJlIGEgbGluay4nXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmIChfZGF0YUxpbmtfLmVuZHNXaXRoKCc+JykpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSA8c3RyaW5nPl9kYXRhTGlua18uc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgY29uc3QgaW5kZXhOYW1lID0gaW5kZXguc3Vic3RyaW5nKDEsIGluZGV4Lmxlbmd0aCAtIDEpO1xuICAgICAgICB0ZW1wbGF0ZUluZGV4TmFtZXMucHVzaChpbmRleE5hbWUpO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEsIGRhdGFQYXRoIH0gPSBwYXJzZURhdGFMaW5rKFxuICAgICAgICB7IC4uLnBhcmFtcywgZGF0YUxpbms6IF9kYXRhTGlua18gfSxcbiAgICAgICAgdHJ1ZVxuICAgICk7IC8vIHRvZG86IG1heSBiZSB0aGUgZGF0YUxpbmsncyBkYXRhIHNob3VsZCBiZSBwbGFjZWQgaW4gdGhlIGNvbnRleHQuLi5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhUGFyc2VyVjQ6IGRhdGEgZm9yIGEgdGVtcGxhdGUgbXVzdCBiZSBhbiBhcnJheS4nKTtcbiAgICB9XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dCwgU3ltYm9sLmZvcihkYXRhUGF0aCkpKSB7XG4gICAgICAgIC8vIFNhdmUgdGhlIHRlbXBsYXRlIHNjaGVtYSBhbmQgdGhlIGN1cnJlbnQgZGF0YVBhdGggZm9yIGl0ZW0gYWRkaW5nIGZ1bmN0aW9uYWxpdHkuXG4gICAgICAgIC8vIEl0IGlzIHdyaXR0ZW4gdW5kZXIgYSBTeW1ib2wga2V5IHRvIHByZXZlbnQgcHJvY2Vzc2luZyBvbiBzdWJtaXR0aW5nIGRhdGEuXG4gICAgICAgIGNvbnRleHRbU3ltYm9sLmZvcihkYXRhUGF0aCldID0ge1xuICAgICAgICAgICAgZGF0YVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFUZW1wbGF0ZTogX3RlbXBsYXRlXyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0OiBBcnJheTxhbnk+ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICBpZiAoIXN0cmljdGx5SXNPYmplY3QoaXRlbSkgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnRGF0YVBhcnNlclY0OiBlYWNoIHRlbXBsYXRlIGRhdGEgaXRlbSBtdXN0IGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9iamVjdElkID0gb2JqZWN0SWRHZW5lcmF0b3IuZ2V0KCk7XG4gICAgICAgIC8vIFRoZSBpZGVudGlmaWVyIGlzIHdyaXR0ZW4gdG8gdGhlIGRhdGEgYXMgYSBzeW1ib2wta2V5ZWQgdmFsdWUgdG8gcHJldmVudCBhbnkgcHJvY2Vzc2luZyB0aGlzIHZhbHVlIG9uIHN1Ym1pdCBldmVudC5cbiAgICAgICAgaXRlbVtEQVRBX09CSkVDVF9JRF0gPSBvYmplY3RJZDtcbiAgICAgICAgbGV0IG5ld0RhdGFMaW5rO1xuICAgICAgICBpZiAoc3RyaWN0bHlJc09iamVjdChfdGVtcGxhdGVfKSkge1xuICAgICAgICAgICAgbmV3RGF0YUxpbmsgPSBPYmplY3QuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgIDxQcm9wZXJ0eURlc2NyaXB0b3JNYXA+e1xuICAgICAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyg8U2NoZW1hSW50ZXJmYWNlcy5HZW5lcmFsU2NoZW1hT2JqZWN0SW50ZXJmYWNlPl90ZW1wbGF0ZV8pLFxuICAgICAgICAgICAgICAgICAgICBfb2JqZWN0SWRfOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX2luZGV4Xzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgbmV3RGF0YUxpbmsgPSBfdGVtcGxhdGVfO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBkYXRhTGluazogbmV3RGF0YUxpbmssXG4gICAgICAgICAgICBkYXRhOiBpdGVtLFxuICAgICAgICAgICAgcm9vdERhdGEsXG4gICAgICAgICAgICBkYXRhUGF0aDogbWVyZ2VMaW5rcyh7IGRhdGFQYXRoLCBtaWRkbGU6IG9iamVjdElkLCBsaW5rOiAnQCcgfSksXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgLi4ubWV0YSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURhdGFMaW5rOiBkYXRhUGF0aCxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGVtcGxhdGVJZDogb2JqZWN0SWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9rZW5zOiB7IC4uLnRva2VucywgLi4uaXRlbSB9LFxuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgRklFTERTX01PREU6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZmllbGRQYXJzZXIocGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNFQ1RJT05TX01PREU6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2JqZWN0UGFyc2VyKHBhcmFtcykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzd2l0Y2hlcihwYXJhbXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZXBsYWNlcyBhbGwgbGlua3MgdG8gY29udGV4dCBrZXlzLFxuICogcmVhZHMgdmFsdWVzIG9mIGFsbCBsaW5rcyBmcm9tIGRhdGEgYW5kIHdyaXRlIHRoZW0gdG8gdGhlIGNvbnRleHQuXG4gKi9cbmNvbnN0IHN0cmluZ1BhcnNlciA9IChwYXJhbXM6IERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNTdHJpbmcpOiBhbnkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcm9vdERhdGEsXG4gICAgICAgIGRhdGFQYXRoLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB0b2tlbnMsXG4gICAgICAgIHJlbmRlckZ1bmN0aW9ucyxcbiAgICB9ID0gcGFyYW1zO1xuICAgIGxldCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgaWYgKCFpc0RhdGFMaW5rKGRhdGFMaW5rKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhUGFyc2VyVjQ6IGRhdGFMaW5rIG11c3QgYmUgYSBzeW50YXggc3RyaW5nLicpO1xuICAgIGNvbnN0IGRhdGFMaW5rSW5zdGFuY2UgPSBnZXREYXRhTGluayhkYXRhTGluayk7XG4gICAgY29uc3QgbGlua3MgPSBkYXRhTGlua0luc3RhbmNlLmNvbnRhaW5zTGlua3MoKVxuICAgICAgICA/IGRhdGFMaW5rSW5zdGFuY2UuZXh0cmFjdExpbmtzKClcbiAgICAgICAgOiBbXTtcbiAgICBpZiAobGlua3MubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGxpbmsgb2YgbGlua3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtPYmogPSBnZXREYXRhTGluayhsaW5rKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGlua1BhcnNlcih7XG4gICAgICAgICAgICAgICAgZGF0YUxpbms6IGxpbmtPYmosXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICByb290RGF0YSxcbiAgICAgICAgICAgICAgICB0b2tlbnMsXG4gICAgICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoL1svQF06W2EtekEtWjAtOV9dK1xcLy8udGVzdChsaW5rKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbmsgPSByZXBsYWNlVG9rZW5zKFxuICAgICAgICAgICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuc3RhcnRzV2l0aCgnQC8nKSA/IHJvb3REYXRhIDogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVBhdGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRhdGFMaW5rID0gZGF0YUxpbmsucmVwbGFjZShsaW5rLCBuZXdMaW5rKTtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3TGluaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRLZXkgPSBpc1Jvb3RMaW5rKGxpbmspXG4gICAgICAgICAgICAgICAgPyBsaW5rXG4gICAgICAgICAgICAgICAgOiBtZXJnZUxpbmtzKDx7IGRhdGFQYXRoOiBzdHJpbmcsIGxpbms6IHN0cmluZyB9PnsgZGF0YVBhdGgsIGxpbmsgfSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgY29udGV4dFtjb250ZXh0S2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZXNjYXBlZENvbnRleHRLZXkgPSBjb250ZXh0S2V5LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgLyg/PCFcXFxcKShbQC9dKS9nLFxuICAgICAgICAgICAgICAgICdcXFxcJDEnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGF0YUxpbmsgPSBkYXRhTGluay5yZXBsYWNlKGxpbmssICdAJyArIGVzY2FwZWRDb250ZXh0S2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YUxpbms7XG59O1xuXG5jb25zdCByZXBsYWNlVG9rZW5zID0gKGxpbmssIHRva2Vucywgcm9vdERhdGEsIGRhdGFQYXRoKSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSBsaW5rLnN1YnN0cmluZygxKS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBuZXdMaW5rID0gZ2V0TmV3UGFydHMocGFydHMsIHRva2Vucywgcm9vdERhdGEpLmpvaW4oJy8nKTtcbiAgICBpZiAobGluay5zdGFydHNXaXRoKCdALycpKSByZXR1cm4gJ0AvJyArIG5ld0xpbms7XG4gICAgcmV0dXJuIG1lcmdlTGlua3MoeyBkYXRhUGF0aCwgbGluazogJ0AnICsgbmV3TGluayB9KTtcbn07XG5cbmNvbnN0IGdldE5ld1BhcnRzID0gKHBhcnRzOiBBcnJheTxzdHJpbmc+LCB0b2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4sIGRhdGEpID0+IHtcbiAgICBjb25zdCBuZXdQYXJ0czogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICAgIHBhcnRzLnJlZHVjZShcbiAgICAgICAgKGFjYywgcGFydDogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoKDxzdHJpbmc+cGFydCkuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSAoPHN0cmluZz5wYXJ0KS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgcGFydCA9IHRva2Vuc1t0b2tlbl07XG4gICAgICAgICAgICAgICAgYWNjLmRhdGEgPSBhY2MuZGF0YVtwYXJ0XTtcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVJbmRleE5hbWVzLmluY2x1ZGVzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhY2MuZGF0YSwgREFUQV9PQkpFQ1RfSUQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEYXRhUGFyc2VyVjQ6IG9iamVjdCBtdXN0IGNvbnRhaW4gX29iamVjdElkXyBwYXJhbS4nXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBhY2MubmV3UGFydHMucHVzaChhY2MuZGF0YVtEQVRBX09CSkVDVF9JRF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBhY2MubmV3UGFydHMucHVzaCg8c3RyaW5nPnBhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2MuZGF0YSA9IGFjYy5kYXRhW3BhcnRdO1xuICAgICAgICAgICAgYWNjLm5ld1BhcnRzLnB1c2goPHN0cmluZz5wYXJ0KTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHsgbmV3UGFydHMsIGRhdGEgfVxuICAgICk7XG4gICAgcmV0dXJuIG5ld1BhcnRzO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFic29sdXRlIGxpbmsgdG8gZGF0YSxcbiAqIHJldHVybmVkIHN0cmluZyB0aGF0IGNvbnRhaW5zIGVzY2FwZWQgdGhlIGRvZyBzeW1ib2wgYW5kIHNsYXNoZXMuXG4gKi9cbmNvbnN0IG1lcmdlTGlua3MgPSAoeyBkYXRhUGF0aCwgbGluayA9ICcnLCBtaWRkbGUgfTogeyBkYXRhUGF0aDogc3RyaW5nLCBsaW5rOiBzdHJpbmcsIG1pZGRsZT86IHN0cmluZyB8IG51bWJlciB9KTogc3RyaW5nID0+IHtcbiAgICBpZiAoaXNSb290TGluayhsaW5rKSkgcmV0dXJuIGxpbms7XG4gICAgaWYgKCFkYXRhUGF0aCkgZGF0YVBhdGggPSAnQC8nO1xuICAgIHJldHVybiAoXG4gICAgICAgIGRhdGFQYXRoICtcbiAgICAgICAgJy8nICtcbiAgICAgICAgKG1pZGRsZSA/IG1pZGRsZSArICcvJyA6ICcnKSArXG4gICAgICAgIGxpbmsuc3Vic3RyaW5nKDEpXG4gICAgKS5yZXBsYWNlKC9cXC97Mix9LywgJy8nKTtcbn07XG5cbi8qKlxuICogUmVhZHMgX2RhdGFMaW5rXyBzdHJpbmcgdGhhdCBvdmVycmlkZXMgdGhlIGRhdGEgY29udGV4dCBpbiBhIHNjaGVtYS5cbiAqIEBwYXJhbSB7UGFyYW1zfSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkQmVBZGRlZFxuICogQHJldHVybiB7e2RhdGE6IHtPYmplY3R9LCBkYXRhUGF0aDoge3N0cmluZ319fVxuICovXG5jb25zdCBwYXJzZURhdGFMaW5rID0gKHBhcmFtczogRGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc1N0cmluZywgc2hvdWxkQmVBZGRlZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgcm9vdERhdGEsIGNvbnRleHQsIHJlbmRlckZ1bmN0aW9ucywgdG9rZW5zIH0gPSBwYXJhbXM7XG4gICAgbGV0IHsgZGF0YSwgZGF0YVBhdGggfSA9IHBhcmFtcztcbiAgICBpZiAodHlwZW9mIGRhdGFMaW5rICE9PSAnc3RyaW5nJyB8fCAhaXNMaW5rKGRhdGFMaW5rKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhUGFyc2VyVjQ6IF9kYXRhTGlua18gbXVzdCBiZSBhIHNpbXBsZSBMaW5rLicpO1xuICAgIGNvbnN0IHB1cmVEYXRhTGluayA9IC88W2EtekEtWjAtOV9dKz4kLy50ZXN0KGRhdGFMaW5rKVxuICAgICAgICA/IGRhdGFMaW5rLnJlcGxhY2UoL1xcLzwuKz4kLywgJycpXG4gICAgICAgIDogZGF0YUxpbms7XG4gICAgZGF0YVBhdGggPSBtZXJnZUxpbmtzKDx7IGRhdGFQYXRoOiBzdHJpbmcsIGxpbms6IHN0cmluZyB9PnsgZGF0YVBhdGgsIGxpbms6IHB1cmVEYXRhTGluayB9KTtcbiAgICBkYXRhID0gbGlua1BhcnNlcih7XG4gICAgICAgIGRhdGFMaW5rOiBnZXREYXRhTGluayhkYXRhTGluayksXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHJvb3REYXRhLFxuICAgICAgICByZW5kZXJGdW5jdGlvbnMsXG4gICAgICAgIHRva2VucyxcbiAgICB9KTtcbiAgICBpZiAoc2hvdWxkQmVBZGRlZCAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHQsIGRhdGFQYXRoKSlcbiAgICAgICAgY29udGV4dFtwdXJlRGF0YUxpbmtdID0gZGF0YTtcbiAgICByZXR1cm4geyBkYXRhUGF0aCwgZGF0YSB9O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcGFyc2VkIHNjaGVtYSBiYXNlZCBvbiB0aGUgcGFzc2VkIHNjaGVtYSB0ZW1wbGF0ZSBhbmQgYWRkcyB0byB0aGUgY29udGV4dCBuZXcgdmFsdWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFQYXRoXG4gKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVcbiAqIEByZXR1cm5zIHt7IHNjaGVtYToge09iamVjdH0sIGNvbnRleHQ6IHtPYmplY3R9IH19IC0gdGhlIHNjaGVtYSBpcyBwYXJzZWQgdGVtcGxhdGUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjb250ZXh0IGlzIGEgbmV3IGNvbnRleHQgb25seSB3aXRoIG5ldyBrZXlzIGl0IHNob3VsZCBiZSBtZXJnZWQgd2l0aCB0aGUgbWFpbiBjb250ZXh0LlxuICovXG5leHBvcnQgY29uc3QgdGVtcGxhdGVBZGRJbmZvID0gKHsgZGF0YVBhdGggPSAnQC8nLCB0ZW1wbGF0ZSB9OiB7IGRhdGFQYXRoOiBzdHJpbmcsIHRlbXBsYXRlOiBhbnkgfSk6IGFueSA9PiB7XG4gICAgaWYgKCFkYXRhUGF0aCB8fCB0eXBlb2YgZGF0YVBhdGggIT09ICdzdHJpbmcnIHx8ICFpc0xpbmsoZGF0YVBhdGgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFQYXJzZXJWNDogZGF0YVBhdGggbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICBpZiAoIXN0cmljdGx5SXNPYmplY3QodGVtcGxhdGUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFQYXJzZXJWNDogdGVtcGxhdGUgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gICAgcmV0dXJuIGRhdGFQYXJzZXIoPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNFbnRyeT57IGRhdGFMaW5rOiB0ZW1wbGF0ZSwgZGF0YVBhdGgsIGRhdGE6IHt9IH0pO1xufTtcbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2Yga2V5cyBvZiB0aGUgbWFpbiBjb250ZXh0IHRoYXQgbXVzdCBiZSBkZWxldGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFMaW5rXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5leHBvcnQgY29uc3QgdGVtcGxhdGVEZWxldGVJbmZvID0gKGRhdGFMaW5rOiBzdHJpbmcsIGNvbnRleHQ6IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT4pOiBBcnJheTxzdHJpbmc+ID0+IHtcbiAgICAvLyB0b2RvOiBzaG91bGQgcmV0dXJuIGtleXMgZm9yIGRlbGV0aW9uIGJ5IGEgY29tcHV0YXRpb24gZnVuY3Rpb24uIE5vdyBpdCBjaGFuZ2VzIHRoZSBjb250ZXh0IGRpcmVjdGx5LlxuICAgIGlmICghZGF0YUxpbmsgfHwgdHlwZW9mIGRhdGFMaW5rICE9PSAnc3RyaW5nJyB8fCAhaXNMaW5rKGRhdGFMaW5rKSlcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhjb250ZXh0KS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uc3RhcnRzV2l0aChkYXRhTGluaykpO1xufTtcblxuZXhwb3J0IHsgZGF0YVBhcnNlciwgc2ltcGxlRGF0YVBhcnNlciwgcGFyc2VTY2hlbWFGaWVsZHMgfTtcbmV4cG9ydCBkZWZhdWx0IGRhdGFQYXJzZXI7XG4iLCJjbGFzcyBEYXRhTGluayB7XG4gICAgc3RhdGljIFNUQVJUID0gJ1xcdTAwOTgnO1xuXG4gICAgc3RhdGljIEVORCA9ICdcXHUwMDlDJztcblxuICAgIGNvbnN0cnVjdG9yKHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycgfHwgIXN0cmluZy50cmltKCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFMaW5rOiBUaGUgZGF0YUxpbmsgbXVzdCBiZSBhIG5vdCBlbXB0eSBzdHJpbmchJyk7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nLnRyaW0oKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nU3RyaW5nID0gWyBEYXRhTGluay5TVEFSVCwgLi4udGhpcy5zdHJpbmcsIERhdGFMaW5rLkVORCBdO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb250YWluc0xpbmtzKCkge1xuICAgIC8vIFdhcm5pbmchIExvb2tiZWhpbmQgY2hlY2tpbmcgaXMgY29tcGF0aWJsZSBvbmx5IHdpdGggQ2hyb21lIGJyb3dzZXIgdmVyc2lvbiA2NCBhbmQgaGlnaGVyLlxuICAgICAgICByZXR1cm4gLyg/ITxcXFxcKUAvLnRlc3QodGhpcy5zdHJpbmcpO1xuICAgIH1cblxuICAgIGV4dHJhY3RMaW5rcygpIHtcbiAgICAvLyBXYXJuaW5nISBMb29rYmVoaW5kIGNoZWNraW5nIGlzIGNvbXBhdGlibGUgb25seSB3aXRoIENocm9tZSBicm93c2VyIHZlcnNpb24gNjQgYW5kIGhpZ2hlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLm1hdGNoKC8oPyE8XFxcXCkoQFthLXpBLVowLTk8Pl9cXFxcOi8uLV0qKS9nKTtcbiAgICB9XG5cbiAgICBnZXRDdXJzb3JQb3NpdGlvbkluZm8oKSB7XG4gICAgICAgIGNvbnN0IHsgc3RyaW5nIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjdXJyZW50U3ltYm9sID0gdGhpcy5nZXRDdXJyZW50VmFsdWUoKVsxXTtcbiAgICAgICAgY29uc3QgaXNFbmQgPSB0aGlzLmlzRW5kKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmdldEN1cnJlbnRJbmRleCgpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3RyaW5nLnNsaWNlKDAsIGN1cnJlbnQpICtcbiAgICAgICcqPicgK1xuICAgICAgY3VycmVudFN5bWJvbCArXG4gICAgICAnPConICtcbiAgICAgIChpc0VuZCA/ICcnIDogc3RyaW5nLnNsaWNlKGN1cnJlbnQgKyAxLCBzdHJpbmcubGVuZ3RoKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXROZXh0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCA+IHRoaXMuc3RyaW5nLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Kys7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlWzBdID0gdGhpcy5jdXJyZW50VmFsdWVbMV07XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlWzFdID0gdGhpcy5jdXJyZW50VmFsdWVbMl07XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlWzJdID0gdGhpcy5wcm9jZXNzaW5nU3RyaW5nW3RoaXMuY3VycmVudCArIDFdO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWU7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gW1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nU3RyaW5nWzBdLFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nU3RyaW5nWzFdLFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nU3RyaW5nWzJdLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLml0ZXJhdG9yVmFsdWUgPSB7IHZhbHVlOiB0aGlzLmN1cnJlbnRWYWx1ZSwgZG9uZTogZmFsc2UgfTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50SW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPyB0aGlzLmN1cnJlbnQgLSAxIDogMDtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBpc1N0YXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWVbMF0gPT09IERhdGFMaW5rLlNUQVJUO1xuICAgIH1cblxuICAgIGlzRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWVbMl0gPT09IERhdGFMaW5rLkVORDtcbiAgICB9XG5cbiAgICB2YWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmc7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZztcbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ID4gdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB0aGlzLml0ZXJhdG9yVmFsdWUudmFsdWUgPSB0aGlzLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRvclZhbHVlO1xuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICB0aGlzLnBhdXNlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhTGluaztcbiIsIi8qKlxuICogQ29udmVydGVyJ3MgcnVsZXNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmNvbnN0IHR5cGVzID0ge1xuICAgIG51bGw6IG51bGwsXG4gICAgZmFsc2U6IGZhbHNlLFxuICAgIHRydWU6IHRydWUsXG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyB3aXRoIFwicHJpbWl0aXZlXCIgdmFsdWUgc3VjaCBhc1xuICogXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJudWxsXCJcbiAqIHRvIHJlYWwgcHJpbWl0aXZlIHZhbHVlLlxuICogSWYgdGhlIHN0cmluZyBpcyBub3QgXCJwcmltaXRpdmVcIiB0aGFuIHJldHVybnMgdGhlIHNhbWUgc3RyaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IHByaW1pdGl2ZXNDb252ZXJ0ZXIgPSAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnICYmIHR5cGVzLmhhc093blByb3BlcnR5KHN0cilcbiAgICAgICAgPyB0eXBlc1tzdHJdXG4gICAgICAgIDogc3RyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpbWl0aXZlc0NvbnZlcnRlcjtcbiIsImltcG9ydCBCcmVha1Byb21pc2VDaGFpbkVycm9yIGZyb20gJy4vaGFuZGxlci9lcnJvcnMvYnJlYWtfcHJvbWlzZV9jaGFpbl9lcnJvcic7XG5cbi8qKiBGb3IgZGVidWdnaW5nLiAqL1xuZXhwb3J0IGNvbnN0IGxvZyA9IChtYXJrZXIgPSBudWxsLCBhZGRpdGlvbmFsID0gbnVsbCkgPT4ge1xuICAgIHJldHVybiAoaW5wdXQsIGVudikgPT4ge1xuICAgICAgICBpZiAobWFya2VyICYmIHR5cGVvZiBtYXJrZXIgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdbZXJyb3JdIGxvZyBjb21wdXRhdGlvbjogbWFya2VyIG11c3QgYmUgYSBzdHJpbmcuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS53YXJuKGBbZGVidWddICR7bWFya2VyIHx8ICdsb2cgY29tcHV0YXRpb24nfTpgLCB7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGVudixcbiAgICAgICAgICAgIGFkZGl0aW9uYWwsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbn07XG5cbi8qKiBTdHViLWFjdGlvbiB0aGF0IGJyZWFrcyBjb21wdXRhdGlvbnMuICovXG5leHBvcnQgY29uc3QgYnJlYWtBY3Rpb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEJyZWFrUHJvbWlzZUNoYWluRXJyb3IoKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBPdmVycmlkZXMgdGhlIGlucHV0IHZhbHVlIGFuZCBwYXNzZXMgdGhlIG9uZSB0byB0aGUgbmV4dCBjb21wdXRhdGlvbi5cbiAqIFRoaXMgbWV0aG9kIGV4cGVjdHMgYSBsaW5rIHdpdGhvdXQgdGhlIGRvZyBzeW1ib2wsIGZvciBleGFtcGxlOiBcIi9kYXRhL3Byb2R1Y3RzXCIgaW5zdGVhZCBvZiBcIkAvZGF0YS9wcm9kdWN0c1wiLlxuICogQW5kIHRoZSBwYXNzZWQgbGluayBtdXN0IGJlIGFuIGFic29sdXRlIGxpbmsgKHN0YXJ0ZWQgd2l0aCBcIi9cIiBzeW1ib2wpLlxuICovXG5leHBvcnQgY29uc3Qgb3ZlcnJpZGVJbnB1dFZhbHVlID0gKGRhdGFMaW5rLCB2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRhdGFMaW5rID0gJ0AnICsgZGF0YUxpbms7XG4gICAgICAgIHJldHVybiB7IGRhdGFMaW5rLCB2YWx1ZSB9O1xuICAgIH07XG59O1xuXG4vKiogV3JpdGVzIHRoZSBwYXNzZWQgdmFsdWUgdG8gdGhlIGNvbnRleHQuICovXG5leHBvcnQgY29uc3Qgc2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChpbnB1dCwgeyBjb250ZXh0LCBjdXJyZW50U2NoZW1hT2JqZWN0IH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBkYXRhTGluaywgdmFsdWUgfSA9IGlucHV0O1xuICAgICAgICBjb250ZXh0W2RhdGFMaW5rXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbn07XG5cbi8qKiBTZW5kcyB0aGUgY29udGV4dCB0byBhIHN0YXRlIGJlZm9yZSB0aGUgcHJvbWlzZSBjaGFpbiBpcyBjb21wbGV0ZWQuICovXG5leHBvcnQgY29uc3QgdXBkYXRlQ29udGV4dCA9ICgpID0+IHtcbiAgICByZXR1cm4gKGlucHV0LCB7IHVwZGF0ZVN0YXRlLCBjb250ZXh0IH0pID0+IHtcbiAgICAgICAgLy8gdG9kbzogaXMgaXQgbmVjZXNzYXJ5IHRvIG1ha2UgYSBjb3B5IG9mIHRoZSBjb250ZXh0P1xuICAgICAgICB1cGRhdGVTdGF0ZShjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH07XG59O1xuXG4vKipcbiAqIFRoaXMgY29tcHV0YXRpb24gZXhwZWN0cyBhIGZ1bmN0aW9uIG9yIGEgbGlzdCBvZiBmdW5jdGlvbnMgaW4gdGhlIGlucHV0LnZhbHVlIHBhcmFtIGFuZCBjYWxscyB0aGUgb25lIHdpdGggdGhlIHBhc3NlZCBlbnZpcm9ubWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJ1bkFjdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gKGlucHV0LCBlbnYpID0+IHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogYWN0aW9uIH0gPSBpbnB1dDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKCFhY3Rpb24ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1tlcnJvcl0gcnVuQWN0aW9uOiBhcnJheSBvZiBmdW5jdGlvbiBjYW4gbm90IGJlIGVtcHR5LidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5yZWR1Y2UoKGFjYywgZnVuYykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBbZXJyb3JdIHJ1bkFjdGlvbjogYXJyYXkgbXVzIGNvbnRhaW4gYSBsaXN0IG9mIGZ1bmN0aW9ucy4gVGhlIHR5cGUgJyR7dHlwZW9mIGZ1bmN9IGlzIGdpdmVuLidgXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYy50aGVuKCh2YWx1ZSkgPT4gZnVuYyh2YWx1ZSwgZW52KSk7XG4gICAgICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUoe30pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnW2Vycm9yXSBydW5BY3Rpb246IGlucHV0LnZhbHVlIG11c3QgYmUgYSBmdW5jdGlvbi4nXG4gICAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gYWN0aW9uKHt9LCBlbnYpO1xuICAgIH07XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIHBhc3NlZCBwdXJlIGZ1bmN0aW9ucyB0byB0aGUgcGFzc2VkIGlucHV0IHZhbHVlLlxuICogVGhlIGZpbHRlcnMgYXJyYXkgc2hvdWxkIGJlIGEgbGlzdCBvZiBzeW5jaHJvbm91cyBwdXJlIGZ1bmN0aW9ucywgdGhhdCBjbGFyaWZ5IHRoZSBwYXNzZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBseUZpbHRlcnMgPSAoLi4uZmlsdGVycykgPT4ge1xuICAgIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICAgICAgaWYgKCFmaWx0ZXJzLmxlbmd0aCkgcmV0dXJuIGlucHV0O1xuICAgICAgICBsZXQgeyB2YWx1ZSB9ID0gaW5wdXQ7XG4gICAgICAgIGZvciAoY29uc3QgZmlsdGVyIG9mIGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdbZXJyb3JdIGFwcGx5RmlsdGVyczogZmlsdGVyIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIHZhbHVlID0gZmlsdGVyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyAuLi5pbnB1dCwgdmFsdWUgfTtcbiAgICB9O1xufTtcblxuY29uc3QgZGVib3VuY2VkUHJvbWlzZXMgPSBuZXcgTWFwKCk7XG4vKipcbiAqIFByb2Nlc3Mgb25seSBsYXN0IGNoYW5nZSB3aGVuIHRoZSBwYXNzZWQgdGltZSBpcyBsZWZ0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29tcHV0YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKj0sICo9KTogUHJvbWlzZTx1bmtub3duPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlYm91bmNlID0gKGNvbXB1dGF0aW9uLCB0aW1lKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjb21wdXRhdGlvbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1tlcnJvcl0gZGVib3VuY2U6IFRoZSBjb21wdXRhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uJ1xuICAgICAgICApO1xuICAgIHRpbWUgPSBOdW1iZXIodGltZSk7XG4gICAgaWYgKE51bWJlci5pc05hTih0aW1lKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbZXJyb3JdIGRlYm91bmNlOiBUaGUgdGltZSBtdXN0IGJlIGEgbnVtYmVyLicpO1xuICAgIHJldHVybiAoaW5wdXQsIGVudikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTY2hlbWFPYmplY3Q6IHsgX29iamVjdElkXzoga2V5IH0sXG4gICAgICAgICAgICB9ID0gZW52O1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGtleSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbZXJyb3JdIGRlYm91bmNlOiBUaGUga2V5IG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlUHJvbWlzZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgIGRlYm91bmNlZFByb21pc2VzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlamVjdFByb21pc2UgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgZGVib3VuY2VkUHJvbWlzZXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZGVib3VuY2VkUHJvbWlzZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlamVjdCwgdGltZW91dElkIH0gPSBkZWJvdW5jZWRQcm9taXNlcy5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEJyZWFrUHJvbWlzZUNoYWluRXJyb3IoKSk7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgZGVib3VuY2VkUHJvbWlzZXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNvbXB1dGF0aW9uKGlucHV0LCBlbnYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnRoZW4ocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aW1lKTtcblxuICAgICAgICAgICAgZGVib3VuY2VkUHJvbWlzZXMuc2V0KGtleSwgeyByZWplY3QsIHRpbWVvdXRJZCB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbi8qKiBNYWtlcyBhIHBhdXNlIGluIHRoZSBjdXJyZW50IGNvbXB1dGF0aW9uIGNoYWluICovXG5leHBvcnQgY29uc3QgZGVsYXkgPSAodGltZU91dCA9IDApID0+IHtcbiAgICB0aW1lT3V0ID0gTnVtYmVyKHRpbWVPdXQpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4odGltZU91dCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW2Vycm9yXSBEZWxheTogZGVsYXkgdmFsdWUgbXVzdCBiZSBhIG51bWJlci4nKTtcbiAgICByZXR1cm4gKGlucHV0LCBlbnYpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKGlucHV0KSwgdGltZU91dClcbiAgICAgICAgKTtcbiAgICB9O1xufTtcbiIsIi8vIGV4cGVyaW1lbnRhbCBmdW5jdGlvbnNcblxuaW1wb3J0IHsgc3RyaWN0bHlJc09iamVjdCB9IGZyb20gJy4uL3V0aWxzJztcblxuLyoqXG4gKiBQcm9taXNlIGJhc2VkIHNlY3Rpb25zIGRpZC1tb3VudC1wcm9jZXNzb3I6XG4gKiAgQWxsIHNjaGVtYXMgYXJlIHBhcnNlZCBqdXN0IGJlZm9yZSByZW5kZXJpbmcgaW4gdGhlIGN1cnJlbnQgc2VjdGlvbnMgbG9naWMsXG4gKiAgdGhpcyBwcm9jZXNzb3Igc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBlYWNoIG9mIHNlY3Rpb24gaXMgcGFyc2VkIGFuZCByZW5kZXJlZCBhbmRcbiAqICB0aGlzIHByb2Nlc3NvciByZWNlaXZlcyBwYXJzZWQgb2JqZWN0IG9mIGVhY2ggc2VjdGlvbiBhbmRcbiAqICBwYXNzZXMgdGhlbSB0byBhIGNhbGxiYWNrIGZvciBwcm9jZXNzaW5nLlxuICogIFJlc3VsdCBvZiB0aGUgcHJvY2Vzc2luZyBpcyBwYXNzZWQgdG8gYSBzZXRTdGF0ZSBjYWxsYmFjay5cbiAqIEl0IG5lZWRzIGluIGEgc3RhdGUgb2YgcGFyZW50IHNlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBzZWN0aW9uc0RpZE1vdW50UHJvY2Vzc29yID0gKHByb2Nlc3NvcikgPT4ge1xuICAgIHJldHVybiAoc2VjdGlvbnMsIHNldFN0YXRlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2Vzc29yICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzb3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgICBpZiAodHlwZW9mIHNldFN0YXRlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRTdGF0ZSBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzZWN0aW9ucykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb25zIGxpc3QgbXVzdCBiZSBhbiBhcnJheS4nKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgY29uc3QgbmV3U2VjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHNlY3Rpb25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKCFzdHJpY3RseUlzT2JqZWN0KHNlY3Rpb25zW2luZGV4XSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9uIG11c3QgYmUgYW4gT2JqZWN0LicpO1xuICAgICAgICAgICAgbGV0IHJlc29sdmVGID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmVGID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NlY3Rpb25PYmplY3QgPSBPYmplY3QuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc2VjdGlvbnNbaW5kZXhdKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc29sdmVGLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5ld1NlY3Rpb25zLnB1c2gobmV3U2VjdGlvbk9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKChwYXJzZWRTZWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHByb2Nlc3NvcihwYXJzZWRTZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuXG4gICAgICAgIHJldHVybiBuZXdTZWN0aW9ucztcbiAgICB9O1xufTtcblxuLyogZGVtbyAtIHN0YXJ0ICovXG4vKipcbiAqIEdlbmVyYXRvciBtaWdodCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge2Z1bmN0aW9uKCosICopOiB7dmFsdWU6ICp9fVxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdG9yQ29tcHV0YXRpb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKiAoaW5wdXQsIGVudikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHlpZWxkIFByb21pc2UucmVzb2x2ZSgnbGlhdmUnKTtcbiAgICAgICAgY29uc3QgdmFsdWUyID0geWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHZhbHVlICsgJ19saWF2ZTInKSwgMTAwMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgLi4uaW5wdXQsIHZhbHVlOiB2YWx1ZTIgfTtcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRvckNvbXB1dGF0aW9uMiA9ICgpID0+IHtcbiAgICByZXR1cm4gZnVuY3Rpb24qIChpbnB1dCwgZW52KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0geWllbGQgUHJvbWlzZS5yZXNvbHZlKCd2YWx1ZScpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAoKSA9PiByZXNvbHZlKHsgLi4uaW5wdXQsIHZhbHVlOiB2YWx1ZSArICdfdmFsdWUyJyB9KSxcbiAgICAgICAgICAgICAgICAxMDAwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG4vKiBkZW1vIC0gZW5kICovXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgSURFLlxuICogQHR5cGVkZWYge09iamVjdH0gUGFyYW1zXG4gKiBAcHJvcGVydHkge09iamVjdHxBcnJheXxzdHJpbmd9IGRhdGFMaW5rXG4gKiBAcHJvcGVydHkge09iamVjdHxBcnJheX0gZGF0YVxuICogQHByb3BlcnR5IHtPYmplY3R8QXJyYXl9IHJvb3REYXRhXG4gKiBAcHJvcGVydHkge09iamVjdH0gcmVuZGVyRnVuY3Rpb25zXG4gKi9cbmltcG9ydCB7IGlzRW1wdHksIHN0cmljdGx5SXNPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgZGF0YUxpbmtQYXJzZXIgZnJvbSAnLi4vLi4vZGF0YV9saW5rX3BhcnNlci92MSc7XG5pbXBvcnQgZ2V0RGF0YUxpbmsgZnJvbSAnLi4vdXRpbHMvZGF0YV9saW5rX2NhY2hlJztcbmltcG9ydCB7IGlzRGF0YUxpbmsgfSBmcm9tICcuLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3V0aWxzJztcbmltcG9ydCB7IERhdGFQYXJzZXJJbnRlcmZhY2VzLCBTY2hlbWFDYWxsYmFja0NvbGxlY3Rpb24sIFNjaGVtYUludGVyZmFjZXMgfSBmcm9tICd0eXBlcy90eXBlcyc7XG5pbXBvcnQgRGF0YVBhcnNlclY0ID0gRGF0YVBhcnNlckludGVyZmFjZXMudjQ7XG5cbi8qKlxuICogVGhpcyBwYXJzZXIgcGFyc2VzIG9ubHkgZmllbGRzIHdpdGggYSBzeW50YXggc3RyaW5nLlxuICogSXQgaXMgYSBzdGFuZGFsb25lIHBhcnNlci5cbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gcmVuZGVyRnVuY3Rpb25zXG4gKi9cbmNvbnN0IHBhcnNlU2NoZW1hRmllbGRzID0gKHNjaGVtYTogU2NoZW1hSW50ZXJmYWNlcy5HZW5lcmFsU2NoZW1hT2JqZWN0SW50ZXJmYWNlLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByZW5kZXJGdW5jdGlvbnM6IFNjaGVtYUNhbGxiYWNrQ29sbGVjdGlvbik6IFJlY29yZDxzdHJpbmcsIGFueT4gPT4ge1xuICAgIGNvbnN0IHNjaG0gPSB7IC4uLnNjaGVtYSB9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaG0pKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NobVtrZXldICE9PSAnc3RyaW5nJyB8fCAhaXNEYXRhTGluayhzY2htW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgc2NobVtrZXldID0gZGF0YUxpbmtQYXJzZXIoe1xuICAgICAgICAgICAgZGF0YUxpbms6IGdldERhdGFMaW5rKHNjaG1ba2V5XSksXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaG07XG59O1xuXG4vKipcbiAqIEVudHJ5IHBvaW50IG9mIHNpbXBsZURhdGFQYXJzZXIsXG4gKiBpdCBwYXJzZXMgdGhlIHBhc3NlZCBkYXRhTGluayBvYmplY3QgcmVjdXJzaXZlbHkuXG4gKiBUaGlzIHBhcnNlciBjYW4ndCBwYXJzZSB0aGUgdGVtcGxhdGUgc3RydWN0dXJlXG4gKiBpdCBleHBlY3RzIGEgc2ltcGxlIHN0cnVjdHVyZSB3aXRoIGFycmF5cyBhbmQgb2JqZWN0cyB3aXRoIGRhdGFMaW5rIHN0cmluZ3MgaW5zaWRlLlxuICogQHBhcmFtIHt7cmVuZGVyRnVuY3Rpb25zOiAqLCBkYXRhOiAqLCBkYXRhTGluazogKn19IHBhcmFtc1xuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IHNpbXBsZURhdGFQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQW55KTogYW55ID0+IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHBhcmFtcztcbiAgICBsZXQgeyByb290RGF0YSB9ID0gcGFyYW1zO1xuICAgIGlmICghcm9vdERhdGEpIHJvb3REYXRhID0gZGF0YTtcbiAgICByZXR1cm4gc3dpdGNoZXIoeyAuLi5wYXJhbXMsIHJvb3REYXRhIH0pO1xufTtcblxuLyoqXG4gKiBDYWxscyBhIGZ1bmN0aW9uIGNvcnJlc3BvbmRpbmcgdGhlIHBhc3NlZCBkYXRhTGluayB0eXBlLlxuICogQHBhcmFtIHtQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge2FueVtdfG51bGx8QXJyYXl8Kn1cbiAqL1xuY29uc3Qgc3dpdGNoZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQW55KTogYW55ID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rLCBkYXRhIH0gPSBwYXJhbXM7XG4gICAgaWYgKGRhdGFMaW5rID09PSB2b2lkIDApIHJldHVybiBkYXRhO1xuICAgIGlmIChpc0VtcHR5KGRhdGEpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoc3RyaWN0bHlJc09iamVjdChkYXRhTGluaykpIHJldHVybiBvYmplY3RQYXJzZXIoPERhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNPYmplY3Q+cGFyYW1zKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhTGluaykpIHJldHVybiBhcnJheVBhcnNlcig8RGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc0FycmF5PnBhcmFtcyk7XG4gICAgaWYgKHR5cGVvZiBkYXRhTGluayA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBkYXRhTGlua1BhcnNlcih7IC4uLnBhcmFtcywgZGF0YUxpbms6IGdldERhdGFMaW5rKGRhdGFMaW5rKSB9KTtcbiAgICByZXR1cm4gZGF0YUxpbms7XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhcnJheXMuXG4gKiBAcGFyYW0ge1BhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJuIHthbnlbXX1cbiAqL1xuY29uc3QgYXJyYXlQYXJzZXIgPSAocGFyYW1zOiBEYXRhUGFyc2VyVjQuUGFyc2VyUGFyYW1zQXJyYXkpOiBBcnJheTxhbnk+ID0+IHtcbiAgICAvKiogQHR5cGUge0FycmF5PE9iamVjdD59IGRhdGFMaW5rICovXG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGFyciA9IG5ldyBBcnJheShkYXRhTGluay5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YUxpbmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gc3dpdGNoZXIoeyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBkYXRhTGlua1tpXSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn07XG4vKipcbiAqIFBhcnNlcyBvYmplY3RzLlxuICogQHBhcmFtIHtQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybiBPYmplY3RcbiAqL1xuY29uc3Qgb2JqZWN0UGFyc2VyID0gKHBhcmFtczogRGF0YVBhcnNlclY0LlBhcnNlclBhcmFtc09iamVjdCk6IFJlY29yZDxzdHJpbmcsIGFueT4gPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgeyBkYXRhIH0gPSBwYXJhbXM7XG4gICAgLy8gdGhlc2UgZmllbGRzIG11c3QgYmUgc2tpcHBlZCB0aGV5IGFyZSBvbmx5IGZvciBzeXN0ZW0gcHJvY2Vzc2luZy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgeyBfZGF0YUxpbmtfLCBfY29tcHV0YXRpb25zXywgX3RlbXBsYXRlXywgX3NlY3Rpb25zXywgX2ZpZWxkc18sIC4uLm90aGVycyB9ID0gZGF0YUxpbms7XG4gICAgaWYgKF9kYXRhTGlua18gJiYgdHlwZW9mIF9kYXRhTGlua18gPT09ICdzdHJpbmcnKVxuICAgICAgICBkYXRhID0gZGF0YUxpbmtQYXJzZXIoeyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBfZGF0YUxpbmtfIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG90aGVycykpIHtcbiAgICAgICAgcmVzdWx0W3BhcnNlS2V5KHsgLi4ucGFyYW1zLCBkYXRhTGluazoga2V5IH0pXSA9IHN3aXRjaGVyKHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIGRhdGFMaW5rOiBvdGhlcnNba2V5XSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgcGFyc2VLZXkgPSAocGFyYW1zOkRhdGFQYXJzZXJWNC5QYXJzZXJQYXJhbXNTdHJpbmcpOiBhbnkgPT4ge1xuICAgIGxldCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgaWYgKGlzRGF0YUxpbmsoZGF0YUxpbmspKSB7XG4gICAgICAgIGRhdGFMaW5rID0gZGF0YUxpbmtQYXJzZXIoe1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgZGF0YUxpbms6IGdldERhdGFMaW5rKGRhdGFMaW5rKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YUxpbmsgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBbZXJyb3JdIHNpbXBsZURhdGFQYXJzZXI6IGtleSBzaG91bGQgYmUgYSBzdHJpbmchIEEgXCIke3R5cGVvZiBkYXRhTGlua31cIiBpcyBnaXZlbi5gXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YUxpbms7XG59O1xuXG5leHBvcnQgeyBzaW1wbGVEYXRhUGFyc2VyLCBwYXJzZVNjaGVtYUZpZWxkcyB9O1xuIiwiY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnJykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRpb25FcnJvcjtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qIGVzbGludC1kaXNhYmxlIGtleS1zcGFjaW5nLGluZGVudCAqL1xuaW1wb3J0IGRhdGFMaW5rUGFyc2VyIGZyb20gJy4uLy4uL2RhdGFfbGlua19wYXJzZXIvdjInO1xuaW1wb3J0IGdldERhdGFMaW5rIGZyb20gJy4vdXRpbHMvZGF0YV9saW5rX2NhY2hlJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vZGF0YV9saW5rX3BhcnNlci91dGlscyc7XG5pbXBvcnQgcnVuQXN5bmNHZW5lcmF0b3IgZnJvbSAnLi4vdXRpbHMvcnVuX2FzeW5jX2dlbmVyYXRvcic7XG5pbXBvcnQgeyBEYXRhUGFyc2VySW50ZXJmYWNlcyB9IGZyb20gJ3R5cGVzL3R5cGVzJztcbmltcG9ydCBEYXRhUGFyc2VyVjUgPSBEYXRhUGFyc2VySW50ZXJmYWNlcy52NTtcblxuLyoqXG4gKiBQYXJzaW5nIG1vZGUuXG4gKiBJbiB0aGUgY29yZSBtb2RlIG9ubHkgZmllbGRzIC9eXy4rP18kLyBtdXN0IGJlIHBhcnNlZC5cbiAqIEluIHRoZSB1c2VyIG1vZGUgbXVzdCBiZSBwYXJzZWQgYWxsIGZpZWxkcyBleHBlY3QgY29yZSdzIGZpZWxkcy5cbiAqIEluIHRoZSBmdWxsIG1vZGUgYWxsIHR5cGVzIG9mIGZpZWxkcyBtdXN0IGJlIHBhcnNlZC5cbiAqIEluIHRoZSBzaGFsbG93IG1vZGUgb25seSBzdHJpbmcgdmFsdWVzIG11c3QgYmUgcGFyc2VkICh0b3AgbGV2ZWwgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IG9yIGFycmF5IGluIHRoZSBwYXNzZWQgZGF0YUxpbmspLlxuICogSW4gdGhlIGRlZXAgbW9kZSBhbGwgdmFsdWVzIG11c3QgYmUgcGFyc2VkLlxuICovXG5jb25zdCBNT0RFID0ge1xuICAgIFVTRVJfU0hBTExPVzogMGIxMDAxLFxuICAgIENPUkVfU0hBTExPVzogMGIxMDEwLFxuICAgIEZVTExfU0hBTExPVzogMGIxMDExLFxuICAgIFVTRVJfREVFUDogMGIxMTAxLFxuICAgIENPUkVfREVFUDogMGIxMTEwLFxuICAgIEZVTExfREVFUDogMGIxMTExLFxufTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXMgZGF0YSBwYXJzZXIuXG4gKi9cbmZ1bmN0aW9uIGFzeW5jRGF0YVBhcnNlcih7IHNjaGVtYSwgZGF0YSwgcm9vdERhdGEsIGRlZmF1bHREYXRhLCBmdW5jdGlvbnMsIHRva2VucywgbW9kZSA9IE1PREUuRlVMTF9ERUVQIH06IERhdGFQYXJzZXJWNS5FbnRyeVBhcmFtcyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKCFyb290RGF0YSkgcm9vdERhdGEgPSBkYXRhO1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHN3aXRjaGVyKHtcbiAgICAgICAgICAgIGRhdGFMaW5rOiBzY2hlbWEsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcm9vdERhdGEsXG4gICAgICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgdG9rZW5zLFxuICAgICAgICAgICAgZGVmYXVsdERhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIHJ1bkFzeW5jR2VuZXJhdG9yKGl0ZXJhdG9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzIGRhdGEgcGFyc2VyLiBSZXR1cm5zIG9ubHkgZmluYWwgcmVzdWx0IG9mIHRoZSBpdGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIHN5bmNEYXRhUGFyc2VyKHsgc2NoZW1hLCBkYXRhLCByb290RGF0YSwgZGVmYXVsdERhdGEsIGZ1bmN0aW9ucywgdG9rZW5zLCBtb2RlID0gTU9ERS5GVUxMX0RFRVAgfTogRGF0YVBhcnNlclY1LkVudHJ5UGFyYW1zKTogYW55IHtcbiAgICBpZiAoIXJvb3REYXRhKSByb290RGF0YSA9IGRhdGE7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gc3dpdGNoZXIoe1xuICAgICAgICBkYXRhTGluazogc2NoZW1hLFxuICAgICAgICBkYXRhLFxuICAgICAgICByb290RGF0YSxcbiAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICBtb2RlLFxuICAgICAgICB0b2tlbnMsXG4gICAgICAgIGRlZmF1bHREYXRhXG4gICAgfSk7XG4gICAgbGV0IHJlc3VsdDogYW55O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBnZW5lcmF0b3IubmV4dChyZXN1bHQpO1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogRGF0YSBwYXJzZXIgYXMgYSBnZW5lcmF0b3IsIGNsaWVudCBtYXkgcHJvY2VzcyBlYWNoIHlpZWxkZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uKiBnZW5EYXRhUGFyc2VyKHsgc2NoZW1hLCBkYXRhLCByb290RGF0YSwgZGVmYXVsdERhdGEsIGZ1bmN0aW9ucywgdG9rZW5zLCBtb2RlID0gTU9ERS5GVUxMX0RFRVAgfTogRGF0YVBhcnNlclY1LkVudHJ5UGFyYW1zKTogR2VuZXJhdG9yPGFueSwgYW55LCBhbnk+IHtcbiAgICBpZiAoIXJvb3REYXRhKSByb290RGF0YSA9IGRhdGE7XG4gICAgcmV0dXJuIHlpZWxkKiBzd2l0Y2hlcih7XG4gICAgICAgIGRhdGFMaW5rOiBzY2hlbWEsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHJvb3REYXRhLFxuICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgIG1vZGUsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgZGVmYXVsdERhdGFcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24qIHN3aXRjaGVyKHBhcmFtczogRGF0YVBhcnNlclY1LlBhcnNlclBhcmFtc0FueSk6IEdlbmVyYXRvcjxhbnksIGFueSwgYW55PiB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgbW9kZSB9ID0gcGFyYW1zO1xuICAgIC8vIHNoYWxsb3cgb3IgZGVlcCBtb2RlXG4gICAgY29uc3QgbW9kZUNvZGUgPSBtb2RlICYgMGIxMTAwIHx8IDBiMTEwMDtcbiAgICBpZiAodHlwZW9mIGRhdGFMaW5rID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4geWllbGQqIGRhdGFMaW5rUGFyc2VyKHsgLi4ucGFyYW1zLCBkYXRhTGluazogZ2V0RGF0YUxpbmsoZGF0YUxpbmspIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZGF0YUxpbmspKSB7XG4gICAgICAgIGlmIChtb2RlQ29kZSA9PT0gMGIxMDAwKSByZXR1cm4gZGF0YUxpbms7XG4gICAgICAgIHJldHVybiB5aWVsZCogb2JqZWN0UGFyc2VyKDxEYXRhUGFyc2VyVjUuUGFyc2VyUGFyYW1zT2JqZWN0PnBhcmFtcyk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGFMaW5rKSkge1xuICAgICAgICBpZiAobW9kZUNvZGUgPT09IDBiMTAwMCkgcmV0dXJuIGRhdGFMaW5rO1xuICAgICAgICByZXR1cm4geWllbGQqIGFycmF5UGFyc2VyKDxEYXRhUGFyc2VyVjUuUGFyc2VyUGFyYW1zQXJyYXk+cGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhTGluayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbd2FybmluZ10gZGF0YVBhcnNlclY1OiBkYXRhTGluayBpcyB1bmRlZmluZWQuJyk7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRhdGFMaW5rO1xuICAgIH1cbn1cblxuZnVuY3Rpb24qIGFycmF5UGFyc2VyKHBhcmFtczogRGF0YVBhcnNlclY1LlBhcnNlclBhcmFtc0FycmF5KTogR2VuZXJhdG9yPGFueSwgYW55LCBhbnk+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgYXJyID0gbmV3IEFycmF5KGRhdGFMaW5rLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhTGluay5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbaV0gPSB5aWVsZCogc3dpdGNoZXIoPERhdGFQYXJzZXJWNS5QYXJzZXJQYXJhbXNBbnk+eyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBkYXRhTGlua1tpXSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24qIG9iamVjdFBhcnNlcihwYXJhbXM6IERhdGFQYXJzZXJWNS5QYXJzZXJQYXJhbXNPYmplY3QpOiBHZW5lcmF0b3I8YW55LCBhbnksIGFueT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmssIG1vZGUgfSA9IHBhcmFtcztcbiAgICAvLyB1c2VyLCBjb3JlIG9yIGZ1bGwgbW9kZVxuICAgIGNvbnN0IG1vZGVDb2RlID0gbW9kZSAmIDMgfHwgMztcbiAgICBsZXQgeyBkYXRhIH0gPSBwYXJhbXM7XG4gICAgLy8gX2NvbXB1dGF0aW9uc18gbXVzdCBiZSBza2lwcGVkIG9uIHRoaXMgc3RlcC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgeyBfZGF0YUxpbmtfLCBfY29tcHV0YXRpb25zXywgX3RlbXBsYXRlXywgLi4ub3RoZXJzIH0gPSBkYXRhTGluaztcbiAgICBpZiAoX2RhdGFMaW5rXykge1xuICAgICAgICBkYXRhID0geWllbGQqIHN3aXRjaGVyKHsgLi4ucGFyYW1zLCBkYXRhTGluazogX2RhdGFMaW5rXywgbW9kZTogTU9ERS5VU0VSX0RFRVAgfSk7XG4gICAgfVxuICAgIGlmIChfdGVtcGxhdGVfKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW2Vycm9yXSBkYXRhUGFyc2VyVjU6IGRhdGEgbXVzdCBiZSBhbiBhcnJheS4nKTtcbiAgICAgICAgY29uc3QgYTogQXJyYXk8YW55PiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YkRhdGEgb2YgZGF0YSkge1xuICAgICAgICAgICAgYS5wdXNoKHlpZWxkKiBzd2l0Y2hlcig8RGF0YVBhcnNlclY1LlBhcnNlclBhcmFtc0FueT57IC4uLnBhcmFtcywgZGF0YUxpbms6IF90ZW1wbGF0ZV8sIGRhdGE6IHN1YkRhdGEsIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob3RoZXJzKSkge1xuICAgICAgICBpZiAobW9kZUNvZGUgIT09IDMpIHtcbiAgICAgICAgICAgIC8vIG5vdCBmdWxsIG1vZGVcbiAgICAgICAgICAgIGlmIChrZXlbMF0gPT09ICdfJyAmJiBrZXlba2V5Lmxlbmd0aCAtIDFdID09PSAnXycgJiYgbW9kZUNvZGUgPT09IDEpXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIGNvcmUncyBmaWVsZHMgb24gdXNlciBtb2RlLlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChrZXlbMF0gIT09ICdfJyB8fCBrZXlba2V5Lmxlbmd0aCAtIDFdID09PSAnXycpICYmXG4gICAgICAgICAgICAgICAgbW9kZUNvZGUgPT09IDJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gdXNlcidzIGZpZWxkIG9uIGNvcmUgbW9kZS5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRLZXkgPSB5aWVsZCogc3dpdGNoZXIoeyAuLi5wYXJhbXMsIGRhdGFMaW5rOiBrZXksIGRhdGEgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkS2V5ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnW2Vycm9yXSBkYXRhUGFyc2VyVjU6IHBhcnNlZEtleSBtdXN0IGJlIGEgc3RyaW5nLidcbiAgICAgICAgICAgICk7XG4gICAgICAgIHJlc3VsdFtwYXJzZWRLZXldID0geWllbGQqIHN3aXRjaGVyKHsgLi4ucGFyYW1zLCBkYXRhTGluazogZGF0YUxpbmtba2V5XSwgZGF0YSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgYXN5bmNEYXRhUGFyc2VyLCBzeW5jRGF0YVBhcnNlciwgZ2VuRGF0YVBhcnNlciwgTU9ERSB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBJdGVyYXRlcyBpdGVyYXRvciB0aGF0IGNhbiB5aWVsZCBhIHNpbXBsZSB2YWx1ZSBvciBhIHByb21pc2UuXG4gKi9cbmNvbnN0IHJ1bkFzeW5jR2VuZXJhdG9yID0gKGl0ZXJhdG9yOiBJdGVyYXRvcjxhbnksIGFueSwgYW55PiwgcmVzb2x2ZTogKHZhbHVlOiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHZhbHVlOiBhbnkpID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBuZXh0ID0gKHY/OiBhbnkpOiB2b2lkID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGl0ZXJhdG9yLm5leHQodik7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICBlbHNlIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB2YWx1ZS50aGVuKG5leHQsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgZWxzZSBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBuZXh0KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBydW5Bc3luY0dlbmVyYXRvcjtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufSIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAvLyBDYWxsIHRoaXMuY29uc3RydWN0b3IuZ0RTRlAgdG8gc3VwcG9ydCBzdWItY2xhc3Nlcy5cbiAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG4gIGlmIChzdGF0ZSAhPT0gbnVsbCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXG4gIC8vIFVzZSB0aGUgc2V0U3RhdGUoKSB1cGRhdGVyIHRvIGVuc3VyZSBzdGF0ZSBpc24ndCBzdGFsZSBpbiBjZXJ0YWluIGVkZ2UgY2FzZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZXIocHJldlN0YXRlKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZSAhPT0gbnVsbCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkID8gc3RhdGUgOiBudWxsO1xuICB9XG4gIC8vIEJpbmRpbmcgXCJ0aGlzXCIgaXMgaW1wb3J0YW50IGZvciBzaGFsbG93IHJlbmRlcmVyIHN1cHBvcnQuXG4gIHRoaXMuc2V0U3RhdGUodXBkYXRlci5iaW5kKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICB0cnkge1xuICAgIHZhciBwcmV2UHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZyA9IHRydWU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdCA9IHRoaXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoXG4gICAgICBwcmV2UHJvcHMsXG4gICAgICBwcmV2U3RhdGVcbiAgICApO1xuICB9IGZpbmFsbHkge1xuICAgIHRoaXMucHJvcHMgPSBwcmV2UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IHByZXZTdGF0ZTtcbiAgfVxufVxuXG4vLyBSZWFjdCBtYXkgd2FybiBhYm91dCBjV00vY1dSUC9jV1UgbWV0aG9kcyBiZWluZyBkZXByZWNhdGVkLlxuLy8gQWRkIGEgZmxhZyB0byBzdXBwcmVzcyB0aGVzZSB3YXJuaW5ncyBmb3IgdGhpcyBzcGVjaWFsIGNhc2UuXG5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcblxuZnVuY3Rpb24gcG9seWZpbGwoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuXG4gIGlmICghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgcG9seWZpbGwgY2xhc3MgY29tcG9uZW50cycpO1xuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9XG5cbiAgLy8gSWYgbmV3IGNvbXBvbmVudCBBUElzIGFyZSBkZWZpbmVkLCBcInVuc2FmZVwiIGxpZmVjeWNsZXMgd29uJ3QgYmUgY2FsbGVkLlxuICAvLyBFcnJvciBpZiBhbnkgb2YgdGhlc2UgbGlmZWN5Y2xlcyBhcmUgcHJlc2VudCxcbiAgLy8gQmVjYXVzZSB0aGV5IHdvdWxkIHdvcmsgZGlmZmVyZW50bHkgYmV0d2VlbiBvbGRlciBhbmQgbmV3ZXIgKDE2LjMrKSB2ZXJzaW9ucyBvZiBSZWFjdC5cbiAgdmFyIGZvdW5kV2lsbE1vdW50TmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gbnVsbDtcbiAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBudWxsO1xuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCc7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfVxuICBpZiAoXG4gICAgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8XG4gICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCB8fFxuICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGxcbiAgKSB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWU7XG4gICAgdmFyIG5ld0FwaU5hbWUgPVxuICAgICAgdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCknXG4gICAgICAgIDogJ2dldFNuYXBzaG90QmVmb3JlVXBkYXRlKCknO1xuXG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICAnVW5zYWZlIGxlZ2FjeSBsaWZlY3ljbGVzIHdpbGwgbm90IGJlIGNhbGxlZCBmb3IgY29tcG9uZW50cyB1c2luZyBuZXcgY29tcG9uZW50IEFQSXMuXFxuXFxuJyArXG4gICAgICAgIGNvbXBvbmVudE5hbWUgK1xuICAgICAgICAnIHVzZXMgJyArXG4gICAgICAgIG5ld0FwaU5hbWUgK1xuICAgICAgICAnIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JyArXG4gICAgICAgIChmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsTW91bnROYW1lIDogJycpICtcbiAgICAgICAgKGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGxcbiAgICAgICAgICA/ICdcXG4gICcgKyBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lXG4gICAgICAgICAgOiAnJykgK1xuICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogJycpICtcbiAgICAgICAgJ1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbicgK1xuICAgICAgICAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJ1xuICAgICk7XG4gIH1cblxuICAvLyBSZWFjdCA8PSAxNi4yIGRvZXMgbm90IHN1cHBvcnQgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dNIGFuZCBjV1JQIHRvIGludm9rZSB0aGUgbmV3IHN0YXRpYyBsaWZlY3ljbGUuXG4gIC8vIE5ld2VyIHZlcnNpb25zIG9mIFJlYWN0IHdpbGwgaWdub3JlIHRoZXNlIGxpZmVjeWNsZXMgaWYgZ0RTRlAgZXhpc3RzLlxuICBpZiAodHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gY29tcG9uZW50V2lsbE1vdW50O1xuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcztcbiAgfVxuXG4gIC8vIFJlYWN0IDw9IDE2LjIgZG9lcyBub3Qgc3VwcG9ydCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS5cbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dVIHRvIGludm9rZSB0aGUgbmV3IGxpZmVjeWNsZS5cbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhhdCBsaWZlY3ljbGUgaWYgZ1NCVSBleGlzdHMuXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgcG9seWZpbGwgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBmb3IgY29tcG9uZW50cyB0aGF0IGRvIG5vdCBkZWZpbmUgY29tcG9uZW50RGlkVXBkYXRlKCkgb24gdGhlIHByb3RvdHlwZSdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBjb21wb25lbnRXaWxsVXBkYXRlO1xuXG4gICAgdmFyIGNvbXBvbmVudERpZFVwZGF0ZSA9IHByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGU7XG5cbiAgICBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlUG9seWZpbGwoXG4gICAgICBwcmV2UHJvcHMsXG4gICAgICBwcmV2U3RhdGUsXG4gICAgICBtYXliZVNuYXBzaG90XG4gICAgKSB7XG4gICAgICAvLyAxNi4zKyB3aWxsIG5vdCBleGVjdXRlIG91ciB3aWxsLXVwZGF0ZSBtZXRob2Q7XG4gICAgICAvLyBJdCB3aWxsIHBhc3MgYSBzbmFwc2hvdCB2YWx1ZSB0byBkaWQtdXBkYXRlIHRob3VnaC5cbiAgICAgIC8vIE9sZGVyIHZlcnNpb25zIHdpbGwgcmVxdWlyZSBvdXIgcG9seWZpbGxlZCB3aWxsLXVwZGF0ZSB2YWx1ZS5cbiAgICAgIC8vIFdlIG5lZWQgdG8gaGFuZGxlIGJvdGggY2FzZXMsIGJ1dCBjYW4ndCBqdXN0IGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgXCJtYXliZVNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGZvciA8PSAxNS54IHZlcnNpb25zIHRoaXMgbWlnaHQgYmUgYSBcInByZXZDb250ZXh0XCIgb2JqZWN0LlxuICAgICAgLy8gV2UgYWxzbyBjYW4ndCBqdXN0IGNoZWNrIFwiX19yZWFjdEludGVybmFsU25hcHNob3RcIixcbiAgICAgIC8vIEJlY2F1c2UgZ2V0LXNuYXBzaG90IG1pZ2h0IHJldHVybiBhIGZhbHN5IHZhbHVlLlxuICAgICAgLy8gU28gY2hlY2sgZm9yIHRoZSBleHBsaWNpdCBfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgZmxhZyB0byBkZXRlcm1pbmUgYmVoYXZpb3IuXG4gICAgICB2YXIgc25hcHNob3QgPSB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZ1xuICAgICAgICA/IHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RcbiAgICAgICAgOiBtYXliZVNuYXBzaG90O1xuXG4gICAgICBjb21wb25lbnREaWRVcGRhdGUuY2FsbCh0aGlzLCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gQ29tcG9uZW50O1xufVxuXG5leHBvcnQgeyBwb2x5ZmlsbCB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUZhY3RvcnksIENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnZmJqcy9saWIvc2hhbGxvd0VxdWFsJztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlJztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7IGNyZWF0ZUNoYW5nZUVtaXR0ZXIgfSBmcm9tICdjaGFuZ2UtZW1pdHRlcic7XG5pbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxudmFyIHNldFN0YXRpYyA9IGZ1bmN0aW9uIHNldFN0YXRpYyhrZXksIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgQmFzZUNvbXBvbmVudFtrZXldID0gdmFsdWU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgcmV0dXJuIEJhc2VDb21wb25lbnQ7XG4gIH07XG59O1xuXG52YXIgc2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiBzZXREaXNwbGF5TmFtZShkaXNwbGF5TmFtZSkge1xuICByZXR1cm4gc2V0U3RhdGljKCdkaXNwbGF5TmFtZScsIGRpc3BsYXlOYW1lKTtcbn07XG5cbnZhciBnZXREaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKENvbXBvbmVudCQkMSkge1xuICBpZiAodHlwZW9mIENvbXBvbmVudCQkMSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gQ29tcG9uZW50JCQxO1xuICB9XG5cbiAgaWYgKCFDb21wb25lbnQkJDEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudCQkMS5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQkJDEubmFtZSB8fCAnQ29tcG9uZW50Jztcbn07XG5cbnZhciB3cmFwRGlzcGxheU5hbWUgPSBmdW5jdGlvbiB3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgaG9jTmFtZSkge1xuICByZXR1cm4gaG9jTmFtZSArIFwiKFwiICsgZ2V0RGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCkgKyBcIilcIjtcbn07XG5cbnZhciBtYXBQcm9wcyA9IGZ1bmN0aW9uIG1hcFByb3BzKHByb3BzTWFwcGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBNYXBQcm9wcyA9IGZ1bmN0aW9uIE1hcFByb3BzKHByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShwcm9wc01hcHBlcihwcm9wcykpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbWFwUHJvcHMnKSkoTWFwUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBNYXBQcm9wcztcbiAgfTtcbn07XG5cbnZhciB3aXRoUHJvcHMgPSBmdW5jdGlvbiB3aXRoUHJvcHMoaW5wdXQpIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzKGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJyA/IGlucHV0KHByb3BzKSA6IGlucHV0KTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhQcm9wcycpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIHBpY2sgPSBmdW5jdGlvbiBwaWNrKG9iaiwga2V5cykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB3aXRoUHJvcHNPbkNoYW5nZSA9IGZ1bmN0aW9uIHdpdGhQcm9wc09uQ2hhbmdlKHNob3VsZE1hcE9yS2V5cywgcHJvcHNNYXBwZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuICAgIHZhciBzaG91bGRNYXAgPSB0eXBlb2Ygc2hvdWxkTWFwT3JLZXlzID09PSAnZnVuY3Rpb24nID8gc2hvdWxkTWFwT3JLZXlzIDogZnVuY3Rpb24gKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHBpY2socHJvcHMsIHNob3VsZE1hcE9yS2V5cyksIHBpY2sobmV4dFByb3BzLCBzaG91bGRNYXBPcktleXMpKTtcbiAgICB9O1xuXG4gICAgdmFyIFdpdGhQcm9wc09uQ2hhbmdlID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhQcm9wc09uQ2hhbmdlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFByb3BzT25DaGFuZ2UoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgY29tcHV0ZWRQcm9wczogcHJvcHNNYXBwZXIoX3RoaXMucHJvcHMpLFxuICAgICAgICAgIHByZXZQcm9wczogX3RoaXMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBXaXRoUHJvcHNPbkNoYW5nZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHNob3VsZE1hcChwcmV2U3RhdGUucHJldlByb3BzLCBuZXh0UHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbXB1dGVkUHJvcHM6IHByb3BzTWFwcGVyKG5leHRQcm9wcyksXG4gICAgICAgICAgICBwcmV2UHJvcHM6IG5leHRQcm9wc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZXZQcm9wczogbmV4dFByb3BzXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFByb3BzT25DaGFuZ2UucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jb21wdXRlZFByb3BzKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFByb3BzT25DaGFuZ2U7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgcG9seWZpbGwoV2l0aFByb3BzT25DaGFuZ2UpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhQcm9wc09uQ2hhbmdlJykpKFdpdGhQcm9wc09uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFByb3BzT25DaGFuZ2U7XG4gIH07XG59O1xuXG52YXIgbWFwVmFsdWVzID0gZnVuY3Rpb24gbWFwVmFsdWVzKG9iaiwgZnVuYykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBmdW5jKG9ialtrZXldLCBrZXkpO1xuICAgIH1cbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG5cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHdpdGhIYW5kbGVycyA9IGZ1bmN0aW9uIHdpdGhIYW5kbGVycyhoYW5kbGVycykge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgV2l0aEhhbmRsZXJzID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhIYW5kbGVycywgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoX2FyZ3MpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oYW5kbGVycyA9IG1hcFZhbHVlcyh0eXBlb2YgaGFuZGxlcnMgPT09ICdmdW5jdGlvbicgPyBoYW5kbGVycyhfdGhpcy5wcm9wcykgOiBoYW5kbGVycywgZnVuY3Rpb24gKGNyZWF0ZUhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKF90aGlzLnByb3BzKTtcblxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvciggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICd3aXRoSGFuZGxlcnMoKTogRXhwZWN0ZWQgYSBtYXAgb2YgaGlnaGVyLW9yZGVyIGZ1bmN0aW9ucy4gJyArICdSZWZlciB0byB0aGUgZG9jcyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhIYW5kbGVycy5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLmhhbmRsZXJzKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aEhhbmRsZXJzO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoSGFuZGxlcnMnKSkoV2l0aEhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aEhhbmRsZXJzO1xuICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uIGRlZmF1bHRQcm9wcyhwcm9wcykge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgRGVmYXVsdFByb3BzID0gZnVuY3Rpb24gRGVmYXVsdFByb3BzKG93bmVyUHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KG93bmVyUHJvcHMpO1xuICAgIH07XG5cbiAgICBEZWZhdWx0UHJvcHMuZGVmYXVsdFByb3BzID0gcHJvcHM7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnZGVmYXVsdFByb3BzJykpKERlZmF1bHRQcm9wcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIERlZmF1bHRQcm9wcztcbiAgfTtcbn07XG5cbnZhciBvbWl0ID0gZnVuY3Rpb24gb21pdChvYmosIGtleXMpIHtcbiAgdmFyIHJlc3QgPSBfZXh0ZW5kcyh7fSwgb2JqKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgIGlmIChyZXN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGRlbGV0ZSByZXN0W2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3Q7XG59O1xuXG52YXIgcmVuYW1lUHJvcCA9IGZ1bmN0aW9uIHJlbmFtZVByb3Aob2xkTmFtZSwgbmV3TmFtZSkge1xuICB2YXIgaG9jID0gbWFwUHJvcHMoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgb21pdChwcm9wcywgW29sZE5hbWVdKSwgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbbmV3TmFtZV0gPSBwcm9wc1tvbGROYW1lXSwgX2V4dGVuZHMyKSk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdyZW5hbWVQcm9wJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIga2V5cyA9IE9iamVjdC5rZXlzO1xuXG52YXIgbWFwS2V5cyA9IGZ1bmN0aW9uIG1hcEtleXMob2JqLCBmdW5jKSB7XG4gIHJldHVybiBrZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgcmVzdWx0W2Z1bmModmFsLCBrZXkpXSA9IHZhbDtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59O1xuXG52YXIgcmVuYW1lUHJvcHMgPSBmdW5jdGlvbiByZW5hbWVQcm9wcyhuYW1lTWFwKSB7XG4gIHZhciBob2MgPSBtYXBQcm9wcyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG9taXQocHJvcHMsIGtleXMobmFtZU1hcCkpLCBtYXBLZXlzKHBpY2socHJvcHMsIGtleXMobmFtZU1hcCkpLCBmdW5jdGlvbiAoXywgb2xkTmFtZSkge1xuICAgICAgcmV0dXJuIG5hbWVNYXBbb2xkTmFtZV07XG4gICAgfSkpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAncmVuYW1lUHJvcHMnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBmbGF0dGVuUHJvcCA9IGZ1bmN0aW9uIGZsYXR0ZW5Qcm9wKHByb3BOYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBGbGF0dGVuUHJvcCA9IGZ1bmN0aW9uIEZsYXR0ZW5Qcm9wKHByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgcHJvcHMsIHByb3BzW3Byb3BOYW1lXSkpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnZmxhdHRlblByb3AnKSkoRmxhdHRlblByb3ApO1xuICAgIH1cblxuICAgIHJldHVybiBGbGF0dGVuUHJvcDtcbiAgfTtcbn07XG5cbnZhciB3aXRoU3RhdGUgPSBmdW5jdGlvbiB3aXRoU3RhdGUoc3RhdGVOYW1lLCBzdGF0ZVVwZGF0ZXJOYW1lLCBpbml0aWFsU3RhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhTdGF0ZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoU3RhdGUsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoU3RhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgc3RhdGVWYWx1ZTogdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZShfdGhpcy5wcm9wcykgOiBpbml0aWFsU3RhdGVcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy51cGRhdGVTdGF0ZVZhbHVlID0gZnVuY3Rpb24gKHVwZGF0ZUZuLCBjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHN0YXRlVmFsdWUgPSBfcmVmLnN0YXRlVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0ZVZhbHVlOiB0eXBlb2YgdXBkYXRlRm4gPT09ICdmdW5jdGlvbicgPyB1cGRhdGVGbihzdGF0ZVZhbHVlKSA6IHVwZGF0ZUZuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoU3RhdGUucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltzdGF0ZU5hbWVdID0gdGhpcy5zdGF0ZS5zdGF0ZVZhbHVlLCBfZXh0ZW5kczJbc3RhdGVVcGRhdGVyTmFtZV0gPSB0aGlzLnVwZGF0ZVN0YXRlVmFsdWUsIF9leHRlbmRzMikpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoU3RhdGU7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhTdGF0ZScpKShXaXRoU3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoU3RhdGU7XG4gIH07XG59O1xuXG52YXIgd2l0aFN0YXRlSGFuZGxlcnMgPSBmdW5jdGlvbiB3aXRoU3RhdGVIYW5kbGVycyhpbml0aWFsU3RhdGUsIHN0YXRlVXBkYXRlcnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhTdGF0ZUhhbmRsZXJzID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhTdGF0ZUhhbmRsZXJzLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFN0YXRlSGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlKF90aGlzLnByb3BzKSA6IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgX3RoaXMuc3RhdGVVcGRhdGVycyA9IG1hcFZhbHVlcyhzdGF0ZVVwZGF0ZXJzLCBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAobWF5QmVFdmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGF2aW5nIHRoYXQgZnVuY3Rpb25hbCBmb3JtIG9mIHNldFN0YXRlIGNhbiBiZSBjYWxsZWQgYXN5bmNcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcGVyc2lzdCBTeW50aGV0aWNFdmVudFxuICAgICAgICAgICAgaWYgKG1heUJlRXZlbnQgJiYgdHlwZW9mIG1heUJlRXZlbnQucGVyc2lzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBtYXlCZUV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlLCBwcm9wcykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcihzdGF0ZSwgcHJvcHMpLmFwcGx5KHZvaWQgMCwgW21heUJlRXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFN0YXRlSGFuZGxlcnMucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZSwgdGhpcy5zdGF0ZVVwZGF0ZXJzKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFN0YXRlSGFuZGxlcnM7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhTdGF0ZUhhbmRsZXJzJykpKFdpdGhTdGF0ZUhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFN0YXRlSGFuZGxlcnM7XG4gIH07XG59O1xuXG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcblxudmFyIHdpdGhSZWR1Y2VyID0gZnVuY3Rpb24gd2l0aFJlZHVjZXIoc3RhdGVOYW1lLCBkaXNwYXRjaE5hbWUsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgV2l0aFJlZHVjZXIgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aFJlZHVjZXIsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoUmVkdWNlcigpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBzdGF0ZVZhbHVlOiBfdGhpcy5pbml0aWFsaXplU3RhdGVWYWx1ZSgpXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYWN0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICAgIGlmIChjYWxsYmFjayA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IG5vb3A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVWYWx1ZSA9IF9yZWYuc3RhdGVWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXRlVmFsdWU6IHJlZHVjZXIoc3RhdGVWYWx1ZSwgYWN0aW9uKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soX3RoaXMuc3RhdGUuc3RhdGVWYWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFJlZHVjZXIucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uaW5pdGlhbGl6ZVN0YXRlVmFsdWUgPSBmdW5jdGlvbiBpbml0aWFsaXplU3RhdGVWYWx1ZSgpIHtcbiAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUodGhpcy5wcm9wcykgOiBpbml0aWFsU3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgICAgICB0eXBlOiAnQEByZWNvbXBvc2UvSU5JVCdcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltzdGF0ZU5hbWVdID0gdGhpcy5zdGF0ZS5zdGF0ZVZhbHVlLCBfZXh0ZW5kczJbZGlzcGF0Y2hOYW1lXSA9IHRoaXMuZGlzcGF0Y2gsIF9leHRlbmRzMikpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoUmVkdWNlcjtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aFJlZHVjZXInKSkoV2l0aFJlZHVjZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoUmVkdWNlcjtcbiAgfTtcbn07XG5cbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KENvbXBvbmVudCQkMSkge1xuICByZXR1cm4gQ29tcG9uZW50JCQxO1xufTtcblxudmFyIGJyYW5jaCA9IGZ1bmN0aW9uIGJyYW5jaCh0ZXN0LCBsZWZ0LCByaWdodCkge1xuICBpZiAocmlnaHQgPT09IHZvaWQgMCkge1xuICAgIHJpZ2h0ID0gaWRlbnRpdHk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgbGVmdEZhY3Rvcnk7XG4gICAgdmFyIHJpZ2h0RmFjdG9yeTtcblxuICAgIHZhciBCcmFuY2ggPSBmdW5jdGlvbiBCcmFuY2gocHJvcHMpIHtcbiAgICAgIGlmICh0ZXN0KHByb3BzKSkge1xuICAgICAgICBsZWZ0RmFjdG9yeSA9IGxlZnRGYWN0b3J5IHx8IGNyZWF0ZUZhY3RvcnkobGVmdChCYXNlQ29tcG9uZW50KSk7XG4gICAgICAgIHJldHVybiBsZWZ0RmFjdG9yeShwcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJpZ2h0RmFjdG9yeSA9IHJpZ2h0RmFjdG9yeSB8fCBjcmVhdGVGYWN0b3J5KHJpZ2h0KEJhc2VDb21wb25lbnQpKTtcbiAgICAgIHJldHVybiByaWdodEZhY3RvcnkocHJvcHMpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnYnJhbmNoJykpKEJyYW5jaCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEJyYW5jaDtcbiAgfTtcbn07XG5cbnZhciByZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoQ29tcG9uZW50JCQxKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoXykge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShDb21wb25lbnQkJDEpO1xuXG4gICAgdmFyIFJlbmRlckNvbXBvbmVudCA9IGZ1bmN0aW9uIFJlbmRlckNvbXBvbmVudChwcm9wcykge1xuICAgICAgcmV0dXJuIGZhY3RvcnkocHJvcHMpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVuZGVyQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gd3JhcERpc3BsYXlOYW1lKENvbXBvbmVudCQkMSwgJ3JlbmRlckNvbXBvbmVudCcpO1xuICAgIH1cblxuICAgIHJldHVybiBSZW5kZXJDb21wb25lbnQ7XG4gIH07XG59O1xuXG52YXIgTm90aGluZyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShOb3RoaW5nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOb3RoaW5nKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBOb3RoaW5nLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBOb3RoaW5nO1xufShDb21wb25lbnQpO1xuXG52YXIgcmVuZGVyTm90aGluZyA9IGZ1bmN0aW9uIHJlbmRlck5vdGhpbmcoXykge1xuICByZXR1cm4gTm90aGluZztcbn07XG5cbnZhciBzaG91bGRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRVcGRhdGUodGVzdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgU2hvdWxkVXBkYXRlID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFNob3VsZFVwZGF0ZSwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFNob3VsZFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gU2hvdWxkVXBkYXRlLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHRlc3QodGhpcy5wcm9wcywgbmV4dFByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KHRoaXMucHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFNob3VsZFVwZGF0ZTtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnc2hvdWxkVXBkYXRlJykpKFNob3VsZFVwZGF0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNob3VsZFVwZGF0ZTtcbiAgfTtcbn07XG5cbnZhciBwdXJlID0gZnVuY3Rpb24gcHVyZShCYXNlQ29tcG9uZW50KSB7XG4gIHZhciBob2MgPSBzaG91bGRVcGRhdGUoZnVuY3Rpb24gKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChwcm9wcywgbmV4dFByb3BzKTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdwdXJlJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gIH1cblxuICByZXR1cm4gaG9jKEJhc2VDb21wb25lbnQpO1xufTtcblxudmFyIG9ubHlVcGRhdGVGb3JLZXlzID0gZnVuY3Rpb24gb25seVVwZGF0ZUZvcktleXMocHJvcEtleXMpIHtcbiAgdmFyIGhvYyA9IHNob3VsZFVwZGF0ZShmdW5jdGlvbiAocHJvcHMsIG5leHRQcm9wcykge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHBpY2sobmV4dFByb3BzLCBwcm9wS2V5cyksIHBpY2socHJvcHMsIHByb3BLZXlzKSk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdvbmx5VXBkYXRlRm9yS2V5cycpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIG9ubHlVcGRhdGVGb3JQcm9wVHlwZXMgPSBmdW5jdGlvbiBvbmx5VXBkYXRlRm9yUHJvcFR5cGVzKEJhc2VDb21wb25lbnQpIHtcbiAgdmFyIHByb3BUeXBlcyA9IEJhc2VDb21wb25lbnQucHJvcFR5cGVzO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCFwcm9wVHlwZXMpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICBjb25zb2xlLmVycm9yKCdBIGNvbXBvbmVudCB3aXRob3V0IGFueSBgcHJvcFR5cGVzYCB3YXMgcGFzc2VkIHRvICcgKyAnYG9ubHlVcGRhdGVGb3JQcm9wVHlwZXMoKWAuIENoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgJyArIChcImNvbXBvbmVudCB3aXRoIGRpc3BsYXkgbmFtZSBcXFwiXCIgKyBnZXREaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50KSArIFwiXFxcIi5cIikpO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9wS2V5cyA9IE9iamVjdC5rZXlzKHByb3BUeXBlcyB8fCB7fSk7XG4gIHZhciBPbmx5VXBkYXRlRm9yUHJvcFR5cGVzID0gb25seVVwZGF0ZUZvcktleXMocHJvcEtleXMpKEJhc2VDb21wb25lbnQpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnb25seVVwZGF0ZUZvclByb3BUeXBlcycpKShPbmx5VXBkYXRlRm9yUHJvcFR5cGVzKTtcbiAgfVxuXG4gIHJldHVybiBPbmx5VXBkYXRlRm9yUHJvcFR5cGVzO1xufTtcblxudmFyIHdpdGhDb250ZXh0ID0gZnVuY3Rpb24gd2l0aENvbnRleHQoY2hpbGRDb250ZXh0VHlwZXMsIGdldENoaWxkQ29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgV2l0aENvbnRleHQgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aENvbnRleHQsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoQ29udGV4dCgpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgICAgIF90aGlzLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0Q2hpbGRDb250ZXh0KF90aGlzLnByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoQ29udGV4dC5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KHRoaXMucHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhDb250ZXh0O1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIFdpdGhDb250ZXh0LmNoaWxkQ29udGV4dFR5cGVzID0gY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aENvbnRleHQnKSkoV2l0aENvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoQ29udGV4dDtcbiAgfTtcbn07XG5cbnZhciBnZXRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q29udGV4dChjb250ZXh0VHlwZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIEdldENvbnRleHQgPSBmdW5jdGlvbiBHZXRDb250ZXh0KG93bmVyUHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCBvd25lclByb3BzLCBjb250ZXh0KSk7XG4gICAgfTtcblxuICAgIEdldENvbnRleHQuY29udGV4dFR5cGVzID0gY29udGV4dFR5cGVzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2dldENvbnRleHQnKSkoR2V0Q29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEdldENvbnRleHQ7XG4gIH07XG59O1xuXG52YXIgbGlmZWN5Y2xlID0gZnVuY3Rpb24gbGlmZWN5Y2xlKHNwZWMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc3BlYy5oYXNPd25Qcm9wZXJ0eSgncmVuZGVyJykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2xpZmVjeWNsZSgpIGRvZXMgbm90IHN1cHBvcnQgdGhlIHJlbmRlciBtZXRob2Q7IGl0cyBiZWhhdmlvciBpcyB0byAnICsgJ3Bhc3MgYWxsIHByb3BzIGFuZCBzdGF0ZSB0byB0aGUgYmFzZSBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIExpZmVjeWNsZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShMaWZlY3ljbGUsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBMaWZlY3ljbGUoKSB7XG4gICAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IExpZmVjeWNsZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLnN0YXRlKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gTGlmZWN5Y2xlO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIE9iamVjdC5rZXlzKHNwZWMpLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcbiAgICAgIHJldHVybiBMaWZlY3ljbGUucHJvdG90eXBlW2hvb2tdID0gc3BlY1tob29rXTtcbiAgICB9KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdsaWZlY3ljbGUnKSkoTGlmZWN5Y2xlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTGlmZWN5Y2xlO1xuICB9O1xufTtcblxudmFyIGlzQ2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KENvbXBvbmVudCQkMSkge1xuICByZXR1cm4gQm9vbGVhbihDb21wb25lbnQkJDEgJiYgQ29tcG9uZW50JCQxLnByb3RvdHlwZSAmJiB0eXBlb2YgQ29tcG9uZW50JCQxLnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpO1xufTtcblxudmFyIHRvQ2xhc3MgPSBmdW5jdGlvbiB0b0NsYXNzKGJhc2VDb21wb25lbnQpIHtcbiAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoYmFzZUNvbXBvbmVudCkgPyBiYXNlQ29tcG9uZW50IDogKF90ZW1wID0gX2NsYXNzID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRvQ2xhc3MsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVG9DbGFzcygpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVG9DbGFzcy5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBiYXNlQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChiYXNlQ29tcG9uZW50LCB0aGlzLnByb3BzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhc2VDb21wb25lbnQodGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRvQ2xhc3M7XG4gIH0oQ29tcG9uZW50KSwgX2NsYXNzLmRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoYmFzZUNvbXBvbmVudCksIF9jbGFzcy5wcm9wVHlwZXMgPSBiYXNlQ29tcG9uZW50LnByb3BUeXBlcywgX2NsYXNzLmNvbnRleHRUeXBlcyA9IGJhc2VDb21wb25lbnQuY29udGV4dFR5cGVzLCBfY2xhc3MuZGVmYXVsdFByb3BzID0gYmFzZUNvbXBvbmVudC5kZWZhdWx0UHJvcHMsIF90ZW1wKTtcbn07XG5cbmZ1bmN0aW9uIHRvUmVuZGVyUHJvcHMoaG9jKSB7XG4gIHZhciBSZW5kZXJQcm9wc0NvbXBvbmVudCA9IGZ1bmN0aW9uIFJlbmRlclByb3BzQ29tcG9uZW50KHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuKHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gaG9jKFJlbmRlclByb3BzQ29tcG9uZW50KTtcbn1cblxudmFyIGZyb21SZW5kZXJQcm9wcyA9IGZ1bmN0aW9uIGZyb21SZW5kZXJQcm9wcyhSZW5kZXJQcm9wc0NvbXBvbmVudCwgcHJvcHNNYXBwZXIsIHJlbmRlclByb3BOYW1lKSB7XG4gIGlmIChyZW5kZXJQcm9wTmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgcmVuZGVyUHJvcE5hbWUgPSAnY2hpbGRyZW4nO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGJhc2VGYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcbiAgICB2YXIgcmVuZGVyUHJvcHNGYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShSZW5kZXJQcm9wc0NvbXBvbmVudCk7XG5cbiAgICB2YXIgRnJvbVJlbmRlclByb3BzID0gZnVuY3Rpb24gRnJvbVJlbmRlclByb3BzKG93bmVyUHJvcHMpIHtcbiAgICAgIHZhciBfcmVuZGVyUHJvcHNGYWN0b3J5O1xuXG4gICAgICByZXR1cm4gcmVuZGVyUHJvcHNGYWN0b3J5KChfcmVuZGVyUHJvcHNGYWN0b3J5ID0ge30sIF9yZW5kZXJQcm9wc0ZhY3RvcnlbcmVuZGVyUHJvcE5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYmFzZUZhY3RvcnkoX2V4dGVuZHMoe30sIG93bmVyUHJvcHMsIHByb3BzTWFwcGVyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSkpO1xuICAgICAgfSwgX3JlbmRlclByb3BzRmFjdG9yeSkpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnZnJvbVJlbmRlclByb3BzJykpKEZyb21SZW5kZXJQcm9wcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZyb21SZW5kZXJQcm9wcztcbiAgfTtcbn07XG5cbnZhciBzZXRQcm9wVHlwZXMgPSBmdW5jdGlvbiBzZXRQcm9wVHlwZXMocHJvcFR5cGVzKSB7XG4gIHJldHVybiBzZXRTdGF0aWMoJ3Byb3BUeXBlcycsIHByb3BUeXBlcyk7XG59O1xuXG52YXIgY29tcG9zZSA9IGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9KTtcbn07XG5cbnZhciBjcmVhdGVTaW5rID0gZnVuY3Rpb24gY3JlYXRlU2luayhjYWxsYmFjaykge1xuICB2YXIgU2luayA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShTaW5rLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNpbmsoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBTaW5rLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGNhbGxiYWNrKG5leHRQcm9wcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIF9wcm90byA9IFNpbmsucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2luaztcbiAgfShDb21wb25lbnQpO1xuXG4gIHBvbHlmaWxsKFNpbmspO1xuICByZXR1cm4gU2luaztcbn07XG5cbnZhciBjb21wb25lbnRGcm9tUHJvcCA9IGZ1bmN0aW9uIGNvbXBvbmVudEZyb21Qcm9wKHByb3BOYW1lKSB7XG4gIHZhciBDb21wb25lbnQkJDEgPSBmdW5jdGlvbiBDb21wb25lbnQkJDEocHJvcHMpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChwcm9wc1twcm9wTmFtZV0sIG9taXQocHJvcHMsIFtwcm9wTmFtZV0pKTtcbiAgfTtcblxuICBDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgPSBcImNvbXBvbmVudEZyb21Qcm9wKFwiICsgcHJvcE5hbWUgKyBcIilcIjtcbiAgcmV0dXJuIENvbXBvbmVudCQkMTtcbn07XG5cbnZhciBuZXN0ID0gZnVuY3Rpb24gbmVzdCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIENvbXBvbmVudHMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgQ29tcG9uZW50c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBmYWN0b3JpZXMgPSBDb21wb25lbnRzLm1hcChjcmVhdGVGYWN0b3J5KTtcblxuICB2YXIgTmVzdCA9IGZ1bmN0aW9uIE5lc3QoX3JlZikge1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgcmV0dXJuIGZhY3Rvcmllcy5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY2hpbGQsIGZhY3RvcnkpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KHByb3BzLCBjaGlsZCk7XG4gICAgfSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lcyA9IENvbXBvbmVudHMubWFwKGdldERpc3BsYXlOYW1lKTtcbiAgICBOZXN0LmRpc3BsYXlOYW1lID0gXCJuZXN0KFwiICsgZGlzcGxheU5hbWVzLmpvaW4oJywgJykgKyBcIilcIjtcbiAgfVxuXG4gIHJldHVybiBOZXN0O1xufTtcblxudmFyIGhvaXN0U3RhdGljcyA9IGZ1bmN0aW9uIGhvaXN0U3RhdGljcyhoaWdoZXJPcmRlckNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBOZXdDb21wb25lbnQgPSBoaWdoZXJPcmRlckNvbXBvbmVudChCYXNlQ29tcG9uZW50KTtcbiAgICBob2lzdE5vblJlYWN0U3RhdGljcyhOZXdDb21wb25lbnQsIEJhc2VDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgcmV0dXJuIE5ld0NvbXBvbmVudDtcbiAgfTtcbn07XG5cbnZhciBfY29uZmlnID0ge1xuICBmcm9tRVNPYnNlcnZhYmxlOiBudWxsLFxuICB0b0VTT2JzZXJ2YWJsZTogbnVsbFxufTtcblxudmFyIGNvbmZpZ3VyZU9ic2VydmFibGUgPSBmdW5jdGlvbiBjb25maWd1cmVPYnNlcnZhYmxlKGMpIHtcbiAgX2NvbmZpZyA9IGM7XG59O1xuXG52YXIgY29uZmlnID0ge1xuICBmcm9tRVNPYnNlcnZhYmxlOiBmdW5jdGlvbiBmcm9tRVNPYnNlcnZhYmxlKG9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIF9jb25maWcuZnJvbUVTT2JzZXJ2YWJsZSA9PT0gJ2Z1bmN0aW9uJyA/IF9jb25maWcuZnJvbUVTT2JzZXJ2YWJsZShvYnNlcnZhYmxlKSA6IG9ic2VydmFibGU7XG4gIH0sXG4gIHRvRVNPYnNlcnZhYmxlOiBmdW5jdGlvbiB0b0VTT2JzZXJ2YWJsZShzdHJlYW0pIHtcbiAgICByZXR1cm4gdHlwZW9mIF9jb25maWcudG9FU09ic2VydmFibGUgPT09ICdmdW5jdGlvbicgPyBfY29uZmlnLnRvRVNPYnNlcnZhYmxlKHN0cmVhbSkgOiBzdHJlYW07XG4gIH1cbn07XG5cbnZhciBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyA9IGZ1bmN0aW9uIGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnKGNvbmZpZyQkMSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzVG9WZG9tKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICAgIF9pbmhlcml0c0xvb3NlKENvbXBvbmVudEZyb21TdHJlYW0sIF9Db21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIENvbXBvbmVudEZyb21TdHJlYW0oKSB7XG4gICAgICAgICAgdmFyIF9jb25maWckZnJvbUVTT2JzZXJ2YTtcblxuICAgICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmRvbTogbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgX3RoaXMucHJvcHNFbWl0dGVyID0gY3JlYXRlQ2hhbmdlRW1pdHRlcigpO1xuICAgICAgICAgIF90aGlzLnByb3BzJCA9IGNvbmZpZyQkMS5mcm9tRVNPYnNlcnZhYmxlKChfY29uZmlnJGZyb21FU09ic2VydmEgPSB7XG4gICAgICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBfdGhpcy5wcm9wc0VtaXR0ZXIubGlzdGVuKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChwcm9wcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jb25maWckZnJvbUVTT2JzZXJ2YVskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSwgX2NvbmZpZyRmcm9tRVNPYnNlcnZhKSk7XG4gICAgICAgICAgX3RoaXMudmRvbSQgPSBjb25maWckJDEudG9FU09ic2VydmFibGUocHJvcHNUb1Zkb20oX3RoaXMucHJvcHMkKSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9wcm90byA9IENvbXBvbmVudEZyb21TdHJlYW0ucHJvdG90eXBlO1xuXG4gICAgICAgIF9wcm90by5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gY2hpbGQgcHJvcCBjaGFuZ2VzIHNvIHdlIGtub3cgd2hlbiB0byByZS1yZW5kZXJcbiAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMudmRvbSQuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQodmRvbSkge1xuICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHZkb206IHZkb21cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5wcm9wc0VtaXR0ZXIuZW1pdCh0aGlzLnByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8uY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgLy8gUmVjZWl2ZSBuZXcgcHJvcHMgZnJvbSB0aGUgb3duZXJcbiAgICAgICAgICB0aGlzLnByb3BzRW1pdHRlci5lbWl0KG5leHRQcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3Byb3RvLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiBuZXh0U3RhdGUudmRvbSAhPT0gdGhpcy5zdGF0ZS52ZG9tO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgIC8vIENhbGwgd2l0aG91dCBhcmd1bWVudHMgdG8gY29tcGxldGUgc3RyZWFtXG4gICAgICAgICAgdGhpcy5wcm9wc0VtaXR0ZXIuZW1pdCgpOyAvLyBDbGVhbi11cCBzdWJzY3JpcHRpb24gYmVmb3JlIHVuLW1vdW50aW5nXG5cbiAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmRvbTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29tcG9uZW50RnJvbVN0cmVhbTtcbiAgICAgIH0oQ29tcG9uZW50KVxuICAgICk7XG4gIH07XG59O1xuXG52YXIgY29tcG9uZW50RnJvbVN0cmVhbSA9IGZ1bmN0aW9uIGNvbXBvbmVudEZyb21TdHJlYW0ocHJvcHNUb1Zkb20pIHtcbiAgcmV0dXJuIGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnKGNvbmZpZykocHJvcHNUb1Zkb20pO1xufTtcblxudmFyIGlkZW50aXR5JDEgPSBmdW5jdGlvbiBpZGVudGl0eSh0KSB7XG4gIHJldHVybiB0O1xufTtcblxudmFyIG1hcFByb3BzU3RyZWFtV2l0aENvbmZpZyA9IGZ1bmN0aW9uIG1hcFByb3BzU3RyZWFtV2l0aENvbmZpZyhjb25maWckJDEpIHtcbiAgdmFyIGNvbXBvbmVudEZyb21TdHJlYW0kJDEgPSBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyh7XG4gICAgZnJvbUVTT2JzZXJ2YWJsZTogaWRlbnRpdHkkMSxcbiAgICB0b0VTT2JzZXJ2YWJsZTogaWRlbnRpdHkkMVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcbiAgICAgIHZhciBmcm9tRVNPYnNlcnZhYmxlID0gY29uZmlnJCQxLmZyb21FU09ic2VydmFibGUsXG4gICAgICAgICAgdG9FU09ic2VydmFibGUgPSBjb25maWckJDEudG9FU09ic2VydmFibGU7XG4gICAgICByZXR1cm4gY29tcG9uZW50RnJvbVN0cmVhbSQkMShmdW5jdGlvbiAocHJvcHMkKSB7XG4gICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdG9FU09ic2VydmFibGUodHJhbnNmb3JtKGZyb21FU09ic2VydmFibGUocHJvcHMkKSkpLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoY2hpbGRQcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0KGZhY3RvcnkoY2hpbGRQcm9wcykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sIF9yZWY7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIG1hcFByb3BzU3RyZWFtID0gZnVuY3Rpb24gbWFwUHJvcHNTdHJlYW0odHJhbnNmb3JtKSB7XG4gIHZhciBob2MgPSBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcoY29uZmlnKSh0cmFuc2Zvcm0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdtYXBQcm9wc1N0cmVhbScpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIGNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWcgPSBmdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnKGNvbmZpZyQkMSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfY29uZmlnJGZyb21FU09ic2VydmE7XG5cbiAgICB2YXIgZW1pdHRlciA9IGNyZWF0ZUNoYW5nZUVtaXR0ZXIoKTtcbiAgICB2YXIgc3RyZWFtID0gY29uZmlnJCQxLmZyb21FU09ic2VydmFibGUoKF9jb25maWckZnJvbUVTT2JzZXJ2YSA9IHtcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IGVtaXR0ZXIubGlzdGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX2NvbmZpZyRmcm9tRVNPYnNlcnZhWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmEpKTtcbiAgICByZXR1cm4ge1xuICAgICAgaGFuZGxlcjogZW1pdHRlci5lbWl0LFxuICAgICAgc3RyZWFtOiBzdHJlYW1cbiAgICB9O1xuICB9O1xufTtcbnZhciBjcmVhdGVFdmVudEhhbmRsZXIgPSBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnKGNvbmZpZyk7XG5cbi8vIEhpZ2hlci1vcmRlciBjb21wb25lbnQgaGVscGVyc1xuXG5leHBvcnQgeyBtYXBQcm9wcywgd2l0aFByb3BzLCB3aXRoUHJvcHNPbkNoYW5nZSwgd2l0aEhhbmRsZXJzLCBkZWZhdWx0UHJvcHMsIHJlbmFtZVByb3AsIHJlbmFtZVByb3BzLCBmbGF0dGVuUHJvcCwgd2l0aFN0YXRlLCB3aXRoU3RhdGVIYW5kbGVycywgd2l0aFJlZHVjZXIsIGJyYW5jaCwgcmVuZGVyQ29tcG9uZW50LCByZW5kZXJOb3RoaW5nLCBzaG91bGRVcGRhdGUsIHB1cmUsIG9ubHlVcGRhdGVGb3JLZXlzLCBvbmx5VXBkYXRlRm9yUHJvcFR5cGVzLCB3aXRoQ29udGV4dCwgZ2V0Q29udGV4dCwgbGlmZWN5Y2xlLCB0b0NsYXNzLCB0b1JlbmRlclByb3BzLCBmcm9tUmVuZGVyUHJvcHMsIHNldFN0YXRpYywgc2V0UHJvcFR5cGVzLCBzZXREaXNwbGF5TmFtZSwgY29tcG9zZSwgZ2V0RGlzcGxheU5hbWUsIHdyYXBEaXNwbGF5TmFtZSwgc2hhbGxvd0VxdWFsLCBpc0NsYXNzQ29tcG9uZW50LCBjcmVhdGVTaW5rLCBjb21wb25lbnRGcm9tUHJvcCwgbmVzdCwgaG9pc3RTdGF0aWNzLCBjb21wb25lbnRGcm9tU3RyZWFtLCBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZywgbWFwUHJvcHNTdHJlYW0sIG1hcFByb3BzU3RyZWFtV2l0aENvbmZpZywgY3JlYXRlRXZlbnRIYW5kbGVyLCBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnLCBjb25maWd1cmVPYnNlcnZhYmxlIGFzIHNldE9ic2VydmFibGVDb25maWcgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBjYWxsZWU6IHRydWUsXG4gICAgYXJndW1lbnRzOiB0cnVlLFxuICAgIGFyaXR5OiB0cnVlXG59O1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZiAmJiBnZXRQcm90b3R5cGVPZihPYmplY3QpO1xuXG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICAgICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXldICYmICFLTk9XTl9TVEFUSUNTW2tleV0gJiYgKCFibGFja2xpc3QgfHwgIWJsYWNrbGlzdFtrZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcbiAgICAgICAgICAgICAgICB0cnkgeyAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsImV4cG9ydCAqIGFzIENvcmVVdGlscyBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCAqIGFzIFNlY3Rpb25zIGZyb20gJy4vc2VjdGlvbnMnO1xuZXhwb3J0ICogYXMgRGF0YVBhcnNlciBmcm9tICcuL2RhdGFfcGFyc2VyJztcbmV4cG9ydCAqIGFzIERhdGFMaW5rUGFyc2VyIGZyb20gJy4vZGF0YV9saW5rX3BhcnNlcic7XG5leHBvcnQgKiBhcyBidWlsdEluQ29tcHV0YXRpb25zIGZyb20gJy4vY29tcHV0YXRpb25zJztcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWV4dGVuZC1uYXRpdmUgKi9cbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmlzR2VuZXJhdG9yKSB7XG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmlzR2VuZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSAnR2VuZXJhdG9yRnVuY3Rpb24nO1xuICAgIH07XG59XG5cbkZ1bmN0aW9uLnByb3RvdHlwZS5pc0FzeW5jR2VuZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGluZm86IGh0dHBzOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvMTAuMC9pbmRleC5odG1sI3NlYy1hc3luY2dlbmVyYXRvcmZ1bmN0aW9uLWNvbnN0cnVjdG9yXG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZSA9PT0gJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nO1xufTtcblxuaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuaXNBc3luYykge1xuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5pc0FzeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQXN5bmNGdW5jdGlvbic7XG4gICAgfTtcbn1cblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmxhdCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mbGF0ID0gZnVuY3Rpb24gKGRlcHRoID0gMSkge1xuICAgICAgICBkZXB0aCA9IGlzTmFOKGRlcHRoKSA/IDAgOiBNYXRoLmZsb29yKGRlcHRoKTtcbiAgICAgICAgaWYgKGRlcHRoIDwgMSkgcmV0dXJuIHRoaXMuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChcbiAgICAgICAgICAgIC4uLmRlcHRoIDwgMlxuICAgICAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgICAgIDogdGhpcy5tYXAoKHYpID0+IEFycmF5LmlzQXJyYXkodikgPyB2LmZsYXQoZGVwdGggLSAxKSA6IHYpXG4gICAgICAgICk7XG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBpc0Jvb2xlYW4gPSAocG9zc2libGVCb29sZWFuOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAgIHR5cGVvZiBwb3NzaWJsZUJvb2xlYW4gPT09ICdib29sZWFuJztcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKHBvc3NpYmxlU3RyaW5nOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAgIHR5cGVvZiBwb3NzaWJsZVN0cmluZyA9PT0gJ3N0cmluZyc7XG5cbmV4cG9ydCBjb25zdCBpc051bWJlciA9IChwb3NzaWJsZU51bWJlcjogdW5rbm93bik6IGJvb2xlYW4gPT5cbiAgICB0eXBlb2YgcG9zc2libGVOdW1iZXIgPT09ICdudW1iZXInO1xuXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAocG9zc2libGVPYmplY3Q6IHVua25vd24pOiBib29sZWFuID0+XG4gICAgdHlwZW9mIHBvc3NpYmxlT2JqZWN0ID09PSAnb2JqZWN0JztcblxuZXhwb3J0IGNvbnN0IHN0cmljdGx5SXNPYmplY3QgPSAocG9zc2libGVPYmplY3Q6IHVua25vd24pOiBib29sZWFuID0+XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBvc3NpYmxlT2JqZWN0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmV4cG9ydCBjb25zdCBpc0Vycm9yID0gKHBvc3NpYmxlRXJyb3I6IHVua25vd24pOiBib29sZWFuID0+XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBvc3NpYmxlRXJyb3IpID09PSAnW29iamVjdCBFcnJvcl0nO1xuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9IChwb3NzaWJsZUFycmF5OiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAgIEFycmF5LmlzQXJyYXkocG9zc2libGVBcnJheSk7XG5cbmV4cG9ydCBjb25zdCBpc0RhdGUgPSAocG9zc2libGVEYXRlOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAgIHBvc3NpYmxlRGF0ZSBpbnN0YW5jZW9mIERhdGU7XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gKHBvc3NpYmxlRnVuY3Rpb246IHVua25vd24pOiBib29sZWFuID0+XG4gICAgdHlwZW9mIHBvc3NpYmxlRnVuY3Rpb24gPT09ICdmdW5jdGlvbic7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgY29uc3QgaXNSZWFjdEVsZW1lbnQgPSAoZWw6IGFueSk6IGJvb2xlYW4gPT5cbiAgICBpc09iamVjdChlbCkgJiYgZWwuJCR0eXBlb2YgPT09IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBjb25zdCBpc0VtcHR5ID0gKHZhbHVlOiBhbnkpOiBib29sZWFuID0+IHtcbiAgICAvLyB0b2RvOiBzaG91bGQgYmUgcmVmYWN0b3JlZC4gVGhpcyBtZXRob2QgY29udGFpbnMgYSB2ZXJ5IHN0cmFuZ2UgY29kZS5cbiAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHJldHVybiB2YWx1ZSA9PT0gJyc7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIGlzTmFOKHZhbHVlKTtcbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUubGVuZ3RoID09PSAwO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgcmV0dXJuICF2YWx1ZTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgY29uc3QgYnVpbGRDbGFzc05hbWVzID0gKHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9LCBjbGFzc05hbWU6IHN0cmluZ1tdLCBwcmVmaXggPSAnJyk6IHN0cmluZyB8IHN0cmluZ1tdICA9PiB7XG4gICAgaWYgKGlzT2JqZWN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoY2xhc3NOYW1lKSlcbiAgICAgICAgICAgIHJldHVybiBjbGFzc05hbWUubWFwKFxuICAgICAgICAgICAgICAgIChjTmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHN0eWxlc1tgJHtwcmVmaXh9JHtjTmFtZX1gXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhY2M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhjbGFzc05hbWUpLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oKGFjYywgWyBjTmFtZSwgY29uZGl0aW9uIF0pID0+IHtcbiAgICAgICAgICAgICAgICBhY2Nbc3R5bGVzW2Ake3ByZWZpeH0ke2NOYW1lfWBdXSA9IGNvbmRpdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwgYWNjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoY2xhc3NOYW1lKSlcbiAgICAgICAgcmV0dXJuIHN0eWxlc1tgJHtwcmVmaXh9JHtjbGFzc05hbWV9YF0gfHwgY2xhc3NOYW1lO1xuICAgIHJldHVybiAnJztcbn07XG5cbmNvbnN0IHRpbWVvdXRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5leHBvcnQgY29uc3QgZGVib3VuY2UgPSAoY2FsbGJhY2s6ICgpID0+IHVua25vd24sIGRlbGF5ID0gMCwgc3ltYm9sID0gU3ltYm9sKCdkZWJvdW5jZWQnKSk6IHN5bWJvbCA9PiB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkZWJvdW5jZTogbm8gY2FsbGJhY2shJyk7XG4gICAgZGVsYXkgPSArZGVsYXk7XG4gICAgaWYgKGlzTmFOKGRlbGF5KSkgdGhyb3cgbmV3IEVycm9yKCdkZWJvdW5jZTogZGVsYXkgc2hvdWxkIGJlIG51bWJlciEnKTtcbiAgICBpZiAodHlwZW9mIHN5bWJvbCAhPT0gJ3N5bWJvbCcpIHN5bWJvbCA9IFN5bWJvbChzeW1ib2wpO1xuICAgIC8vIHN5bWJvbC50b1N0cmluZygpIGhhcyBiZWVuIGFkZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFuZCBjb21wYXRpYmlsaXR5IHdpdGggdHlwZXNjcmlwdC5cbiAgICBpZiAodGltZW91dHNbc3ltYm9sLnRvU3RyaW5nKCldKSBjbGVhclRpbWVvdXQodGltZW91dHNbc3ltYm9sLnRvU3RyaW5nKCldKTtcblxuICAgIC8vIHdpbmRvdy5zZXRUaW1lb3V0IGhhcyBiZWVuIGFkZGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdHlwZXNjcmlwdC5cbiAgICB0aW1lb3V0c1tzeW1ib2wudG9TdHJpbmcoKV0gPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIGRlbGV0ZSB0aW1lb3V0c1tzeW1ib2wudG9TdHJpbmcoKV07XG4gICAgfSwgZGVsYXkpO1xuXG4gICAgcmV0dXJuIHN5bWJvbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkb05vdGhpbmcgPSAoKTogdm9pZCA9PiB2b2lkIDA7XG5cbmV4cG9ydCBjb25zdCBpc0lmcmFtZSA9ICh3aW46IFdpbmRvdyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgICAgd2luLmxvY2F0aW9uICE9PSB3aW4ucGFyZW50LmxvY2F0aW9uIHx8XG4gICAgICAgICAgICAgICAgd2luLnNlbGYgIT09IHdpbi50b3AgfHxcbiAgICAgICAgICAgICAgICB3aW4uc2VsZi5mcmFtZUVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdpbi5zZWxmLmZyYW1lRWxlbWVudCArICcnKS5pbmRleE9mKCdIVE1MSUZyYW1lRWxlbWVudCcpID5cbiAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZXJyb3JdIGlzSWZyYW1lOicsIGUubWVzc2FnZSwgZS5zdGFjayk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4iLCJleHBvcnQgKiBhcyB2NCBmcm9tICcuL3Y0JztcbiIsImV4cG9ydCBjb25zdCBpc0RhdGFMaW5rID0gKHN0cikgPT4gLyg/PCFcXFxcKVtAJGAoW3tdLy50ZXN0KHN0cik7IC8vIGEgbG9va2JlaGluZCBjaGVja2luZyBpcyBzdXBwb3J0ZWQgb25seSBieSBjaHJvbWUgYnJvd3Nlci4gSW4gdmVyc2lvbiA2NCBpdCBoYXMgYmVlbiBjaGVja2VkLlxuZXhwb3J0IGNvbnN0IGlzTGluayA9IChzdHIpID0+IC9eQFthLXpBLVowLTlcXFxcPD46Xy8tXSsvLnRlc3Qoc3RyKTtcbmV4cG9ydCBjb25zdCBpc1Jvb3RMaW5rID0gKHN0cikgPT4gL15AXFwvW2EtekEtWjAtOVxcXFw8PjpfLy1dKy8udGVzdChzdHIpO1xuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSAoc3RyKSA9PiAvXlxcJFthLXpBLVowLTlfLV0rLy50ZXN0KHN0cik7XG5leHBvcnQgY29uc3QgaXNGdW5jdGlvblJlZiA9IChzdHIpID0+IC9eXFwkW2EtekEtWjAtOV8tXStcXGIkLy50ZXN0KHN0cik7XG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbkNhbGwgPSAoc3RyKSA9PiAvXlxcJFthLXpBLVowLTlfLV0rXFwoLio/XFwpJC8udGVzdChzdHIpO1xuIiwiaW1wb3J0IGluZGV4UGFyc2VyIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX3BhcnNlcl9lcnJvcic7XG5pbXBvcnQgeyBEYXRhTGluayB9IGZyb20gJy4vaW5kZXgnO1xuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgaWYgdGhlIG1haW4gcmVzdWx0IGlzIG5vdCBlbXB0eSxcbiAqIG9uIHRvcCBsZXZlbCBhbGwgZGF0YSBzaG91bGQgYmUgY29uY2F0ZW5hdGVkIGFuZCByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cbiAqIEBwYXJhbSByZXN1bHRcbiAqIEBwYXJhbSBtYWluUmVzdWx0XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5jb25zdCBzZXRSZXN1bHQgPSAocmVzdWx0LCBtYWluUmVzdWx0KSA9PiB7XG4gICAgcmV0dXJuIG1haW5SZXN1bHQgPyAnJyArIG1haW5SZXN1bHQgKyByZXN1bHQgOiByZXN1bHQ7XG59O1xuLyoqXG4gKiBSb290IHBhcnNlciBvZiBhIGRhdGEgbGluayBzdHJpbmcsXG4gKiBpdCBkZWxlZ2F0ZXMgdGhlIHdvcmsgdG8gaGVscGVyIHBhcnNlcnMuXG4gKiBIZWxwZXIgcGFyc2VycyByZXR1cm4gYSByZXN1bHQgb2YgcGFyc2luZyBhbmRcbiAqIGEgbmV3IHN0YXRlIG9mIHRoZSBpdGVyYXRvci5cbiAqIEBwYXJhbSB7Kn0gcGFyYW1zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuY29uc3QgZGF0YUxpbmtQYXJzZXIgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGlmICghKGRhdGFMaW5rIGluc3RhbmNlb2YgRGF0YUxpbmspKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuREFUQV9MSU5LX1RZUEUpO1xuICAgIGxldCBtYWluUmVzdWx0O1xuICAgIGxldCByZXN1bHQ7XG4gICAgbWFpblJlc3VsdCA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudFsxXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0AnOiAvLyBsaW5rIHBhcnRcbiAgICAgICAgICAgICAgICBjYXNlICckJzogLy8gZnVuY3Rpb24gcGFydFxuICAgICAgICAgICAgICAgIGNhc2UgJ3snOiAvLyBvYmplY3QgcGFydFxuICAgICAgICAgICAgICAgIGNhc2UgJ1snOiAvLyBhcnJheSBwYXJ0XG4gICAgICAgICAgICAgICAgY2FzZSAnYCc6IC8vIGVzY2FwZWQgYnkgdGhlIGBgIHN5bWJvbHMgc3RyaW5nIHBhcnRcbiAgICAgICAgICAgICAgICBjYXNlICcoJzogLy8gZXhwcmVzc2lvbiBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4UGFyc2VyKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5SZXN1bHQgPSBzZXRSZXN1bHQocmVzdWx0LCBtYWluUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzY2FwZWQgYnkgdGhlIFxcIHN5bWJvbCBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIG1haW5SZXN1bHQgPSBzZXRSZXN1bHQoY3VycmVudFsyXSwgbWFpblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgICAgICBjYXNlICddJzpcbiAgICAgICAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5wcm9jZXNzZWQgY2xvc2Ugc3ltYm9sc1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gcGxhaW4gc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvZG86IGRvZXMgaXQgbmVlZCBpbiBjaGVja2luZyBieSB0aGUgaW5BbGxvd2VkU3ltYm9sIGZ1bmN0aW9uP1xuICAgICAgICAgICAgICAgICAgICBtYWluUmVzdWx0ID0gc2V0UmVzdWx0KGN1cnJlbnRbMV0sIG1haW5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKSBicmVhaztcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKEVycikge1xuICAgICAgICBpZiAoRXJyIGluc3RhbmNlb2YgRGF0YVBhcnNlckVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gZGF0YUxpbmsuZ2V0Q3Vyc29yUG9zaXRpb25JbmZvKCk7XG4gICAgICAgICAgICBFcnIuZnVsbE1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIEVyci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAnLCBkYXRhTGluazogXCInICtcbiAgICAgICAgICAgICAgICBpbmZvICtcbiAgICAgICAgICAgICAgICAnXCIgYXQgcG9zaXRpb24gJyArXG4gICAgICAgICAgICAgICAgZGF0YUxpbmsuZ2V0Q3VycmVudEluZGV4KCk7XG4gICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSkge1xuICAgICAgICAgICAgICAgIEVyci5mdWxsTWVzc2FnZSArPSAnIChvdXQgb2YgdGhlIHN0cmluZyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRXJyLmRhdGEgPSBwYXJhbXMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKEVycik7XG4gICAgICAgIHRocm93IEVycjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFpblJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGFMaW5rUGFyc2VyO1xuIiwiaW1wb3J0IHsgRGF0YVBhcnNlckVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9wYXJzZXIvdXRpbHMvZGF0YV9wYXJzZXJfZXJyb3InO1xuaW1wb3J0IHsgdmFsdWVQYXJzZXIgfSBmcm9tICcuL2dlbmVyYWwnO1xuaW1wb3J0IHNwYWNlU2tpcHBpbmcgZnJvbSAnLi9nZW5lcmFsL3NwYWNlX3NraXBwaW5nJztcblxuLyoqXG4gKiBUaGUgQXJyYXlQYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhIGxpbmsgc3RyaW5nXG4gKiB0aGF0IGlzIHN1cnJvdW5kZWQgYnkgdGhlIFtdIHN5bWJvbHMuXG4gKiBNYXkgY29udGFpbnMgYW55IG90aGVyIGRhdGEgdHlwZXMuXG4gKiBJdCBhbHdheXMgcmV0dXJucyBhbiBhcnJheSBpbiB0aGUgcmVzdWx0IGZpZWxkLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmNvbnN0IGFycmF5UGFyc2VyID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnWycpXG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgaWYgKGN1cnJlbnRbMl0gPT09ICddJykge1xuICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzFdKSB7XG4gICAgICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJ10nKSByZXR1cm4gW107XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcsJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuQVJSQVlfVkFMVUVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWVQYXJzZXIocGFyYW1zLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcsJyB8fCBjdXJyZW50WzJdID09PSAnXScpIGJyZWFrO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5BUlJBWV9WQUxVRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICddJykge1xuICAgICAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXJyYXlQYXJzZXI7XG4iLCJpbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX3BhcnNlcl9lcnJvcic7XG5pbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IGluQWxsb3dlZFN5bWJvbHMgZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5fYWxsb3dlZF9zeW1ib2xzJztcbmltcG9ydCBwcmltaXRpdmVzQ29udmVydGVyIGZyb20gJy4uLy4uLy4uL3V0aWxzL3ByaW1pdGl2ZXNfY29udmVydGVyJztcblxuY29uc3Qgc2V0UmVzdWx0ID0gKGRhdGEsIHJlc3VsdCkgPT4ge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXN1bHQgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCArPSAnJyArIGRhdGE7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRoZSBWYWx1ZVBhcnNlciByZWFkcyBhIHZhbHVlIG9mIGFycmF5cyBhbmQgb2JqZWN0cyBvZiB0aGUgZGF0YUxpbmsgc3RyaW5nLlxuICogQHBhcmFtIHtQYXJzZXJQYXJhbXN9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBhcnJheUNvbnRleHQgLSB0cnVlIG1lYW5zIGFuIGFycmF5IGNvbnRleHQsIGZhbHNlIG1lYW5zIGFuIG9iamVjdCBjb250ZXh0XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuY29uc3QgdmFsdWVQYXJzZXIgPSAocGFyYW1zLCBhcnJheUNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChcbiAgICAgICAgYXJyYXlDb250ZXh0ID09PSB0cnVlICYmXG4gICAgICAgIGN1cnJlbnRbMF0gIT09ICdbJyAmJlxuICAgICAgICBjdXJyZW50WzBdICE9PSAnLCcgJiZcbiAgICAgICAgY3VycmVudFswXSAhPT0gJyAnIHx8XG4gICAgICAgIGFycmF5Q29udGV4dCA9PT0gZmFsc2UgJiYgY3VycmVudFswXSAhPT0gJzonICYmIGN1cnJlbnRbMF0gIT09ICcgJyB8fFxuICAgICAgICB0eXBlb2YgYXJyYXlDb250ZXh0ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBjdXJyZW50WzBdICE9PSAnKCcgJiZcbiAgICAgICAgY3VycmVudFswXSAhPT0gJyAnXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgfVxuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ERUZBVUxUKTtcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNldFJlc3VsdChkYXRhTGluay5nZXROZXh0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdAJzogLy8gbGluayBwYXJ0XG4gICAgICAgICAgICBjYXNlICckJzogLy8gZnVuY3Rpb24gcGFydFxuICAgICAgICAgICAgY2FzZSAneyc6IC8vIG9iamVjdCBwYXJ0XG4gICAgICAgICAgICBjYXNlICdbJzogLy8gYXJyYXkgcGFydFxuICAgICAgICAgICAgY2FzZSAnYCc6IC8vIGVzY2FwZWQgYnkgdGhlIGBgIHN5bWJvbHMgc3RyaW5nIHBhcnRcbiAgICAgICAgICAgIGNhc2UgJygnOiAvLyBleHByZXNzaW9uIHBhcnRcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzZXRSZXN1bHQoaW5kZXhQYXJzZXIocGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ORVNUSU5HKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIHBsYWluIHRleHRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmICghaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzFdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuQVJSQVlfVkFMVUUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk9CSkVDVF9WQUxVRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCB8fCAnJykgKyBzZXRSZXN1bHQoY3VycmVudFsxXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzJdKSB7XG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgIGNhc2UgJyknOiAvLyBzdG9wIHN5bWJvbHMgZm9yIHRoZSB2YWx1ZSBwYXJzZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJpbWl0aXZlc0NvbnZlcnRlcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVQYXJzZXI7XG4iLCJpbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX3BhcnNlcl9lcnJvcic7XG5pbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgc3BhY2VTa2lwcGluZyBmcm9tICcuL2dlbmVyYWwvc3BhY2Vfc2tpcHBpbmcnO1xuaW1wb3J0IHsgdmFsdWVQYXJzZXIgfSBmcm9tICcuL2dlbmVyYWwnO1xuXG4vKipcbiAqIFRoZSBFeHByZXNzaW9uUGFyc2VyIHJlYWRzIGEgcGFydCBvZiB0aGUgZGF0YSBsaW5rIHN0cmluZ1xuICogdGhhdCBpcyBzdXJyb3VuZGVkIGJ5IHRoZSAoKSBzeW1ib2xzLlxuICogSXQgbWlnaHQgYmUgY2FsbGVkIGluIGEgZnVuY3Rpb24gY29udGV4dCBvciBpbiBhIHBsYWluIGNvbnRleHQuIFRoZSBwbGFpbiBjb250ZXh0IGlzIGRlZmF1bHQuXG4gKiBJbiBmdW5jdGlvbiBjb250ZXh0IGl0IGFsd2F5cyByZXR1cm5zIGFuIGFycmF5IGluIHRoZSByZXN1bHQgZmllbGQuXG4gKiBJbiBwbGFpbiBjb250ZXh0IHRoZSByZXN1bHQgZmllbGQgY29udGFpbnMgYW55IGRhdGEuXG4gKiBAcGFyYW0ge1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZ1bmN0aW9uQ29udGV4dFxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IGV4cHJlc3Npb25QYXJzZXIgPSAocGFyYW1zLCBmdW5jdGlvbkNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gZnVuY3Rpb25Db250ZXh0XG4gICAgICAgID8gZnVuY3Rpb25FeHByZXNzaW9uKHBhcmFtcylcbiAgICAgICAgOiBzaW1wbGVFeHByZXNzaW9uKHBhcmFtcyk7XG59O1xuLyoqXG4gKiBFeHByZXNzaW9uIGluIGEgZnVuY3Rpb24gY29udGV4dCwgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgZnVuY3Rpb24ncyBwYXJhbXMuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7W118QXJyYXl9XG4gKi9cbmNvbnN0IGZ1bmN0aW9uRXhwcmVzc2lvbiA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJygnKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgfVxuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIGJyZWFrO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkZVTkNUSU9OX0FSR1VNRU5UU1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVBhcnNlcihwYXJhbXMpKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ORVNUSU5HKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJywnIHx8IGN1cnJlbnRbMl0gPT09ICcpJykgYnJlYWs7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgRGF0YVBhcnNlckVycm9yLkVSUk9SUy5GVU5DVElPTl9BUkdVTUVOVFNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIHtcbiAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4vKipcbiAqIFNpbXBsZSBleHByZXNzaW9uIGNvbnRleHQsIHJldHVybnMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBzaW1wbGVFeHByZXNzaW9uID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJygnKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIHtcbiAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJ0AnOiAvLyBsaW5rIHBhcnRcbiAgICAgICAgICAgIGNhc2UgJyQnOiAvLyBmdW5jdGlvbiBwYXJ0XG4gICAgICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgIGNhc2UgJ1snOiAvLyBhcnJheSBwYXJ0XG4gICAgICAgICAgICBjYXNlICdgJzogLy8gZXNjYXBlZCBieSB0aGUgYGAgc3ltYm9scyBzdHJpbmcgcGFydFxuICAgICAgICAgICAgY2FzZSAnKCc6IC8vIGV4cHJlc3Npb24gcGFydFxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBpbmRleFBhcnNlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgbGV0IHNwYWNlcyA9ICcgJztcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlcyArPSBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElOR1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIGJyZWFrO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzcGFjZXM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIHtcbiAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cHJlc3Npb25QYXJzZXI7XG4iLCJpbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX3BhcnNlcl9lcnJvcic7XG5pbXBvcnQgaW5BbGxvd2VkU3ltYm9scyBmcm9tICcuLi8uLi91dGlscy9pbl9hbGxvd2VkX3N5bWJvbHMnO1xuaW1wb3J0IHsgZXhwcmVzc2lvblBhcnNlciB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgaXNDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udGV4dHVhbF9yZW5kZXJfZnVuY3Rpb25zJztcblxuLyoqXG4gKiBUaGUgRnVuY3Rpb25QYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhTGluayBzdHJpbmdcbiAqIHRoYXQgc3RhcnRzIGZyb20gJCBzeW1ib2wgYW5kIGVuZHMgYnkgKC5cbiAqIEBwYXJhbSB7UGFyYW1zfSBwYXJhbXNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5jb25zdCBmdW5jdGlvblBhcnNlciA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rLCByZW5kZXJGdW5jdGlvbnMsIGRhdGEgfSA9IHBhcmFtcztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnJCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKCFpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMl0pKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5GVU5DVElPTl9OQU1JTkcpO1xuICAgIH1cbiAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgbGV0IGZ1bmN0aW9uTmFtZSA9ICcnO1xuXG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGZ1bmN0aW9uTmFtZSArPSBjdXJyZW50WzFdO1xuICAgICAgICBpZiAoIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSkpIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IGYgPSByZW5kZXJGdW5jdGlvbnNbZnVuY3Rpb25OYW1lXTtcbiAgICBpZiAodHlwZW9mIGYgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudFsyXSAhPT0gJygnICYmXG4gICAgICAgICAgICAhZGF0YUxpbmsuaXNFbmQoKSAmJlxuICAgICAgICAgICAgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuRlVOQ1RJT05fTkFNSU5HKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuRlVOQ1RJT05fVU5LTk9XTik7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBpc0NvbnRleHR1YWxSZW5kZXJGdW5jdGlvbnMocmVuZGVyRnVuY3Rpb25zKVxuICAgICAgICA/IHJlbmRlckZ1bmN0aW9uc1xuICAgICAgICA6IGRhdGE7XG4gICAgaWYgKGN1cnJlbnRbMl0gPT09ICcoJykge1xuICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIGYuYXBwbHkoY29udGV4dCwgZXhwcmVzc2lvblBhcnNlcihwYXJhbXMsIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZi5iaW5kKGNvbnRleHQpOyAvLyBpdCBzYXZlcyB0aGUgY3VycmVudCBkeW5hbWljIGNvbnRleHQsIGp1c3QgaW4gY2FzZS5cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvblBhcnNlcjtcbiIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzX29iamVjdCc7XG5cbmZ1bmN0aW9uIGdldENvbnRleHR1YWxDb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbnN0cnVjdG9yIGRlZmluZXMgYSBydW50aW1lIGNvbnRleHQgd2l0aCB0aGUgdmFsdWVzLCBwcm9wcyBhbmQgc2V0VmFsdWVzLlxuICAgICAqIFRoZSBjb21wdXRhdGlvbnMgYW5kIHZhbGlkYXRpb25zIGFyZSBuZWVkIGluIHRoZXNlIHBhcmFtcy5cbiAgICAgKiBAdG9kbzogVGhlIHBhcmFtcyBsaXN0IHNob3VsZCBiZSBkeW5hbWljLiBJdCBtYXkgYmUgaW1wbGVtZW50ZWQgdGhyb3VnaCB0aGUgXCJuZXcgRnVuY3Rpb24oLi4uKVwiIHN5bnRheC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIC0gaXQgaXMgdXN1YWxseSBhIHN0YXRlIG9mIHRoZSBjbGllbnQgY3JlYXRlL2VkaXQgcGFnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBpdCBpcyB1c3VhbGx5IGEgcHJvcHMgb2JqZWN0IG9mIHRoZSBjdXJyZW50IHJlYWN0IGNvbXBvbmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIChhIGZpZWxkIG9uIHRoZSBjbGllbnQgY3JlYXRlL2VkaXQgcGFnZSkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0VmFsdWVzIC0gYSBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgc3RhdGUuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIENvbnRleHR1YWxSZW5kZXJGdW5jdGlvbnModmFsdWVzLCBwcm9wcywgc2V0VmFsdWVzKSB7XG4gICAgICAgIGlmICghbmV3LnRhcmdldClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnQ29udGV4dHVhbFJlbmRlckZ1bmN0aW9uczogTXVzdCBiZSBpbnZva2VkIGFzIGEgY29uc3RydWN0b3IhJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMgPSBzZXRWYWx1ZXM7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbm5lY3RzIHBhc3NlZCBvYmplY3RzIHdpdGggZnVuY3Rpb25zIHRvIHRoZSBDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zJ3MgcHJvdG90eXBlLlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBhcmdzIC0gYSBsaXN0IG9mIG9iamVjdHMgd2l0aCBtZXRob2RzIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkIGluIHNvbWUgZHluYW1pYyBjb250ZXh0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhlc2UgYXJlIHVzdWFsbHkgdGhlIGNvbXB1dGF0aW9ucywgdmFsaWRhdGlvbnMgYW5kIHJlbmRlckZ1bmN0aW9ucykuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb25Db25zdHJ1Y3Rvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2VDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zKC4uLmFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnY29tcG9zZUNvbnRleHR1YWxSZW5kZXJGdW5jdGlvbnM6IGF0IGxlYXN0IG9uZSBvYmplY3Qgd2l0aCBmdW5jdGlvbnMgbXVzdCBiZSBwYXNzZWQhJ1xuICAgICAgICApO1xuICAgIGNvbnN0IGpvaW5lZFJGID0gYXJncy5yZWR1Y2UoKGFjYywgYXJnKSA9PiAoeyAuLi5hY2MsIC4uLmFyZyB9KSwge30pO1xuICAgIGNvbnN0IENvbnRleHR1YWxSZW5kZXJGdW5jdGlvbnMgPSBnZXRDb250ZXh0dWFsQ29uc3RydWN0b3IoKTtcbiAgICBDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zLnByb3RvdHlwZSA9IHtcbiAgICAgICAgLi4uam9pbmVkUkYsXG4gICAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixcbiAgICB9O1xuICAgIHJldHVybiBDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFzc2VkIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgQ29udGV4dHVhbFJlbmRlckZ1bmN0aW9ucyBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb250ZXh0dWFsUmVuZGVyRnVuY3Rpb25zKG9iamVjdCkge1xuICAgIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICAgIHJldHVybiBwcm90by5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQ29udGV4dHVhbFJlbmRlckZ1bmN0aW9ucyc7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCBpbkFsbG93ZWRTeW1ib2xzIGZyb20gJy4uLy4uL3V0aWxzL2luX2FsbG93ZWRfc3ltYm9scyc7XG5pbXBvcnQgaXNPYmplY3QgZnJvbSAnLi4vLi4vdXRpbHMvaXNfb2JqZWN0JztcbmltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzL2RhdGFfcGFyc2VyX2Vycm9yJztcbmltcG9ydCBpbmRleFBhcnNlciBmcm9tICcuL2luZGV4JztcblxuLyoqXG4gKiBSZWFkcyBhIHNsYXNoIHNlcGFyYXRlZCBwYXJ0IG9mIGEgbGluayBvZiB0aGUgRGF0YUxpbmssXG4gKiByZXR1cm4gYW4gT2JqZWN0LlxuICogQHBhcmFtIHBhcmFtc1xuICogQHBhcmFtIGRhdGFcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmNvbnN0IHJlYWRMaW5rUGFydCA9IChwYXJhbXMsIGRhdGEpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rLCBkZWZhdWx0VmFsdWUgfSA9IHBhcmFtcztcbiAgICBsZXQgcGFydCA9ICcnO1xuICAgIGxldCBjb21wdXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgaWYgKGN1cnJlbnRbMV0gIT09ICcvJyAmJiBjdXJyZW50WzFdICE9PSAnQCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpIHJldHVybiBkYXRhO1xuICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJzwnOiAvLyBpbmRleCBwYXJ0XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMF0gIT09ICcvJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSU5ERVhfUEFSVFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFkSW5kZXhOYW1lKHBhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICBjYXNlICc6JzogLy8gdG9rZW4gcGFydFxuICAgICAgICAgICAgICAgIHBhcnQgPSByZWFkVG9rZW4ocGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyQnOiAvLyBmdW5jdGlvbiBwYXJ0XG4gICAgICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgIGNhc2UgJ1snOiAvLyBhcnJheSBwYXJ0XG4gICAgICAgICAgICBjYXNlICcoJzogLy8gZXhwcmVzc2lvbiBwYXJ0XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMF0gIT09ICcvJyAmJiBjdXJyZW50WzBdICE9PSAnQCcpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gaW5kZXhQYXJzZXIoeyAuLi5wYXJhbXMsIGRhdGEgfSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnXFxcXCc6IC8vIGVzY2FwZWQgc3ltYm9sXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkxJTkspO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBwYXJ0ICs9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICghaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzFdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkxJTkspO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBwYXJ0ICs9IGN1cnJlbnRbMV07XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhTGluay5pc0VuZCgpIHx8XG4gICAgICAgICAgICBjdXJyZW50WzJdID09PSAnLycgfHxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0gIT09ICdcXFxcJyAmJiAhaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzJdKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbXB1dGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbXB1dGVkICYmIGN1cnJlbnRbMl0gIT09ICcvJykgcmV0dXJuIHBhcnQ7XG4gICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIGlmIChwYXJ0ICYmIC9eXFxkKyQvLnRlc3QocGFydCkgJiYgQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgICAgIHJldHVybiBkYXRhW051bWJlcihwYXJ0KV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgICAgICBpZiAocGFydCAmJiBpc09iamVjdChkYXRhKSlcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZGF0YVtwYXJ0XSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgIDogZGF0YVtwYXJ0XTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnQ7XG59O1xuLyoqXG4gKiBSZWFkcyBhIG5hbWUgb2YgYSB0b2tlbiBvZiB0aGUgZGF0YS5cbiAqIEBwYXJhbSBwYXJhbXNcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCByZWFkVG9rZW4gPSAocGFyYW1zLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgZGVmYXVsdFZhbHVlLCB0b2tlbnMgPSB7fSB9ID0gcGFyYW1zO1xuICAgIGxldCB0b2tlbiA9ICcnO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgaWYgKGN1cnJlbnRbMV0gIT09ICc6Jykge1xuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRbMF0gIT09ICcvJyAmJiBjdXJyZW50WzBdICE9PSAnQCcgfHxcbiAgICAgICAgZGF0YUxpbmsuaXNFbmQoKSB8fFxuICAgICAgICBjdXJyZW50WzJdICE9PSAnXFxcXCcgJiYgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSlcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkxJTkspO1xuICAgIH1cbiAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgdG9rZW4gKz0gY3VycmVudFsxXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZGF0YUxpbmsuaXNFbmQoKSB8fFxuICAgICAgICAgICAgY3VycmVudFsyXSAhPT0gJ1xcXFwnICYmXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRbMl0gPT09ICcvJyB8fCAhaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzJdKSlcbiAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIHRoZSBwYXNzZWQgb2JqZWN0IG9mIHRva2VucyBpcyBzb21ldGltZXMgcHJvdmlkZWQgYnkgdGhlIHFzLnBhcnNlIG1ldGhvZCB0aGF0IGNyZWF0ZWQgaXQgd2l0aCB0aGUgbnVsbCBwcm90b3R5cGUuXG4gICAgY29uc3Qga2V5ID1cbiAgICAgICAgdG9rZW4gJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRva2VucywgdG9rZW4pXG4gICAgICAgICAgICA/IHRva2Vuc1t0b2tlbl1cbiAgICAgICAgICAgIDogMDtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpICYmICFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IFRoZSBkYXRhIHNob3VsZCBiZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXkhJyk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gdHlwZW9mIHJlcyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0VmFsdWUgOiByZXM7XG59O1xuLyoqXG4gKiBSZWFkcyBhIG5hbWUgb2YgZGF0YSBhcnJheSBpdGVtcyBpbmRleC5cbiAqIEBwYXJhbSBwYXJhbXNcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCByZWFkSW5kZXhOYW1lID0gKHBhcmFtcywgZGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgaW5kZXhOYW1lID0gJyc7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklOREVYX05PVF9BUlJBWV9EQVRBKTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRbMV0gIT09ICc8Jykge1xuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFsyXSA9PT0gJz4nIHx8IGN1cnJlbnRbMF0gIT09ICcvJykge1xuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSU5ERVhfRU1QVFkpO1xuICAgIH1cbiAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgaWYgKGluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsxXSkpIHtcbiAgICAgICAgICAgIGluZGV4TmFtZSArPSBjdXJyZW50WzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklOREVYX05BTUUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnPicpIGJyZWFrO1xuICAgIH1cbiAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgaWYgKGN1cnJlbnRbMl0gPT09ICcvJylcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklOREVYX0xBU1QpO1xuICAgIGlmIChpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMl0pKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSU5ERVhfUEFSVCk7XG4gICAgZm9yIChjb25zdCBpIGluIGRhdGEpIGRhdGFbaV1baW5kZXhOYW1lXSA9IGk7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuXG5jb25zdCBsaW5rUGFyc2VyID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmssIGRhdGEsIHJvb3REYXRhIH0gPSBwYXJhbXM7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJ0AnKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIGxldCBsb2NhbERhdGEgPSBkYXRhO1xuICAgIGlmIChjdXJyZW50WzJdID09PSAnLycpIHtcbiAgICAgICAgbG9jYWxEYXRhID0gcm9vdERhdGE7XG4gICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgIH1cbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRbMV0gPT09ICcvJyB8fCBjdXJyZW50WzFdID09PSAnQCcpIHtcbiAgICAgICAgICAgIGxvY2FsRGF0YSA9IHJlYWRMaW5rUGFydChwYXJhbXMsIGxvY2FsRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTElOSyk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhTGluay5pc0VuZCgpIHx8XG4gICAgICAgICAgICBjdXJyZW50WzJdICE9PSAnLycgJiYgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSlcbiAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbERhdGE7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsaW5rUGFyc2VyO1xuIiwiaW1wb3J0IHsgRGF0YVBhcnNlckVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9wYXJzZXIvdXRpbHMvZGF0YV9wYXJzZXJfZXJyb3InO1xuaW1wb3J0IHsgdmFsdWVQYXJzZXIsIHNwYWNlU2tpcHBpbmcgfSBmcm9tICcuL2dlbmVyYWwnO1xuaW1wb3J0IGluQWxsb3dlZFN5bWJvbHMgZnJvbSAnLi4vLi4vdXRpbHMvaW5fYWxsb3dlZF9zeW1ib2xzJztcbmltcG9ydCBpbmRleFBhcnNlciBmcm9tICcuL2luZGV4JztcbmNvbnN0IE5PVF9ERUZJTkVEID0gU3ltYm9sKCdOb3REZWZpbmVkJyk7XG4vKipcbiAqIFRoZSBLZXlQYXJzZXIgcmVhZHMgYSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IG9mIHRoZSBkYXRhIGxpbmsgc3RyaW5nLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBrZXlQYXJzZXIgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGxldCBrZXkgPSAnJztcbiAgICBmb3IgKGxldCBjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChjdXJyZW50WzFdID09PSAneycgfHwgY3VycmVudFsxXSA9PT0gJ30nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICBjYXNlICckJzpcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBpbmRleFBhcnNlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX0tFWV9TVFJJTkdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBrZXkgKz0gcmVzO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBrZXkgKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMV0gIT09ICcvJyAmJiAhaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzFdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX0tFWVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGtleSArPSBjdXJyZW50WzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJzonIHx8IGN1cnJlbnRbMl0gPT09ICcgJykgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59O1xuXG4vKipcbiAqIFRoZSBPYmplY3RQYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhIGxpbmsgc3RyaW5nXG4gKiB0aGF0IGlzIHN1cnJvdW5kIGJ5IHRoZSB7fSBzeW1ib2xzLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCBvYmplY3RQYXJzZXIgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgbGV0IGtleSA9IE5PVF9ERUZJTkVEO1xuICAgIGxldCB2YWx1ZSA9IE5PVF9ERUZJTkVEO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAneycpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG5cbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzFdKSB7XG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgIGNhc2UgJ3snOlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgICAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5UGFyc2VyKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpIHx8IGN1cnJlbnRbMl0gIT09ICc6JylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX0tFWVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnOic6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBkYXRhTGluay5pc0VuZCgpIHx8XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbMl0gPT09ICcsJyB8fFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WzJdID09PSAnfSdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk9CSkVDVF9WQUxVRVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVQYXJzZXIocGFyYW1zLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyA/P1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk9CSkVDVF9LRVlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcgfHwgY3VycmVudFsyXSA9PT0gJ30nKSBicmVhaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX1ZBTFVFKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJ30nKSB7XG4gICAgICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFBhcnNlcjtcbiIsImltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzL2RhdGFfcGFyc2VyX2Vycm9yJztcblxuLyoqXG4gKiBUaGUgRXNjYXBlZFBsYWluUGFyc2VyIHJlYWRzIGEgcGFydCBvZiB0aGUgZGF0YSBsaW5rIHN0cmluZ1xuICogdGhhdCBpcyBzdXJyb3VuZGVkIGJ5IHRoZSBgYCBzeW1ib2xzLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5jb25zdCBlc2NhcGVkUGxhaW5QYXJzZXIgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnYCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChjdXJyZW50WzFdID09PSAnYCcpIGJyZWFrO1xuICAgICAgICBpZiAoY3VycmVudFsxXSA9PT0gJ1xcXFwnKSBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgICAgICByZXN1bHQgKz0gY3VycmVudFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGVzY2FwZWRQbGFpblBhcnNlcjtcbiIsImNvbnN0IGdlbmVyYXRvciA9IGZ1bmN0aW9uKiAoKTogR2VuZXJhdG9yPG51bWJlciwgbmV2ZXIsIHVua25vd24+IHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOyBpKyspIHlpZWxkIGk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2FmZSBudW1iZXIgcmFuZ2UgaXMgb3ZlciEnKTsgLy8gSW1wb3NzaWJsZT9cbn07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuY29uc3QgaW5jcmVtZW50R2VuZXJhdG9yID0gZnVuY3Rpb24gKHRoaXM6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGdlbiA9IGdlbmVyYXRvcigpO1xuICAgIHRoaXMuZ2VuID0gZ2VuO1xufTtcbmluY3JlbWVudEdlbmVyYXRvci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuLm5leHQoKS52YWx1ZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluY3JlbWVudEdlbmVyYXRvcjtcbiIsImltcG9ydCBWYWxpZGF0aW9uRXJyb3IgZnJvbSAnLi4vZXJyb3JzL3ZhbGlkYXRpb25fZXJyb3InO1xuaW1wb3J0IHsgaXNFbXB0eSwgaXNFcnJvciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCBCcmVha1Byb21pc2VDaGFpbkVycm9yIGZyb20gJy4uL2Vycm9ycy9icmVha19wcm9taXNlX2NoYWluX2Vycm9yJztcbmltcG9ydCB7IGRlZXBDb3B5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGVlcF9jb3B5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9saW5rX3BhcnNlci91dGlscyc7XG5pbXBvcnQgeyBhc3luY0RhdGFQYXJzZXIsIE1PREUgfSBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci92NSc7XG5pbXBvcnQgeyBydW5Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzJztcbmltcG9ydCB7IGF3YWl0QWxsIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHByb21pc2VzIHRoYXQgYXJlIHJlbGF0ZWQgd2l0aCBmb3JtcyBhY2NvcmRpbmcgdGhlIF9mb3JtSWRfLlxuICogQHR5cGUge3t9fVxuICovXG5jb25zdCBmb3JtUHJvbWlzZXMgPSB7fTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgc2V0U3RhdGUgcHJvY2Vzc29yIHRoYXQgd29ya3Mgd2l0aCBjb21wdXRhdGlvbnMgYWN0aW9ucy5cbiAqIFRoaXMgcHJvY2Vzc29yIGJ1aWxkcyBhIHByb21pc2VzIGNoYWluIGZyb20gdGhlIHBhc3NlZCBhY3Rpb25zIGxpc3QuXG4gKiBUaGlzIHByb2Nlc3NvciBicmVha3MgdGhlIHByZXZpb3VzIGNvbXB1dGF0aW9ucyBjaGFpbiBmb3IgdGhlIGN1cnJlbnQgZmllbGQgaWYgaXQgaXMgbm90IGZpbmlzaGVkIHlldC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gc2NoZW1hIC0gZnVsbCBzY2hlbWFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb21wdXRhdGlvbnMgLSBjb2xsZWN0aW9ucyBvZiBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHVwZGF0ZVN0YXRlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRIYW5kbGVyID0gKHsgc2NoZW1hLCBjb21wdXRhdGlvbnMsIHVwZGF0ZVN0YXRlIH0pID0+IHtcbiAgICAvLyB0b2RvOiBtYXliZSBfZm9ybUlkXyB2YWx1ZSBzaG91bGQgYmUgYmFzZWQgb24gc2NoZW1hIG5hbWUuXG4gICAgY29uc3QgeyBfZm9ybUlkXyB9ID0gc2NoZW1hO1xuICAgIGlmICh0eXBlb2YgdXBkYXRlU3RhdGUgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcignU2VjdGlvbnNDb21wdXRhdGlvbnM6IHVwZGF0ZSBzdGF0ZSBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgcmV0dXJuICh7IHZhbHVlLCBhY3Rpb25zLCBhZnRlciwgY29udGV4dCwgY3VycmVudFNjaGVtYU9iamVjdCwgbWF0Y2gsIGxvY2F0aW9uIH0pID0+IHtcbiAgICAgICAgbGV0IHsgX29iamVjdElkXyB9ID0gY3VycmVudFNjaGVtYU9iamVjdDtcbiAgICAgICAgX29iamVjdElkXyA9IE51bWJlcihfb2JqZWN0SWRfKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihfb2JqZWN0SWRfKSkgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9uc0NvbXB1dGF0aW9uOiBfb2JqZWN0SWRfIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICAgIGlmICh0eXBlb2YgX2Zvcm1JZF8gPT09ICd1bmRlZmluZWQnIHx8ICFfZm9ybUlkXykgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9uc0NvbXB1dGF0aW9uczogZm9ybUlkIG11c3QgYmUgZGVmaW5lZC4nKTtcblxuICAgICAgICBpZiAoIWZvcm1Qcm9taXNlcy5oYXNPd25Qcm9wZXJ0eShfZm9ybUlkXykpIHtcbiAgICAgICAgICAgIGZvcm1Qcm9taXNlc1tfZm9ybUlkX10gPSB7XG4gICAgICAgICAgICAgICAgbWFpblJlamVjdDogbnVsbCxcbiAgICAgICAgICAgICAgICBuZXdDb250ZXh0OiBkZWVwQ29weShjb250ZXh0KSxcbiAgICAgICAgICAgICAgICBjb21wdXRlQ2hhaW5zOiB7fSxcbiAgICAgICAgICAgICAgICBhZnRlckFjdGlvbnM6IHt9LFxuICAgICAgICAgICAgICAgIGJyZWFrQ29udHJvbHM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtYWluUmVqZWN0LCBuZXdDb250ZXh0LCBicmVha0NvbnRyb2xzLCBjb21wdXRlQ2hhaW5zLCBhZnRlckFjdGlvbnMgfSA9IGZvcm1Qcm9taXNlc1tfZm9ybUlkX107XG4gICAgICAgIGlmICh0eXBlb2YgbWFpblJlamVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gQnJlYWtzIGF3YWl0aW5nIGZvciBhbGwgcHJvbWlzZSBjaGFpbnMgZm9yIHRoZSBjdXJyZW50IGZvcm0uXG4gICAgICAgICAgICBtYWluUmVqZWN0KG5ldyBCcmVha1Byb21pc2VDaGFpbkVycm9yKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBicmVha0NvbnRyb2xzW19vYmplY3RJZF9dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBCcmVha3MgdGhlIHByZXZpb3VzIHByb21pc2UgY2hhaW4gZm9yIHRoZSBjdXJyZW50IGZpZWxkLlxuICAgICAgICAgICAgYnJlYWtDb250cm9sc1tfb2JqZWN0SWRfXShuZXcgQnJlYWtQcm9taXNlQ2hhaW5FcnJvcigpKTtcbiAgICAgICAgICAgIGRlbGV0ZSBjb21wdXRlQ2hhaW5zW19vYmplY3RJZF9dO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFjdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb25zQ29tcHV0YXRpb246IEFjdGlvbnMgc2hvdWxkIGJlIGFuIEFycmF5LicpO1xuICAgICAgICBpZiAoIWFjdGlvbnMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb25zQ29tcHV0YXRpb246IEFjdGlvbnMgY2FuIG5vdCBiZSBlbXB0eS4nKTtcbiAgICAgICAgY29uc3QgcHJvY2VzcyA9IHJ1bih0cnVlLCBhY3Rpb25zLCB2YWx1ZSwgY3VycmVudFNjaGVtYU9iamVjdCwgbmV3Q29udGV4dCwgc2NoZW1hLCBjb21wdXRhdGlvbnMsIG1hdGNoLCBsb2NhdGlvbiwgdXBkYXRlU3RhdGUpO1xuICAgICAgICBwcm9jZXNzXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjbGVhckVycm9ycyhjdXJyZW50U2NoZW1hT2JqZWN0LCBuZXdDb250ZXh0KSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVFcnJvcnMoZXJyb3IsIGN1cnJlbnRTY2hlbWFPYmplY3QsIG5ld0NvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGVyZSBhcmUgZXJyb3JzIGluIHRoZSBmb3JtIScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjbGVhckVycm9ycyhzY2hlbWEsIG5ld0NvbnRleHQpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IgaW5zdGFuY2VvZiBCcmVha1Byb21pc2VDaGFpbkVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZUVycm9ycyhlcnJvciwgc2NoZW1hLCBuZXdDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29tcHV0ZUNoYWluc1tfb2JqZWN0SWRfXSA9IHByb2Nlc3M7XG4gICAgICAgIGNvbnN0IGFsbENoYWlucyA9IE9iamVjdC52YWx1ZXMoY29tcHV0ZUNoYWlucyk7XG4gICAgICAgIGNvbnN0IHsgcmVqZWN0Q2FsbGJhY2ssIHByb21pc2UgfSA9IGF3YWl0QWxsKGFsbENoYWlucyk7XG4gICAgICAgIGZvcm1Qcm9taXNlc1tfZm9ybUlkX10ubWFpblJlamVjdCA9IHJlamVjdENhbGxiYWNrO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhZnRlcikgJiYgYWZ0ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZnRlckFjdGlvbnNbX29iamVjdElkX10gPSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogYWZ0ZXIsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgY3VycmVudFNjaGVtYU9iamVjdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3VsdHMucmVkdWNlKChhY2MsIHsgc3RhdHVzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MgfHwgc3RhdHVzID09PSAnc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cykgdXBkYXRlU3RhdGUobmV3Q29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmb3JtUHJvbWlzZXNbX2Zvcm1JZF9dO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQnJlYWtQcm9taXNlQ2hhaW5FcnJvcikgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGNvbnNvbGUuZXJyb3IoJ1tlcnJvcl0gY29tcHV0YXRpb25zOiAnLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcnVucyB0aGUgXCJhZnRlciBhY3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgY2hhaW5zIHNob3VsZCBub3QgYWZmZWN0IHRoZSBjb250ZXh0LlxuICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciBjaGFpbnMgaXMgaW50ZW5kZWQgb25seSBmb3Igc2VydmljZSBvcGVyYXRpb25zIChyZXNpemUgaWZyYW1lLCBzZW5kIHJlcXVlc3QuLi4pLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFpbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkoYWZ0ZXJBY3Rpb25zKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhZnRlckFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhY3Rpb25zLCB2YWx1ZSwgY3VycmVudFNjaGVtYU9iamVjdCB9ID0gYWZ0ZXJBY3Rpb25zW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluc1tpZF0gPSBydW4oZmFsc2UsIGFjdGlvbnMsIHZhbHVlLCBjdXJyZW50U2NoZW1hT2JqZWN0LCBuZXdDb250ZXh0LCBzY2hlbWEsIGNvbXB1dGF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlIH0gPSBhd2FpdEFsbChjaGFpbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEJyZWFrUHJvbWlzZUNoYWluRXJyb3IpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbZXJyb3JdIGFmdGVyQ29tcHV0YXRpb25zOiAnLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDb21wdXRhdGlvbnMgYmVnaW5uaW5nLlxuICogQHBhcmFtIGNvbnRyb2xTdGF0dXNcbiAqIEBwYXJhbSBhY3Rpb25zTGlzdFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gY3VycmVudFNjaGVtYU9iamVjdFxuICogQHBhcmFtIGNvbnRleHRcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvdGhlclBhcmFtc1xuICogQHJldHVybnMge1Byb21pc2U8Kj59XG4gKi9cbmZ1bmN0aW9uIHJ1biAoY29udHJvbFN0YXR1cywgYWN0aW9uc0xpc3QsIHZhbHVlLCBjdXJyZW50U2NoZW1hT2JqZWN0LCBjb250ZXh0LCBzY2hlbWEsIC4uLm90aGVyUGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgeyBfZm9ybUlkXyB9ID0gc2NoZW1hO1xuICAgICAgICBjb25zdCB7IF9vYmplY3RJZF8gfSA9IGN1cnJlbnRTY2hlbWFPYmplY3Q7XG4gICAgICAgIGNvbnN0IHsgYnJlYWtDb250cm9scyA9IG51bGwgfSA9IGZvcm1Qcm9taXNlc1tfZm9ybUlkX10gfHwge307XG4gICAgICAgIGlmIChjb250cm9sU3RhdHVzICYmICFicmVha0NvbnRyb2xzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tlcnJvcl0gYnJlYWtDb250cm9scyBpcyBub3QgZGVmaW5lZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGcgPSBhY3Rpb25zSXRlcmF0b3IoYWN0aW9uc0xpc3QsIHZhbHVlLCBjdXJyZW50U2NoZW1hT2JqZWN0LCBjb250ZXh0LCBzY2hlbWEsIC4uLm90aGVyUGFyYW1zKTtcblxuICAgICAgICBsZXQgYnJlYWtNYXJrID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHN0b3AgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9uZSB9ID0gZy50aHJvdyhlcnIpO1xuICAgICAgICAgICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtNYXJrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udHJvbFN0YXR1cyAmJiBkZWxldGUgYnJlYWtDb250cm9sc1tfb2JqZWN0SWRfXTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnRyb2xTdGF0dXMgJiYgKGJyZWFrQ29udHJvbHNbX29iamVjdElkX10gPSBzdG9wKTtcblxuICAgICAgICBjb25zdCBuZXh0ID0gKHYpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyZWFrTWFyaykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBnLm5leHQodik7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZWxzZSB2YWx1ZS50aGVuKG5leHQsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG5leHQoKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyB0aGUgcGFzc2VkIGFjdGlvbnMgbGlzdC5cbiAqIEBwYXJhbSBhY3Rpb25zTGlzdFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gb3RoZXJQYXJhbXNcbiAqIEByZXR1cm5zIHtHZW5lcmF0b3I8UHJvbWlzZTxuZXZlcj58UHJvbWlzZXxQcm9taXNlPCo+fCosIHZvaWQsICo+fVxuICovXG5mdW5jdGlvbiogYWN0aW9uc0l0ZXJhdG9yIChhY3Rpb25zTGlzdCwgdmFsdWUsIC4uLm90aGVyUGFyYW1zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCBhY3Qgb2YgYWN0aW9uc0xpc3QpIHtcbiAgICAgICAgICAgIHZhbHVlID0geWllbGQgY29tcHV0ZShhY3QsIHZhbHVlLCAuLi5vdGhlclBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBCcmVha1Byb21pc2VDaGFpbkVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tkZWJ1Z10gYWN0aW9uc0l0ZXJhdG9yIGhhcyBiZWVuIHN0b3BwZWQuJyk7XG4gICAgICAgIH0gZWxzZSB0aHJvdyBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxscyB0aGUgY3VycmVudCBmdW5jdGlvbiBpbiB0aGUgcHJvbWlzZSBjaGFpbixcbiAqIGlmIHNvbWUgZGF0YUxpbmsgaW4gdGhlIGFkZGl0aW9uYWwgcGFyYW1zIGhhcyBiZWVuIHBhc3NlZCAtIHRoZSBkYXRhTGlua1BhcnNlciBwYXJzZXMgaXQuXG4gKiBUaGlzIHByb2Nlc3NvciBhbHdheXMgcmV0dXJucyBhIFByb21pc2UsXG4gKiBpZiB0aGUgY2FsbGVkIGZ1bmN0aW9uIHJldHVybnMgYSBub3QgUHJvbWlzZSBvYmplY3QsIGl0IGlzIHJlc29sdmVkIFwiYXMgaXNcIixcbiAqIGlmIHRoZSBjYWxsZWQgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UgLSB3ZSB3YWl0IHVudGlsIHRoZSBwcm9taXNlJ3Mgc3RhdGUgaXMgY2hhbmdlZCBhbmQgcHJvY2VzcyBpdC5cbiAqIEluIHRoaXMgZnVuY3Rpb24sIHdlIHJlZ2lzdGVyIGEgcmVqZWN0IGZ1bmN0aW9uIHRvIHRha2UgdGhlIHBvc3NpYmlsaXR5IHRvIGJyZWFrIHRoZSBjdXJyZW50IHByb21pc2UgY2hhaW4uXG4gKiBAcGFyYW0geyp9IGFjdCAtIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgYSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRTY2hlbWFPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge09iamVjdH0gY29tcHV0YXRpb25zXG4gKiBAcGFyYW0gbWF0Y2hcbiAqIEBwYXJhbSBsb2NhdGlvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gdXBkYXRlU3RhdGVcbiAqIEByZXR1cm5zIHtQcm9taXNlPG5ldmVyPnxQcm9taXNlfFByb21pc2U8dW5rbm93bj59XG4gKi9cbmNvbnN0IGNvbXB1dGUgPSAoYWN0LCB2YWx1ZSwgY3VycmVudFNjaGVtYU9iamVjdCwgY29udGV4dCwgc2NoZW1hLCBjb21wdXRhdGlvbnMsIG1hdGNoLCBsb2NhdGlvbiwgdXBkYXRlU3RhdGUpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbFJlc29sdmUgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb21wdXRhdGlvbiBtdXN0IHJldHVybiBhbiBvYmplY3QuJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbCA9IHsgLi4udmFsdWUsIC4uLnZhbCB9O1xuICAgICAgICAgICAgaWYgKCF2YWwuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgfHwgIXZhbC5oYXNPd25Qcm9wZXJ0eSgnZGF0YUxpbmsnKSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JldHVybmVkIG9iamVjdCBtdXN0IGNvbnRhaW4gXCJ2YWx1ZVwiIGFuZCBcImRhdGFMaW5rXCIgcHJvcGVydGllcy4nKSk7XG4gICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZSh2YWwpO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY0RhdGFQYXJzZXIoeyBzY2hlbWE6IGFjdCwgZnVuY3Rpb25zOiBjb21wdXRhdGlvbnMsIGRhdGE6IGNvbnRleHQsIHJvb3REYXRhOiBjb250ZXh0LCBtb2RlOiBNT0RFLlVTRVJfREVFUCB9KVxuICAgICAgICAgICAgLnRoZW4oKGFjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGFjdCh2YWx1ZSwgeyBjb250ZXh0LCBzY2hlbWEsIGN1cnJlbnRTY2hlbWFPYmplY3QsIG1hdGNoLCBsb2NhdGlvbiwgY29tcHV0YXRpb25zLCB1cGRhdGVTdGF0ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdC5pc0dlbmVyYXRvcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5Bc3luY0dlbmVyYXRvcihyZXMsIGZpbmFsUmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMudGhlbihmaW5hbFJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBhY3QudGhlbihmaW5hbFJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxSZXNvbHZlKGFjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYW4gZXJyb3IgbWVzc2FnZXMgYXJyYXkgdG8gdGhlIHBhc3NlZCBzY2hlbWEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IGVycm9yXG4gKiBAcGFyYW0ge09iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge1Byb3h5fSBjb250ZXh0IC0gUHJveHkgd3JhcHBlZCBjb250ZXh0LlxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IHdyaXRlRXJyb3JzID0gKGVycm9yLCBzY2hlbWEsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IF9vYmplY3RJZF8gfSA9IHNjaGVtYTtcbiAgICBjb25zdCBzZXJ2aWNlS2V5ID0gU3ltYm9sLmZvcihfb2JqZWN0SWRfKTtcbiAgICBjb25zdCBzZXJ2aWNlT2JqZWN0ID0gY29udGV4dFtzZXJ2aWNlS2V5XSB8fCB7fTtcbiAgICBpZiAoaXNFcnJvcihlcnJvcikpIHtcbiAgICAgICAgY29udGV4dFtzZXJ2aWNlS2V5XSA9IHsgLi4uc2VydmljZU9iamVjdCwgZXJyb3JzOiBbIGVycm9yLm1lc3NhZ2UgXSB9O1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oJ1tkZWJ1Z10gZXJyb3InLCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXJyb3IpKTtcbiAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgZXJyb3IhIEVycm9yIG9iamVjdCBtdXN0IGJlIGluc3RhbmNlIG9mIHRoZSBFcnJvci4nKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBlcnJvciBtZXNzYWdlcyBhcnJheSBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZpY2Ugb2JqZWN0IGluIHRoZSBjb250ZXh0LlxuICogQHBhcmFtIHtPYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtQcm94eX0gY29udGV4dFxuICovXG5jb25zdCBjbGVhckVycm9ycyA9IChzY2hlbWEsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IF9vYmplY3RJZF8gfSA9IHNjaGVtYTtcbiAgICBjb25zdCBzZXJ2aWNlS2V5ID0gU3ltYm9sLmZvcihfb2JqZWN0SWRfKTtcbiAgICBjb25zdCBzZXJ2aWNlT2JqZWN0ID0gY29udGV4dFtzZXJ2aWNlS2V5XSB8fCB7fTtcbiAgICBpZiAoJ2Vycm9ycycgaW4gc2VydmljZU9iamVjdCkgZGVsZXRlIHNlcnZpY2VPYmplY3QuZXJyb3JzO1xuICAgIGNvbnRleHRbc2VydmljZUtleV0gPSB7IC4uLnNlcnZpY2VPYmplY3QgfTtcbn07XG4iLCJpbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzJztcbmltcG9ydCB7IERhdGFMaW5rIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyBpZiB0aGUgbWFpbiByZXN1bHQgaXMgbm90IGVtcHR5LFxuICogb24gdG9wIGxldmVsIGFsbCBkYXRhIHNob3VsZCBiZSBjb25jYXRlbmF0ZWQgYW5kIHJlcHJlc2VudGVkIGFzIGEgc3RyaW5nLlxuICogQHBhcmFtIHJlc3VsdFxuICogQHBhcmFtIG1haW5SZXN1bHRcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmNvbnN0IHNldFJlc3VsdCA9IChyZXN1bHQsIG1haW5SZXN1bHQpID0+IHtcbiAgICByZXR1cm4gbWFpblJlc3VsdCA/ICcnICsgbWFpblJlc3VsdCArIHJlc3VsdCA6IHJlc3VsdDtcbn07XG4vKipcbiAqIFJvb3QgcGFyc2VyIG9mIGEgZGF0YSBsaW5rIHN0cmluZyxcbiAqIGl0IGRlbGVnYXRlcyB0aGUgd29yayB0byBoZWxwZXIgcGFyc2Vycy5cbiAqIEhlbHBlciBwYXJzZXJzIHJldHVybiBhIHJlc3VsdCBvZiBwYXJzaW5nIGFuZFxuICogYSBuZXcgc3RhdGUgb2YgdGhlIGl0ZXJhdG9yLlxuICogQHBhcmFtIHsqfSBwYXJhbXNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5jb25zdCBkYXRhTGlua1BhcnNlciA9IGZ1bmN0aW9uKiAocGFyYW1zKSB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGlmICghKGRhdGFMaW5rIGluc3RhbmNlb2YgRGF0YUxpbmspKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuREFUQV9MSU5LX1RZUEUpO1xuICAgIGxldCBtYWluUmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdAJzogLy8gbGluayBwYXJ0XG4gICAgICAgICAgICAgICAgY2FzZSAnJCc6IC8vIGZ1bmN0aW9uIHBhcnRcbiAgICAgICAgICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgICAgICBjYXNlICdbJzogLy8gYXJyYXkgcGFydFxuICAgICAgICAgICAgICAgIGNhc2UgJ2AnOiAvLyBlc2NhcGVkIGJ5IHRoZSBgYCBzeW1ib2xzIHN0cmluZyBwYXJ0XG4gICAgICAgICAgICAgICAgY2FzZSAnKCc6IC8vIGV4cHJlc3Npb24gcGFydFxuICAgICAgICAgICAgICAgICAgICBtYWluUmVzdWx0ID0gc2V0UmVzdWx0KFxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQqIGluZGV4UGFyc2VyKHBhcmFtcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGVkIGJ5IHRoZSBcXCBzeW1ib2wgcGFydFxuICAgICAgICAgICAgICAgICAgICBtYWluUmVzdWx0ID0gc2V0UmVzdWx0KGN1cnJlbnRbMl0sIG1haW5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHVucHJvY2Vzc2VkIGNsb3NlIHN5bWJvbHNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIHBsYWluIHN5bWJvbFxuICAgICAgICAgICAgICAgICAgICBtYWluUmVzdWx0ID0gc2V0UmVzdWx0KGN1cnJlbnRbMV0sIG1haW5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKSBicmVhaztcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKEVycikge1xuICAgICAgICBpZiAoRXJyIGluc3RhbmNlb2YgRGF0YVBhcnNlckVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gZGF0YUxpbmsuZ2V0Q3Vyc29yUG9zaXRpb25JbmZvKCk7XG4gICAgICAgICAgICBFcnIuZnVsbE1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIEVyci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAnLCBkYXRhTGluazogXCInICtcbiAgICAgICAgICAgICAgICBpbmZvICtcbiAgICAgICAgICAgICAgICAnXCIgYXQgcG9zaXRpb24gJyArXG4gICAgICAgICAgICAgICAgZGF0YUxpbmsuZ2V0Q3VycmVudEluZGV4KCk7XG4gICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSkge1xuICAgICAgICAgICAgICAgIEVyci5mdWxsTWVzc2FnZSArPSAnIChvdXQgb2YgdGhlIHN0cmluZyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRXJyLmRhdGEgPSBwYXJhbXMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKEVycik7XG4gICAgICAgIHRocm93IEVycjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFpblJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGFMaW5rUGFyc2VyO1xuIiwiaW1wb3J0IHsgRGF0YVBhcnNlckVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9wYXJzZXIvdXRpbHMnO1xuaW1wb3J0IHsgdmFsdWVQYXJzZXIgfSBmcm9tICcuL2dlbmVyYWwnO1xuaW1wb3J0IHNwYWNlU2tpcHBpbmcgZnJvbSAnLi9nZW5lcmFsL3NwYWNlX3NraXBwaW5nJztcblxuLyoqXG4gKiBUaGUgQXJyYXlQYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhIGxpbmsgc3RyaW5nXG4gKiB0aGF0IGlzIHN1cnJvdW5kZWQgYnkgdGhlIFtdIHN5bWJvbHMuXG4gKiBNYXkgY29udGFpbnMgYW55IG90aGVyIGRhdGEgdHlwZXMuXG4gKiBJdCBhbHdheXMgcmV0dXJucyBhbiBhcnJheSBpbiB0aGUgcmVzdWx0IGZpZWxkLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmNvbnN0IGFycmF5UGFyc2VyID0gZnVuY3Rpb24qIChwYXJhbXMpIHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJ1snKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIGlmIChjdXJyZW50WzJdID09PSAnXScpIHtcbiAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudFsxXSkge1xuICAgICAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICddJykgcmV0dXJuIFtdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkFSUkFZX1ZBTFVFXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0geWllbGQqIHZhbHVlUGFyc2VyKHBhcmFtcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcgfHwgY3VycmVudFsyXSA9PT0gJ10nKSBicmVhaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuQVJSQVlfVkFMVUUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnXScpIHtcbiAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFycmF5UGFyc2VyO1xuIiwiaW1wb3J0IHsgRGF0YVBhcnNlckVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGF0YV9wYXJzZXIvdXRpbHMnO1xuaW1wb3J0IGluZGV4UGFyc2VyIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBpbkFsbG93ZWRTeW1ib2xzIGZyb20gJy4uLy4uLy4uL3V0aWxzL2luX2FsbG93ZWRfc3ltYm9scyc7XG5pbXBvcnQgcHJpbWl0aXZlc0NvbnZlcnRlciBmcm9tICcuLi8uLi8uLi91dGlscy9wcmltaXRpdmVzX2NvbnZlcnRlcic7XG5cbmNvbnN0IHNldFJlc3VsdCA9IChkYXRhLCByZXN1bHQpID0+IHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzdWx0ID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gJycgKyBkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBUaGUgVmFsdWVQYXJzZXIgcmVhZHMgYSB2YWx1ZSBvZiBhcnJheXMgYW5kIG9iamVjdHMgb2YgdGhlIGRhdGFMaW5rIHN0cmluZy5cbiAqIEBwYXJhbSB7UGFyc2VyUGFyYW1zfSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJyYXlDb250ZXh0IC0gdHJ1ZSBtZWFucyBhbiBhcnJheSBjb250ZXh0LCBmYWxzZSBtZWFucyBhbiBvYmplY3QgY29udGV4dFxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IHZhbHVlUGFyc2VyID0gZnVuY3Rpb24qIChwYXJhbXMsIGFycmF5Q29udGV4dCkge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKFxuICAgICAgICBhcnJheUNvbnRleHQgPT09IHRydWUgJiZcbiAgICAgICAgY3VycmVudFswXSAhPT0gJ1snICYmXG4gICAgICAgIGN1cnJlbnRbMF0gIT09ICcsJyAmJlxuICAgICAgICBjdXJyZW50WzBdICE9PSAnICcgfHxcbiAgICAgICAgYXJyYXlDb250ZXh0ID09PSBmYWxzZSAmJiBjdXJyZW50WzBdICE9PSAnOicgJiYgY3VycmVudFswXSAhPT0gJyAnIHx8XG4gICAgICAgIHR5cGVvZiBhcnJheUNvbnRleHQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGN1cnJlbnRbMF0gIT09ICcoJyAmJlxuICAgICAgICBjdXJyZW50WzBdICE9PSAnICdcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudFsxXSkge1xuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc2V0UmVzdWx0KGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0AnOiAvLyBsaW5rIHBhcnRcbiAgICAgICAgICAgIGNhc2UgJyQnOiAvLyBmdW5jdGlvbiBwYXJ0XG4gICAgICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgIGNhc2UgJ1snOiAvLyBhcnJheSBwYXJ0XG4gICAgICAgICAgICBjYXNlICdgJzogLy8gZXNjYXBlZCBieSB0aGUgYGAgc3ltYm9scyBzdHJpbmcgcGFydFxuICAgICAgICAgICAgY2FzZSAnKCc6IC8vIGV4cHJlc3Npb24gcGFydFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNldFJlc3VsdCh5aWVsZCogaW5kZXhQYXJzZXIocGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ORVNUSU5HKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIHBsYWluIHRleHRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmICghaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzFdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuQVJSQVlfVkFMVUUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk9CSkVDVF9WQUxVRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCB8fCAnJykgKyBzZXRSZXN1bHQoY3VycmVudFsxXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzJdKSB7XG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgIGNhc2UgJyknOiAvLyBzdG9wIHN5bWJvbHMgZm9yIHRoZSB2YWx1ZSBwYXJzZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJpbWl0aXZlc0NvbnZlcnRlcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVQYXJzZXI7XG4iLCJpbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscyc7XG5pbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgc3BhY2VTa2lwcGluZyBmcm9tICcuL2dlbmVyYWwvc3BhY2Vfc2tpcHBpbmcnO1xuaW1wb3J0IHsgdmFsdWVQYXJzZXIgfSBmcm9tICcuL2dlbmVyYWwnO1xuXG4vKipcbiAqIFRoZSBFeHByZXNzaW9uUGFyc2VyIHJlYWRzIGEgcGFydCBvZiB0aGUgZGF0YSBsaW5rIHN0cmluZ1xuICogdGhhdCBpcyBzdXJyb3VuZGVkIGJ5IHRoZSAoKSBzeW1ib2xzLlxuICogSXQgbWlnaHQgYmUgY2FsbGVkIGluIGEgZnVuY3Rpb24gY29udGV4dCBvciBpbiBhIHBsYWluIGNvbnRleHQuIFRoZSBwbGFpbiBjb250ZXh0IGlzIGRlZmF1bHQuXG4gKiBJbiBmdW5jdGlvbiBjb250ZXh0IGl0IGFsd2F5cyByZXR1cm5zIGFuIGFycmF5IGluIHRoZSByZXN1bHQgZmllbGQuXG4gKiBJbiBwbGFpbiBjb250ZXh0IHRoZSByZXN1bHQgZmllbGQgY29udGFpbnMgYW55IGRhdGEuXG4gKiBAcGFyYW0ge1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZ1bmN0aW9uQ29udGV4dFxuICogQHJldHVybnMgeyp9XG4gKi9cbmNvbnN0IGV4cHJlc3Npb25QYXJzZXIgPSBmdW5jdGlvbiogKHBhcmFtcywgZnVuY3Rpb25Db250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uQ29udGV4dFxuICAgICAgICA/IHlpZWxkKiBmdW5jdGlvbkV4cHJlc3Npb24ocGFyYW1zKVxuICAgICAgICA6IHlpZWxkKiBzaW1wbGVFeHByZXNzaW9uKHBhcmFtcyk7XG59O1xuLyoqXG4gKiBFeHByZXNzaW9uIGluIGEgZnVuY3Rpb24gY29udGV4dCwgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgZnVuY3Rpb24ncyBwYXJhbXMuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7W118QXJyYXl9XG4gKi9cbmNvbnN0IGZ1bmN0aW9uRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKiAocGFyYW1zKSB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgaWYgKGN1cnJlbnRbMV0gIT09ICcoJykge1xuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIH1cbiAgICBmb3IgKGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzFdKSB7XG4gICAgICAgICAgICBjYXNlICcoJzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyknKSBicmVhaztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5ORVNUSU5HKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJywnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVBhcnNlckVycm9yLkVSUk9SUy5GVU5DVElPTl9BUkdVTUVOVFNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeWllbGQqIHZhbHVlUGFyc2VyKHBhcmFtcykpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcgfHwgY3VycmVudFsyXSA9PT0gJyknKSBicmVhaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkZVTkNUSU9OX0FSR1VNRU5UU1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcpJykge1xuICAgICAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbi8qKlxuICogU2ltcGxlIGV4cHJlc3Npb24gY29udGV4dCwgcmV0dXJucyBhIHN0cmluZy5cbiAqIEBwYXJhbSBwYXJhbXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmNvbnN0IHNpbXBsZUV4cHJlc3Npb24gPSBmdW5jdGlvbiogKHBhcmFtcykge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJygnKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSVRFUkFUT1JfRVJST1IpO1xuICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50WzJdID09PSAnKScpIHtcbiAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJ0AnOiAvLyBsaW5rIHBhcnRcbiAgICAgICAgICAgIGNhc2UgJyQnOiAvLyBmdW5jdGlvbiBwYXJ0XG4gICAgICAgICAgICBjYXNlICd7JzogLy8gb2JqZWN0IHBhcnRcbiAgICAgICAgICAgIGNhc2UgJ1snOiAvLyBhcnJheSBwYXJ0XG4gICAgICAgICAgICBjYXNlICdgJzogLy8gZXNjYXBlZCBieSB0aGUgYGAgc3ltYm9scyBzdHJpbmcgcGFydFxuICAgICAgICAgICAgY2FzZSAnKCc6IC8vIGV4cHJlc3Npb24gcGFydFxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB5aWVsZCogaW5kZXhQYXJzZXIocGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGxldCBzcGFjZXMgPSAnICc7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZXMgKz0gc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyknKSBicmVhaztcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3BhY2VzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyknKSB7XG4gICAgICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBleHByZXNzaW9uUGFyc2VyO1xuIiwiaW1wb3J0IHsgRGF0YVBhcnNlckVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9wYXJzZXIvdXRpbHMnO1xuaW1wb3J0IGluQWxsb3dlZFN5bWJvbHMgZnJvbSAnLi4vLi4vdXRpbHMvaW5fYWxsb3dlZF9zeW1ib2xzJztcbmltcG9ydCB7IGV4cHJlc3Npb25QYXJzZXIgfSBmcm9tICcuL2luZGV4JztcblxuLyoqXG4gKiBUaGUgRnVuY3Rpb25QYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhTGluayBzdHJpbmdcbiAqIHRoYXQgc3RhcnRzIGZyb20gJCBzeW1ib2wgYW5kIGVuZHMgYnkgKC5cbiAqIEBwYXJhbSB7UGFyYW1zfSBwYXJhbXNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5jb25zdCBmdW5jdGlvblBhcnNlciA9IGZ1bmN0aW9uKiAocGFyYW1zKSB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgZnVuY3Rpb25zIH0gPSBwYXJhbXM7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJyQnKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgfVxuICAgIGlmICghaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzJdKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuRlVOQ1RJT05fTkFNSU5HKTtcbiAgICB9XG4gICAgY3VycmVudCA9IGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgIGxldCBmdW5jdGlvbk5hbWUgPSAnJztcblxuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBmdW5jdGlvbk5hbWUgKz0gY3VycmVudFsxXTtcbiAgICAgICAgaWYgKCFpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMl0pKSBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBmID0gZnVuY3Rpb25zW2Z1bmN0aW9uTmFtZV07XG4gICAgaWYgKHR5cGVvZiBmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRbMl0gIT09ICcoJyAmJlxuICAgICAgICAgICAgIWRhdGFMaW5rLmlzRW5kKCkgJiZcbiAgICAgICAgICAgICFpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMl0pXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkZVTkNUSU9OX05BTUlORyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkZVTkNUSU9OX1VOS05PV04pO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFsyXSA9PT0gJygnKSB7XG4gICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICByZXR1cm4gZiguLi55aWVsZCogZXhwcmVzc2lvblBhcnNlcihwYXJhbXMsIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZjtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvblBhcnNlcjtcbiIsImltcG9ydCBpbkFsbG93ZWRTeW1ib2xzIGZyb20gJy4uLy4uL3V0aWxzL2luX2FsbG93ZWRfc3ltYm9scyc7XG5pbXBvcnQgeyBEYXRhUGFyc2VyRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscyc7XG5pbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuY29uc3QgbGlua1BhcnNlciA9IGZ1bmN0aW9uKiAocGFyYW1zKSB7XG4gICAgY29uc3QgeyBkYXRhTGluaywgZGF0YSwgcm9vdERhdGEgfSA9IHBhcmFtcztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnQCcpXG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgbGV0IGxvY2FsRGF0YSA9IGRhdGE7XG4gICAgaWYgKGN1cnJlbnRbMl0gPT09ICcvJykge1xuICAgICAgICBsb2NhbERhdGEgPSByb290RGF0YTtcbiAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgfVxuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBpZiAoY3VycmVudFsxXSA9PT0gJy8nIHx8IGN1cnJlbnRbMV0gPT09ICdAJykge1xuICAgICAgICAgICAgbG9jYWxEYXRhID0geWllbGQqIHJlYWRMaW5rUGFydChwYXJhbXMsIGxvY2FsRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTElOSyk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhTGluay5pc0VuZCgpIHx8XG4gICAgICAgICAgICBjdXJyZW50WzJdICE9PSAnLycgJiYgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSlcbiAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbERhdGE7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2xhc2ggc2VwYXJhdGVkIHBhcnQgb2YgYSBsaW5rIG9mIHRoZSBEYXRhTGluayxcbiAqIHJldHVybiBhbiBPYmplY3QuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcGFyYW0gZGF0YVxuICogQHJldHVybnMge09iamVjdHxBcnJheX1cbiAqL1xuY29uc3QgcmVhZExpbmtQYXJ0ID0gZnVuY3Rpb24qIChwYXJhbXMsIGRhdGEpIHtcbiAgICBjb25zdCB7IGRhdGFMaW5rLCBkZWZhdWx0VmFsdWUgfSA9IHBhcmFtcztcbiAgICBsZXQgcGFydCA9ICcnO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgaWYgKGN1cnJlbnRbMV0gIT09ICcvJyAmJiBjdXJyZW50WzFdICE9PSAnQCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkpIHJldHVybiBkYXRhO1xuICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgIGZvciAoY3VycmVudCBvZiBkYXRhTGluaykge1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRbMV0pIHtcbiAgICAgICAgICAgIGNhc2UgJzwnOiAvLyBpbmRleCBwYXJ0XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMF0gIT09ICcvJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuSU5ERVhfUEFSVFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFkSW5kZXhOYW1lKHBhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICBjYXNlICc6JzogLy8gdG9rZW4gcGFydFxuICAgICAgICAgICAgICAgIHBhcnQgPSByZWFkVG9rZW4ocGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyQnOiAvLyBmdW5jdGlvbiBwYXJ0XG4gICAgICAgICAgICBjYXNlICcoJzogLy8gZXhwcmVzc2lvbiBwYXJ0XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMF0gIT09ICcvJyAmJiBjdXJyZW50WzBdICE9PSAnQCcpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBwYXJ0ID0geWllbGQqIGluZGV4UGFyc2VyKHsgLi4ucGFyYW1zLCBkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOiAvLyBlc2NhcGVkIHN5bWJvbFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTElOSyk7XG4gICAgICAgICAgICAgICAgcGFydCArPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsxXSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTElOSyk7XG4gICAgICAgICAgICAgICAgcGFydCArPSBjdXJyZW50WzFdO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZGF0YUxpbmsuaXNFbmQoKSB8fFxuICAgICAgICAgICAgY3VycmVudFsyXSA9PT0gJy8nIHx8XG4gICAgICAgICAgICBjdXJyZW50WzJdICE9PSAnXFxcXCcgJiYgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcnQgIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTElOSyk7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSAmJiAhQXJyYXkuaXNBcnJheShkYXRhKSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTsgLy8gdG9kbzogPz9cbiAgICBpZiAocGFydCAmJiAvXlxcZCskLy50ZXN0KHBhcnQpICYmIEFycmF5LmlzQXJyYXkoZGF0YSkpXG4gICAgICAgIHJldHVybiBkYXRhW051bWJlcihwYXJ0KV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgIGlmIChwYXJ0ICYmIGlzT2JqZWN0KGRhdGEpKVxuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGFbcGFydF0gPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdFZhbHVlIDogZGF0YVtwYXJ0XTtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufTtcbi8qKlxuICogUmVhZHMgYSBuYW1lIG9mIGEgdG9rZW4gb2YgdGhlIGRhdGEuXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcGFyYW0gZGF0YVxuICogQHJldHVybnMge2FueX1cbiAqL1xuY29uc3QgcmVhZFRva2VuID0gKHBhcmFtcywgZGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YUxpbmssIGRlZmF1bHRWYWx1ZSwgdG9rZW5zID0ge30gfSA9IHBhcmFtcztcbiAgICBsZXQgdG9rZW4gPSAnJztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnOicpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgICBjdXJyZW50WzBdICE9PSAnLycgJiYgY3VycmVudFswXSAhPT0gJ0AnIHx8XG4gICAgICAgIGRhdGFMaW5rLmlzRW5kKCkgfHxcbiAgICAgICAgY3VycmVudFsyXSAhPT0gJ1xcXFwnICYmICFpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMl0pXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5MSU5LKTtcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIHRva2VuICs9IGN1cnJlbnRbMV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGRhdGFMaW5rLmlzRW5kKCkgfHxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0gIT09ICdcXFxcJyAmJlxuICAgICAgICAgICAgICAgIChjdXJyZW50WzJdID09PSAnLycgfHwgIWluQWxsb3dlZFN5bWJvbHMoY3VycmVudFsyXSkpXG4gICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyB0aGUgcGFzc2VkIG9iamVjdCBvZiB0b2tlbnMgaXMgc29tZXRpbWVzIHByb3ZpZGVkIGJ5IHRoZSBxcy5wYXJzZSBtZXRob2QgdGhhdCBjcmVhdGVkIGl0IHdpdGggYSBudWxsIHByb3RvdHlwZS5cbiAgICBjb25zdCBrZXkgPVxuICAgICAgICB0b2tlbiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodG9rZW5zLCB0b2tlbilcbiAgICAgICAgICAgID8gdG9rZW5zW3Rva2VuXVxuICAgICAgICAgICAgOiAwO1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvcjogVGhlIGRhdGEgc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheSEnKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gZGF0YVtrZXldO1xuICAgIHJldHVybiB0eXBlb2YgcmVzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRWYWx1ZSA6IHJlcztcbn07XG4vKipcbiAqIFJlYWRzIGEgbmFtZSBvZiBkYXRhIGFycmF5IGl0ZW1zIGluZGV4LlxuICogQHBhcmFtIHBhcmFtc1xuICogQHBhcmFtIGRhdGFcbiAqIEByZXR1cm5zIHthcnJheX1cbiAqL1xuY29uc3QgcmVhZEluZGV4TmFtZSA9IChwYXJhbXMsIGRhdGEpID0+IHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgbGV0IGluZGV4TmFtZSA9ICcnO1xuICAgIGxldCBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JTkRFWF9OT1RfQVJSQVlfREFUQSk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50WzFdICE9PSAnPCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRbMl0gPT09ICc+JyB8fCBjdXJyZW50WzBdICE9PSAnLycpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklOREVYX0VNUFRZKTtcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChpbkFsbG93ZWRTeW1ib2xzKGN1cnJlbnRbMV0pKSB7XG4gICAgICAgICAgICBpbmRleE5hbWUgKz0gY3VycmVudFsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JTkRFWF9OQU1FKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJz4nKSBicmVhaztcbiAgICB9XG4gICAgY3VycmVudCA9IGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzJdID09PSAnLycpXG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JTkRFWF9MQVNUKTtcbiAgICBpZiAoaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzJdKSlcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklOREVYX1BBUlQpO1xuICAgIGZvciAoY29uc3QgaSBpbiBkYXRhKSBkYXRhW2ldW2luZGV4TmFtZV0gPSBpO1xuICAgIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbGlua1BhcnNlcjtcbiIsImltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzJztcbmltcG9ydCB7IHZhbHVlUGFyc2VyLCBzcGFjZVNraXBwaW5nIH0gZnJvbSAnLi9nZW5lcmFsJztcbmltcG9ydCBpbkFsbG93ZWRTeW1ib2xzIGZyb20gJy4uLy4uL3V0aWxzL2luX2FsbG93ZWRfc3ltYm9scyc7XG5pbXBvcnQgaW5kZXhQYXJzZXIgZnJvbSAnLi9pbmRleCc7XG5jb25zdCBOT1RfREVGSU5FRCA9IFN5bWJvbCgnTm90RGVmaW5lZCcpO1xuLyoqXG4gKiBUaGUgS2V5UGFyc2VyIHJlYWRzIGEga2V5IG9mIHRoZSBjdXJyZW50IG9iamVjdCBvZiB0aGUgZGF0YSBsaW5rIHN0cmluZy5cbiAqIEBwYXJhbSB7RGF0YUxpbmtQYXJzZXJQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3Qga2V5UGFyc2VyID0gZnVuY3Rpb24qIChwYXJhbXMpIHtcbiAgICBjb25zdCB7IGRhdGFMaW5rIH0gPSBwYXJhbXM7XG4gICAgbGV0IGtleSA9ICcnO1xuICAgIGZvciAobGV0IGN1cnJlbnQgb2YgZGF0YUxpbmspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRbMV0gPT09ICd7JyB8fCBjdXJyZW50WzFdID09PSAnfScpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuTkVTVElORyk7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudFsxXSkge1xuICAgICAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgICBjYXNlICdAJzpcbiAgICAgICAgICAgIGNhc2UgJyQnOlxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkKiBpbmRleFBhcnNlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX0tFWV9TVFJJTkdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBrZXkgKz0gcmVzO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBrZXkgKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMV0gIT09ICcvJyAmJiAhaW5BbGxvd2VkU3ltYm9scyhjdXJyZW50WzFdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX0tFWVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGtleSArPSBjdXJyZW50WzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJzonIHx8IGN1cnJlbnRbMl0gPT09ICcgJykgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59O1xuXG4vKipcbiAqIFRoZSBPYmplY3RQYXJzZXIgcmVhZHMgYSBwYXJ0IG9mIHRoZSBkYXRhIGxpbmsgc3RyaW5nXG4gKiB0aGF0IGlzIHN1cnJvdW5kIGJ5IHRoZSB7fSBzeW1ib2xzLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCBvYmplY3RQYXJzZXIgPSBmdW5jdGlvbiogKHBhcmFtcykge1xuICAgIGNvbnN0IHsgZGF0YUxpbmsgfSA9IHBhcmFtcztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGxldCBrZXkgPSBOT1RfREVGSU5FRDtcbiAgICBsZXQgdmFsdWUgPSBOT1RfREVGSU5FRDtcbiAgICBpZiAoY3VycmVudFsxXSAhPT0gJ3snKSB7XG4gICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoRGF0YVBhcnNlckVycm9yLkVSUk9SUy5JVEVSQVRPUl9FUlJPUik7XG4gICAgfVxuXG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudFsxXSkge1xuICAgICAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmsuaXNFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICAgICAgICAgIGRhdGFMaW5rLmdldE5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGtleSA9IHlpZWxkKiBrZXlQYXJzZXIocGFyYW1zKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbMl0gPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZVNraXBwaW5nKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhTGluay5nZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5rLmlzRW5kKCkgfHwgY3VycmVudFsyXSAhPT0gJzonKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVBhcnNlckVycm9yLkVSUk9SUy5PQkpFQ1RfS0VZXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc6JzpcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlU2tpcHBpbmcocGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRhdGFMaW5rLmlzRW5kKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFsyXSA9PT0gJywnIHx8XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbMl0gPT09ICd9J1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX1ZBTFVFXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB5aWVsZCogdmFsdWVQYXJzZXIocGFyYW1zLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyA/P1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhUGFyc2VyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk9CSkVDVF9LRVlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VTa2lwcGluZyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WzJdID09PSAnLCcgfHwgY3VycmVudFsyXSA9PT0gJ30nKSBicmVhaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YVBhcnNlckVycm9yKERhdGFQYXJzZXJFcnJvci5FUlJPUlMuT0JKRUNUX1ZBTFVFKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLk5FU1RJTkcpO1xuICAgICAgICBpZiAoY3VycmVudFsyXSA9PT0gJ30nKSB7XG4gICAgICAgICAgICBkYXRhTGluay5nZXROZXh0VmFsdWUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFBhcnNlcjtcbiIsImltcG9ydCB7IERhdGFQYXJzZXJFcnJvciB9IGZyb20gJy4uLy4uLy4uL2RhdGFfcGFyc2VyL3V0aWxzJztcblxuLyoqXG4gKiBUaGUgRXNjYXBlZFBsYWluUGFyc2VyIHJlYWRzIGEgcGFydCBvZiB0aGUgZGF0YSBsaW5rIHN0cmluZ1xuICogdGhhdCBpcyBzdXJyb3VuZGVkIGJ5IHRoZSBgYCBzeW1ib2xzLlxuICogQHBhcmFtIHtEYXRhTGlua1BhcnNlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5jb25zdCBlc2NhcGVkUGxhaW5QYXJzZXIgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhTGluayB9ID0gcGFyYW1zO1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBsZXQgY3VycmVudCA9IGRhdGFMaW5rLmdldEN1cnJlbnRWYWx1ZSgpO1xuICAgIGlmIChjdXJyZW50WzFdICE9PSAnYCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLklURVJBVE9SX0VSUk9SKTtcbiAgICB9XG4gICAgZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgZm9yIChjdXJyZW50IG9mIGRhdGFMaW5rKSB7XG4gICAgICAgIGlmIChjdXJyZW50WzFdID09PSAnYCcpIGJyZWFrO1xuICAgICAgICBpZiAoY3VycmVudFsxXSA9PT0gJ1xcXFwnKSBjdXJyZW50ID0gZGF0YUxpbmsuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIGlmIChkYXRhTGluay5pc0VuZCgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IERhdGFQYXJzZXJFcnJvcihEYXRhUGFyc2VyRXJyb3IuRVJST1JTLkRFRkFVTFQpO1xuICAgICAgICByZXN1bHQgKz0gY3VycmVudFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGVzY2FwZWRQbGFpblBhcnNlcjtcbiIsImNsYXNzIERhdGFMaW5rIHtcbiAgICBzdGF0aWMgU1RBUlQgPSAnXFx1MDA5OCc7XG5cbiAgICBzdGF0aWMgRU5EID0gJ1xcdTAwOUMnO1xuXG4gICAgY29uc3RydWN0b3Ioc3RyaW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJyB8fCAhc3RyaW5nLnRyaW0oKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YUxpbms6IFRoZSBkYXRhTGluayBtdXN0IGJlIGEgbm90IGVtcHR5IHN0cmluZyEnKTtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmcudHJpbSgpO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdTdHJpbmcgPSBbIERhdGFMaW5rLlNUQVJULCAuLi50aGlzLnN0cmluZywgRGF0YUxpbmsuRU5EIF07XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldEN1cnNvclBvc2l0aW9uSW5mbygpIHtcbiAgICAgICAgY29uc3QgeyBzdHJpbmcgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTeW1ib2wgPSB0aGlzLmdldEN1cnJlbnRWYWx1ZSgpWzFdO1xuICAgICAgICBjb25zdCBpc0VuZCA9IHRoaXMuaXNFbmQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuZ2V0Q3VycmVudEluZGV4KCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzdHJpbmcuc2xpY2UoMCwgY3VycmVudCkgK1xuICAgICAgJyo+JyArXG4gICAgICBjdXJyZW50U3ltYm9sICtcbiAgICAgICc8KicgK1xuICAgICAgKGlzRW5kID8gJycgOiBzdHJpbmcuc2xpY2UoY3VycmVudCArIDEsIHN0cmluZy5sZW5ndGgpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldE5leHRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGF1c2UpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50ID4gdGhpcy5zdHJpbmcubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmN1cnJlbnQrKztcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVbMF0gPSB0aGlzLmN1cnJlbnRWYWx1ZVsxXTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVbMV0gPSB0aGlzLmN1cnJlbnRWYWx1ZVsyXTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVbMl0gPSB0aGlzLnByb2Nlc3NpbmdTdHJpbmdbdGhpcy5jdXJyZW50ICsgMV07XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBbXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdTdHJpbmdbMF0sXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdTdHJpbmdbMV0sXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdTdHJpbmdbMl0sXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaXRlcmF0b3JWYWx1ZSA9IHsgdmFsdWU6IHRoaXMuY3VycmVudFZhbHVlLCBkb25lOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA/IHRoaXMuY3VycmVudCAtIDEgOiAwO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cblxuICAgIGlzU3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZVswXSA9PT0gRGF0YUxpbmsuU1RBUlQ7XG4gICAgfVxuXG4gICAgaXNFbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZVsyXSA9PT0gRGF0YUxpbmsuRU5EO1xuICAgIH1cblxuICAgIHZhbHVlT2YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZztcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nO1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgPiB0aGlzLnN0cmluZy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgIHRoaXMuaXRlcmF0b3JWYWx1ZS52YWx1ZSA9IHRoaXMuZ2V0TmV4dFZhbHVlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXJhdG9yVmFsdWU7XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFMaW5rO1xuIiwiaW1wb3J0IHsgRGF0YUxpbmsgfSBmcm9tICcuLi8uLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3YyJztcblxuY29uc3QgZGF0YUxpbmtNYXAgPSBuZXcgTWFwPHN0cmluZywgRGF0YUxpbms+KCk7XG5cbmNvbnN0IGdldERhdGFMaW5rID0gKGRhdGFMaW5rU3RyaW5nOiBzdHJpbmcpOiBEYXRhTGluayA9PiB7XG4gICAgaWYgKHR5cGVvZiBkYXRhTGlua1N0cmluZyAhPT0gJ3N0cmluZycgfHwgIWRhdGFMaW5rU3RyaW5nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldERhdGFMaW5rOiBEYXRhIGxpbmsgc2hvdWxkIGJlIGEgbm9uIGVtcHR5IHN0cmluZyEnKTtcbiAgICBpZiAoIWRhdGFMaW5rTWFwLmhhcyhkYXRhTGlua1N0cmluZykpIHtcbiAgICAgICAgZGF0YUxpbmtNYXAuc2V0KGRhdGFMaW5rU3RyaW5nLCBuZXcgRGF0YUxpbmsoZGF0YUxpbmtTdHJpbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhTGlua01hcC5nZXQoZGF0YUxpbmtTdHJpbmcpLnJlc2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhTGlua01hcC5nZXQoZGF0YUxpbmtTdHJpbmcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0RGF0YUxpbms7XG4iLCJpbXBvcnQgYXdhaXRBbGwgZnJvbSAnLi9hd2FpdF9hbGwnO1xuXG5leHBvcnQgeyBhd2FpdEFsbCB9O1xuIiwiaW1wb3J0IFZhbGlkYXRpb25FcnJvciBmcm9tICcuLi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvcic7XG5pbXBvcnQgQnJlYWtQcm9taXNlQ2hhaW5FcnJvciBmcm9tICcuLi9lcnJvcnMvYnJlYWtfcHJvbWlzZV9jaGFpbl9lcnJvcic7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIHByb21pc2UsIHRoYXQgYXdhaXRzIGZvciBhbGwgcHJvbWlzZSBjaGFpbnMgb2YgdGhlIGN1cnJlbnQgZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZT59IGNoYWluc1xuICogQHJldHVybnMge3tyZWplY3RDYWxsYmFjazogbnVsbCwgcHJvbWlzZTogUHJvbWlzZTxPYmplY3RbXT59fVxuICovXG5jb25zdCBhd2FpdEFsbCA9IChjaGFpbnMpID0+IHtcbiAgICBsZXQgcmVqZWN0Q29udHJvbFByb21pc2UgPSBudWxsO1xuICAgIGNvbnN0IGNvbnRyb2xQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICByZWplY3RDb250cm9sUHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYWluID0gY2hhaW5zW2ldO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGFpbiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBjaGFpbi50aGVuKFxuICAgICAgICAgICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6ICdzdWNjZXNzJywgZGF0YTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9ICd1bmtub3duRXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gJ3ZhbGlkYXRpb25FcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBCcmVha1Byb21pc2VDaGFpbkVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAnYnJlYWtFcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1cywgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnU2VjdGlvbnNDb21wdXRhdGlvbjogY2hhaW5zIG11c3QgY29udGFpbiBvbmx5IHByb21pc2VzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBjb25zdCBhd2FpdFByb21pc2UgPSBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgY29uc3QgbWFpblByb21pc2UgPSBQcm9taXNlLnJhY2UoWyBjb250cm9sUHJvbWlzZSwgYXdhaXRQcm9taXNlIF0pO1xuXG4gICAgcmV0dXJuIHsgcmVqZWN0Q2FsbGJhY2s6IHJlamVjdENvbnRyb2xQcm9taXNlLCBwcm9taXNlOiBtYWluUHJvbWlzZSB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXdhaXRBbGw7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYnJhbmNoLCBjb21wb3NlLCByZW5kZXJOb3RoaW5nLCB3aXRoUHJvcHMgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHFzIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG5cbmltcG9ydCB7IFNlY3Rpb25zQ29udGV4dCB9IGZyb20gJy4uL2luZGV4JztcblxuaW1wb3J0IHsgc3RyaWN0bHlJc09iamVjdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGlzRGF0YUxpbmsgfSBmcm9tICcuLi8uLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3V0aWxzJztcbmltcG9ydCBkYXRhTGlua1BhcnNlciBmcm9tICcuLi8uLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3YxJztcbmltcG9ydCBnZXREYXRhTGluayBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX2xpbmtfY2FjaGUnO1xuaW1wb3J0IFNlY3Rpb25GaWVsZCBmcm9tICcuL3NlY3Rpb25fZmllbGQnO1xuaW1wb3J0IHsgUm91dGVDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmltcG9ydCB7IFNlY3Rpb25JbnRlcmZhY2VzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0IFNlY3Rpb25WNCA9IFNlY3Rpb25JbnRlcmZhY2VzLnY0LlNlY3Rpb247XG5pbXBvcnQgRmllbGRWNCA9IFNlY3Rpb25JbnRlcmZhY2VzLnY0LkZpZWxkO1xuXG5jb25zdCBTY29wZWRTZWN0aW9uID0gKHsgcGFyc2VkU2NoZW1hLCBsZXZlbCA9IDAgfTogU2VjdGlvblY0Lk5vZGVQcm9wcyk6IEpTWC5FbGVtZW50ID0+IFxuICAgIDxTZWN0aW9uXG4gICAgICAgIHBhcnNlZFNjaGVtYT17cGFyc2VkU2NoZW1hfVxuICAgICAgICBsZXZlbD17bGV2ZWx9XG4gICAgLz47XG5cblxuY29uc3QgU2NvcGVkRmllbGQgPSAoeyBwYXJzZWRTY2hlbWEsIGxldmVsID0gMCB9OiBGaWVsZFY0Lk5vZGVQcm9wcyk6IEpTWC5FbGVtZW50ID0+IFxuICAgIDxTZWN0aW9uRmllbGRcbiAgICAgICAgcGFyc2VkU2NoZW1hPXtwYXJzZWRTY2hlbWF9XG4gICAgICAgIGxldmVsPXtsZXZlbH1cbiAgICAvPjtcblxuY29uc3QgV3JhcHBlZENsaWVudFNlY3Rpb25Db21wb25lbnQgPSAoe1xuICAgIHBhcnNlZFNjaGVtYSxcbiAgICBsZXZlbCxcbiAgICB0b2tlblBhcmFtcyxcbiAgICBjb250ZXh0LFxuICAgIENvbXAsXG4gICAgc2VjdGlvbnMsXG4gICAgZmllbGRzLFxuICAgIHVwZGF0ZVN0YXRlLFxuICAgIGNvbXB1dGF0aW9ucyxcbiAgICBzdHlsZXNcbn06IFNlY3Rpb25WNC5FbnRyeVByb3BzSW4gJiBTZWN0aW9uVjQuRW50cnlQcm9wc0FkZGl0aW9uYWwpOiBKU1guRWxlbWVudCA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBcbiAgICAgICAgICAgIHN0eWxlcz17c3R5bGVzfVxuICAgICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICAgIHBhcnNlZFNjaGVtYT17cGFyc2VkU2NoZW1hfVxuICAgICAgICAgICAgc2VjdGlvbnM9e3NlY3Rpb25zfVxuICAgICAgICAgICAgZmllbGRzPXtmaWVsZHN9XG4gICAgICAgICAgICB0b2tlblBhcmFtcz17dG9rZW5QYXJhbXN9XG4gICAgICAgICAgICBsZXZlbD17bGV2ZWwgfHwgMH1cbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlPXt1cGRhdGVTdGF0ZX1cbiAgICAgICAgICAgIGNvbXB1dGF0aW9ucz17Y29tcHV0YXRpb25zfVxuICAgICAgICAgICAgU2NvcGVkU2VjdGlvbj17U2NvcGVkU2VjdGlvbn1cbiAgICAgICAgICAgIFNjb3BlZEZpZWxkPXtTY29wZWRGaWVsZH1cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuLyoqXG4gKiBTZWN0aW9ucyBlbnRyeSBwb2ludFxuICovXG5jb25zdCBTZWN0aW9uRW50cnk6IFJlYWN0LkNvbXBvbmVudENsYXNzPFNlY3Rpb25WNC5FbnRyeVByb3BzSW4+ID0gY29tcG9zZTxTZWN0aW9uVjQuRW50cnlQcm9wc0luICYgU2VjdGlvblY0LkVudHJ5UHJvcHNBZGRpdGlvbmFsLCBTZWN0aW9uVjQuRW50cnlQcm9wc0luPihcbiAgICBicmFuY2goXG4gICAgICAgICh7IGNvbnRleHQsIHBhcnNlZFNjaGVtYSB9OiBTZWN0aW9uVjQuRW50cnlQcm9wc0luKTogYm9vbGVhbiA9PiAhKGNvbnRleHQgJiYgc3RyaWN0bHlJc09iamVjdChjb250ZXh0KSAmJiBwYXJzZWRTY2hlbWEgJiYgc3RyaWN0bHlJc09iamVjdChwYXJzZWRTY2hlbWEpKSxcbiAgICAgICAgcmVuZGVyTm90aGluZ1xuICAgICksXG4gICAgd2l0aFByb3BzKFxuICAgICAgICAoeyBoaXN0b3J5LCBjb250ZXh0LCBjb21wdXRhdGlvbnMsIHBhcnNlZFNjaGVtYSwgc2VjdGlvbkNvbXBvbmVudHMsIGxldmVsID0gMCB9OiBSb3V0ZUNvbXBvbmVudFByb3BzICYgU2VjdGlvblY0LkVudHJ5UHJvcHNJbik6IFNlY3Rpb25WNC5FbnRyeVByb3BzQWRkaXRpb25hbCAmIHsgdmlzaWJsZTogYm9vbGVhbiB9ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuUGFyYW1zID0geyAuLi5xcy5wYXJzZShoaXN0b3J5LmxvY2F0aW9uLnNlYXJjaCkgfTtcbiAgICAgICAgICAgIGxldCB7IF90eXBlXyA9ICcnLCBfdmlzaWJsZV8gPSB0cnVlIH0gPSBwYXJzZWRTY2hlbWEgPz8ge307XG4gICAgICAgICAgICBjb25zdCB7IF9zZWN0aW9uc18gPSBbXSwgX2ZpZWxkc18gPSBbXSB9ID0gcGFyc2VkU2NoZW1hID8/IHt9O1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KF9zZWN0aW9uc18pIHx8ICFBcnJheS5pc0FycmF5KF9maWVsZHNfKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb25zOiBfc2VjdGlvbnNfL19maWVsZHNfIG11c3QgYmUgYW4gYXJyYXkuJyk7XG4gICAgICAgICAgICBpZiAoaXNEYXRhTGluayhfdHlwZV8pKSB7XG4gICAgICAgICAgICAgICAgX3R5cGVfID0gZGF0YUxpbmtQYXJzZXIoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhTGluazogZ2V0RGF0YUxpbmsoX3R5cGVfKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25zOiBjb21wdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdHlwZV8gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tlcnJvcl0gU2VjdGlvbkVudHJ5OiBfdHlwZV8gbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgICAgICAgICAgICAgX3R5cGVfID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGF0YUxpbmsoX3Zpc2libGVfKSkge1xuICAgICAgICAgICAgICAgIF92aXNpYmxlXyA9IGRhdGFMaW5rUGFyc2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YUxpbms6IGdldERhdGFMaW5rKF92aXNpYmxlXyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckZ1bmN0aW9uczogY29tcHV0YXRpb25zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgQ29tcCA9IF90eXBlXyAmJiBfdHlwZV8gaW4gc2VjdGlvbkNvbXBvbmVudHMgJiYgc2VjdGlvbkNvbXBvbmVudHNbX3R5cGVfXVxuICAgICAgICAgICAgICAgID8gc2VjdGlvbkNvbXBvbmVudHNbX3R5cGVfXVxuICAgICAgICAgICAgICAgIDogc2VjdGlvbkNvbXBvbmVudHNbJ0RlZmF1bHRTZWN0aW9uJ107XG5cbiAgICAgICAgICAgIGlmICghQ29tcCkgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9uczogRGVmYXVsdFNlY3Rpb24gbXVzdCBiZSBkZWZpbmVkLicpO1xuXG4gICAgICAgICAgICBsZXQgc2VjdGlvbnM6IEpTWC5FbGVtZW50W10gPSBbXTtcbiAgICAgICAgICAgIGlmIChfc2VjdGlvbnNfLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zID0gX3NlY3Rpb25zXy5tYXAoKHNjaGVtYSwgaSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIDxTY29wZWRTZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTY2hlbWE9e3NjaGVtYX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsPXtsZXZlbCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZpZWxkczogSlNYLkVsZW1lbnRbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKF9maWVsZHNfLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZpZWxkcyA9IF9maWVsZHNfLm1hcCgoc2NoZW1hLCBpKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgPFNjb3BlZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTY2hlbWE9e3NjaGVtYX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsPXtsZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRva2VuUGFyYW1zLFxuICAgICAgICAgICAgICAgIHZpc2libGU6ICEhX3Zpc2libGVfLFxuICAgICAgICAgICAgICAgIENvbXAsXG4gICAgICAgICAgICAgICAgc2VjdGlvbnMsXG4gICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICksXG4gICAgYnJhbmNoKCh7IHZpc2libGUgfTogeyB2aXNpYmxlOiBib29sZWFufSkgPT4gIXZpc2libGUsIHJlbmRlck5vdGhpbmcpXG4pKFdyYXBwZWRDbGllbnRTZWN0aW9uQ29tcG9uZW50KTtcblxuY29uc3QgU2VjdGlvbiA9ICh7IHBhcnNlZFNjaGVtYSwgbGV2ZWwgfTogU2VjdGlvblY0Lk5vZGVQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8U2VjdGlvbnNDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgICAgeyh7XG4gICAgICAgICAgICAgICAgY29tcHV0YXRpb25zLFxuICAgICAgICAgICAgICAgIHNlY3Rpb25Db21wb25lbnRzLFxuICAgICAgICAgICAgICAgIGZpZWxkQ29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRlLFxuICAgICAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLCBcbiAgICAgICAgICAgICAgICBtYXRjaFxuICAgICAgICAgICAgfTogU2VjdGlvblY0LlJlYWN0Q29udGV4dFZhbHVlKTogSlNYLkVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWN0aW9uRW50cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcz17c3R5bGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw9e2xldmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFNjaGVtYT17cGFyc2VkU2NoZW1hfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdGU9e3VwZGF0ZVN0YXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0YXRpb25zPXtjb21wdXRhdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uQ29tcG9uZW50cz17c2VjdGlvbkNvbXBvbmVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZENvbXBvbmVudHM9e2ZpZWxkQ29tcG9uZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk9e2hpc3Rvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbj17bG9jYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaD17bWF0Y2h9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgIDwvU2VjdGlvbnNDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IHN0cmljdFVyaUVuY29kZSA9IHJlcXVpcmUoJ3N0cmljdC11cmktZW5jb2RlJyk7XG5jb25zdCBkZWNvZGVDb21wb25lbnQgPSByZXF1aXJlKCdkZWNvZGUtdXJpLWNvbXBvbmVudCcpO1xuY29uc3Qgc3BsaXRPbkZpcnN0ID0gcmVxdWlyZSgnc3BsaXQtb24tZmlyc3QnKTtcblxuY29uc3QgaXNOdWxsT3JVbmRlZmluZWQgPSB2YWx1ZSA9PiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0aW9ucykge1xuXHRzd2l0Y2ggKG9wdGlvbnMuYXJyYXlGb3JtYXQpIHtcblx0XHRjYXNlICdpbmRleCc6XG5cdFx0XHRyZXR1cm4ga2V5ID0+IChyZXN1bHQsIHZhbHVlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdChvcHRpb25zLnNraXBOdWxsICYmIHZhbHVlID09PSBudWxsKSB8fFxuXHRcdFx0XHRcdChvcHRpb25zLnNraXBFbXB0eVN0cmluZyAmJiB2YWx1ZSA9PT0gJycpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnWycsIGluZGV4LCAnXSddLmpvaW4oJycpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0Li4ucmVzdWx0LFxuXHRcdFx0XHRcdFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBlbmNvZGUoaW5kZXgsIG9wdGlvbnMpLCAnXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKVxuXHRcdFx0XHRdO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdChvcHRpb25zLnNraXBOdWxsICYmIHZhbHVlID09PSBudWxsKSB8fFxuXHRcdFx0XHRcdChvcHRpb25zLnNraXBFbXB0eVN0cmluZyAmJiB2YWx1ZSA9PT0gJycpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW10nXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW109JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRjYXNlICdzZXBhcmF0b3InOlxuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gW1tlbmNvZGUoa2V5LCBvcHRpb25zKSwgJz0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1tyZXN1bHQsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4ob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcildO1xuXHRcdFx0fTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4ga2V5ID0+IChyZXN1bHQsIHZhbHVlKSA9PiB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0KG9wdGlvbnMuc2tpcE51bGwgJiYgdmFsdWUgPT09IG51bGwpIHx8XG5cdFx0XHRcdFx0KG9wdGlvbnMuc2tpcEVtcHR5U3RyaW5nICYmIHZhbHVlID09PSAnJylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBbLi4ucmVzdWx0LCBlbmNvZGUoa2V5LCBvcHRpb25zKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnPScsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4oJycpXTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VyRm9yQXJyYXlGb3JtYXQob3B0aW9ucykge1xuXHRsZXQgcmVzdWx0O1xuXG5cdHN3aXRjaCAob3B0aW9ucy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0cmVzdWx0ID0gL1xcWyhcXGQqKVxcXSQvLmV4ZWMoa2V5KTtcblxuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXFxkKlxcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV1bcmVzdWx0WzFdXSA9IHZhbHVlO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRyZXN1bHQgPSAvKFxcW1xcXSkkLy5leGVjKGtleSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXF0kLywgJycpO1xuXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhY2N1bXVsYXRvcltrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW3ZhbHVlXTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW10uY29uY2F0KGFjY3VtdWxhdG9yW2tleV0sIHZhbHVlKTtcblx0XHRcdH07XG5cblx0XHRjYXNlICdjb21tYSc6XG5cdFx0Y2FzZSAnc2VwYXJhdG9yJzpcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0Y29uc3QgaXNBcnJheSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuc3BsaXQoJycpLmluZGV4T2Yob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcikgPiAtMTtcblx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBpc0FycmF5ID8gdmFsdWUuc3BsaXQob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKGl0ZW0gPT4gZGVjb2RlKGl0ZW0sIG9wdGlvbnMpKSA6IHZhbHVlID09PSBudWxsID8gdmFsdWUgOiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpO1xuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gbmV3VmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW10uY29uY2F0KGFjY3VtdWxhdG9yW2tleV0sIHZhbHVlKTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBcnJheUZvcm1hdFNlcGFyYXRvcih2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fCB2YWx1ZS5sZW5ndGggIT09IDEpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdhcnJheUZvcm1hdFNlcGFyYXRvciBtdXN0IGJlIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nJyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZW5jb2RlKHZhbHVlLCBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zLmVuY29kZSkge1xuXHRcdHJldHVybiBvcHRpb25zLnN0cmljdCA/IHN0cmljdFVyaUVuY29kZSh2YWx1ZSkgOiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpIHtcblx0aWYgKG9wdGlvbnMuZGVjb2RlKSB7XG5cdFx0cmV0dXJuIGRlY29kZUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGtleXNTb3J0ZXIoaW5wdXQpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0cmV0dXJuIGlucHV0LnNvcnQoKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIGtleXNTb3J0ZXIoT2JqZWN0LmtleXMoaW5wdXQpKVxuXHRcdFx0LnNvcnQoKGEsIGIpID0+IE51bWJlcihhKSAtIE51bWJlcihiKSlcblx0XHRcdC5tYXAoa2V5ID0+IGlucHV0W2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5mdW5jdGlvbiByZW1vdmVIYXNoKGlucHV0KSB7XG5cdGNvbnN0IGhhc2hTdGFydCA9IGlucHV0LmluZGV4T2YoJyMnKTtcblx0aWYgKGhhc2hTdGFydCAhPT0gLTEpIHtcblx0XHRpbnB1dCA9IGlucHV0LnNsaWNlKDAsIGhhc2hTdGFydCk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIGdldEhhc2godXJsKSB7XG5cdGxldCBoYXNoID0gJyc7XG5cdGNvbnN0IGhhc2hTdGFydCA9IHVybC5pbmRleE9mKCcjJyk7XG5cdGlmIChoYXNoU3RhcnQgIT09IC0xKSB7XG5cdFx0aGFzaCA9IHVybC5zbGljZShoYXNoU3RhcnQpO1xuXHR9XG5cblx0cmV0dXJuIGhhc2g7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3QoaW5wdXQpIHtcblx0aW5wdXQgPSByZW1vdmVIYXNoKGlucHV0KTtcblx0Y29uc3QgcXVlcnlTdGFydCA9IGlucHV0LmluZGV4T2YoJz8nKTtcblx0aWYgKHF1ZXJ5U3RhcnQgPT09IC0xKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0LnNsaWNlKHF1ZXJ5U3RhcnQgKyAxKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VWYWx1ZSh2YWx1ZSwgb3B0aW9ucykge1xuXHRpZiAob3B0aW9ucy5wYXJzZU51bWJlcnMgJiYgIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS50cmltKCkgIT09ICcnKSkge1xuXHRcdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLnBhcnNlQm9vbGVhbnMgJiYgdmFsdWUgIT09IG51bGwgJiYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyB8fCB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnKSkge1xuXHRcdHZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZGVjb2RlOiB0cnVlLFxuXHRcdHNvcnQ6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJyxcblx0XHRhcnJheUZvcm1hdFNlcGFyYXRvcjogJywnLFxuXHRcdHBhcnNlTnVtYmVyczogZmFsc2UsXG5cdFx0cGFyc2VCb29sZWFuczogZmFsc2Vcblx0fSwgb3B0aW9ucyk7XG5cblx0dmFsaWRhdGVBcnJheUZvcm1hdFNlcGFyYXRvcihvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblxuXHRjb25zdCBmb3JtYXR0ZXIgPSBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKTtcblxuXHQvLyBDcmVhdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdG90eXBlXG5cdGNvbnN0IHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0aWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0aW5wdXQgPSBpbnB1dC50cmltKCkucmVwbGFjZSgvXls/IyZdLywgJycpO1xuXG5cdGlmICghaW5wdXQpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0Zm9yIChjb25zdCBwYXJhbSBvZiBpbnB1dC5zcGxpdCgnJicpKSB7XG5cdFx0bGV0IFtrZXksIHZhbHVlXSA9IHNwbGl0T25GaXJzdChvcHRpb25zLmRlY29kZSA/IHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpIDogcGFyYW0sICc9Jyk7XG5cblx0XHQvLyBNaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHR2YWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogWydjb21tYScsICdzZXBhcmF0b3InXS5pbmNsdWRlcyhvcHRpb25zLmFycmF5Rm9ybWF0KSA/IHZhbHVlIDogZGVjb2RlKHZhbHVlLCBvcHRpb25zKTtcblx0XHRmb3JtYXR0ZXIoZGVjb2RlKGtleSwgb3B0aW9ucyksIHZhbHVlLCByZXQpO1xuXHR9XG5cblx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmV0KSkge1xuXHRcdGNvbnN0IHZhbHVlID0gcmV0W2tleV07XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcblx0XHRcdGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyh2YWx1ZSkpIHtcblx0XHRcdFx0dmFsdWVba10gPSBwYXJzZVZhbHVlKHZhbHVlW2tdLCBvcHRpb25zKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0W2tleV0gPSBwYXJzZVZhbHVlKHZhbHVlLCBvcHRpb25zKTtcblx0XHR9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zb3J0ID09PSBmYWxzZSkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRyZXR1cm4gKG9wdGlvbnMuc29ydCA9PT0gdHJ1ZSA/IE9iamVjdC5rZXlzKHJldCkuc29ydCgpIDogT2JqZWN0LmtleXMocmV0KS5zb3J0KG9wdGlvbnMuc29ydCkpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IHJldFtrZXldO1xuXHRcdGlmIChCb29sZWFuKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Ly8gU29ydCBvYmplY3Qga2V5cywgbm90IHZhbHVlc1xuXHRcdFx0cmVzdWx0W2tleV0gPSBrZXlzU29ydGVyKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0W2tleV0gPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSAob2JqZWN0LCBvcHRpb25zKSA9PiB7XG5cdGlmICghb2JqZWN0KSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGVuY29kZTogdHJ1ZSxcblx0XHRzdHJpY3Q6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJyxcblx0XHRhcnJheUZvcm1hdFNlcGFyYXRvcjogJywnXG5cdH0sIG9wdGlvbnMpO1xuXG5cdHZhbGlkYXRlQXJyYXlGb3JtYXRTZXBhcmF0b3Iob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcik7XG5cblx0Y29uc3Qgc2hvdWxkRmlsdGVyID0ga2V5ID0+IChcblx0XHQob3B0aW9ucy5za2lwTnVsbCAmJiBpc051bGxPclVuZGVmaW5lZChvYmplY3Rba2V5XSkpIHx8XG5cdFx0KG9wdGlvbnMuc2tpcEVtcHR5U3RyaW5nICYmIG9iamVjdFtrZXldID09PSAnJylcblx0KTtcblxuXHRjb25zdCBmb3JtYXR0ZXIgPSBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0aW9ucyk7XG5cblx0Y29uc3Qgb2JqZWN0Q29weSA9IHt9O1xuXG5cdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iamVjdCkpIHtcblx0XHRpZiAoIXNob3VsZEZpbHRlcihrZXkpKSB7XG5cdFx0XHRvYmplY3RDb3B5W2tleV0gPSBvYmplY3Rba2V5XTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0Q29weSk7XG5cblx0aWYgKG9wdGlvbnMuc29ydCAhPT0gZmFsc2UpIHtcblx0XHRrZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcblx0fVxuXG5cdHJldHVybiBrZXlzLm1hcChrZXkgPT4ge1xuXHRcdGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG5cblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlXG5cdFx0XHRcdC5yZWR1Y2UoZm9ybWF0dGVyKGtleSksIFtdKVxuXHRcdFx0XHQuam9pbignJicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKSArICc9JyArIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyk7XG5cdH0pLmZpbHRlcih4ID0+IHgubGVuZ3RoID4gMCkuam9pbignJicpO1xufTtcblxuZXhwb3J0cy5wYXJzZVVybCA9IChpbnB1dCwgb3B0aW9ucykgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHVybDogcmVtb3ZlSGFzaChpbnB1dCkuc3BsaXQoJz8nKVswXSB8fCAnJyxcblx0XHRxdWVyeTogcGFyc2UoZXh0cmFjdChpbnB1dCksIG9wdGlvbnMpXG5cdH07XG59O1xuXG5leHBvcnRzLnN0cmluZ2lmeVVybCA9IChpbnB1dCwgb3B0aW9ucykgPT4ge1xuXHRjb25zdCB1cmwgPSByZW1vdmVIYXNoKGlucHV0LnVybCkuc3BsaXQoJz8nKVswXSB8fCAnJztcblx0Y29uc3QgcXVlcnlGcm9tVXJsID0gZXhwb3J0cy5leHRyYWN0KGlucHV0LnVybCk7XG5cdGNvbnN0IHBhcnNlZFF1ZXJ5RnJvbVVybCA9IGV4cG9ydHMucGFyc2UocXVlcnlGcm9tVXJsKTtcblx0Y29uc3QgaGFzaCA9IGdldEhhc2goaW5wdXQudXJsKTtcblx0Y29uc3QgcXVlcnkgPSBPYmplY3QuYXNzaWduKHBhcnNlZFF1ZXJ5RnJvbVVybCwgaW5wdXQucXVlcnkpO1xuXHRsZXQgcXVlcnlTdHJpbmcgPSBleHBvcnRzLnN0cmluZ2lmeShxdWVyeSwgb3B0aW9ucyk7XG5cdGlmIChxdWVyeVN0cmluZykge1xuXHRcdHF1ZXJ5U3RyaW5nID0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG5cdH1cblxuXHRyZXR1cm4gYCR7dXJsfSR7cXVlcnlTdHJpbmd9JHtoYXNofWA7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBzdHIgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCB4ID0+IGAlJHt4LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdG9rZW4gPSAnJVthLWYwLTldezJ9JztcbnZhciBzaW5nbGVNYXRjaGVyID0gbmV3IFJlZ0V4cCh0b2tlbiwgJ2dpJyk7XG52YXIgbXVsdGlNYXRjaGVyID0gbmV3IFJlZ0V4cCgnKCcgKyB0b2tlbiArICcpKycsICdnaScpO1xuXG5mdW5jdGlvbiBkZWNvZGVDb21wb25lbnRzKGNvbXBvbmVudHMsIHNwbGl0KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVHJ5IHRvIGRlY29kZSB0aGUgZW50aXJlIHN0cmluZyBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29tcG9uZW50cy5qb2luKCcnKSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIERvIG5vdGhpbmdcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBjb21wb25lbnRzO1xuXHR9XG5cblx0c3BsaXQgPSBzcGxpdCB8fCAxO1xuXG5cdC8vIFNwbGl0IHRoZSBhcnJheSBpbiAyIHBhcnRzXG5cdHZhciBsZWZ0ID0gY29tcG9uZW50cy5zbGljZSgwLCBzcGxpdCk7XG5cdHZhciByaWdodCA9IGNvbXBvbmVudHMuc2xpY2Uoc3BsaXQpO1xuXG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmNhbGwoW10sIGRlY29kZUNvbXBvbmVudHMobGVmdCksIGRlY29kZUNvbXBvbmVudHMocmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpbnB1dCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHZhciB0b2tlbnMgPSBpbnB1dC5tYXRjaChzaW5nbGVNYXRjaGVyKTtcblxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpbnB1dCA9IGRlY29kZUNvbXBvbmVudHModG9rZW5zLCBpKS5qb2luKCcnKTtcblxuXHRcdFx0dG9rZW5zID0gaW5wdXQubWF0Y2goc2luZ2xlTWF0Y2hlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChpbnB1dCkge1xuXHQvLyBLZWVwIHRyYWNrIG9mIGFsbCB0aGUgcmVwbGFjZW1lbnRzIGFuZCBwcmVmaWxsIHRoZSBtYXAgd2l0aCB0aGUgYEJPTWBcblx0dmFyIHJlcGxhY2VNYXAgPSB7XG5cdFx0JyVGRSVGRic6ICdcXHVGRkZEXFx1RkZGRCcsXG5cdFx0JyVGRiVGRSc6ICdcXHVGRkZEXFx1RkZGRCdcblx0fTtcblxuXHR2YXIgbWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdHdoaWxlIChtYXRjaCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZWNvZGUgYXMgYmlnIGNodW5rcyBhcyBwb3NzaWJsZVxuXHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMF0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGRlY29kZShtYXRjaFswXSk7XG5cblx0XHRcdGlmIChyZXN1bHQgIT09IG1hdGNoWzBdKSB7XG5cdFx0XHRcdHJlcGxhY2VNYXBbbWF0Y2hbMF1dID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG1hdGNoID0gbXVsdGlNYXRjaGVyLmV4ZWMoaW5wdXQpO1xuXHR9XG5cblx0Ly8gQWRkIGAlQzJgIGF0IHRoZSBlbmQgb2YgdGhlIG1hcCB0byBtYWtlIHN1cmUgaXQgZG9lcyBub3QgcmVwbGFjZSB0aGUgY29tYmluYXRvciBiZWZvcmUgZXZlcnl0aGluZyBlbHNlXG5cdHJlcGxhY2VNYXBbJyVDMiddID0gJ1xcdUZGRkQnO1xuXG5cdHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMocmVwbGFjZU1hcCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gUmVwbGFjZSBhbGwgZGVjb2RlZCBjb21wb25lbnRzXG5cdFx0dmFyIGtleSA9IGVudHJpZXNbaV07XG5cdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LCAnZycpLCByZXBsYWNlTWFwW2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbmNvZGVkVVJJKSB7XG5cdGlmICh0eXBlb2YgZW5jb2RlZFVSSSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBgZW5jb2RlZFVSSWAgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCwgZ290IGAnICsgdHlwZW9mIGVuY29kZWRVUkkgKyAnYCcpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRlbmNvZGVkVVJJID0gZW5jb2RlZFVSSS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcblxuXHRcdC8vIFRyeSB0aGUgYnVpbHQgaW4gZGVjb2RlciBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZFVSSSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIEZhbGxiYWNrIHRvIGEgbW9yZSBhZHZhbmNlZCBkZWNvZGVyXG5cdFx0cmV0dXJuIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVVJJKTtcblx0fVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyaW5nLCBzZXBhcmF0b3IpID0+IHtcblx0aWYgKCEodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHNlcGFyYXRvciA9PT0gJ3N0cmluZycpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIGFyZ3VtZW50cyB0byBiZSBvZiB0eXBlIGBzdHJpbmdgJyk7XG5cdH1cblxuXHRpZiAoc2VwYXJhdG9yID09PSAnJykge1xuXHRcdHJldHVybiBbc3RyaW5nXTtcblx0fVxuXG5cdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gc3RyaW5nLmluZGV4T2Yoc2VwYXJhdG9yKTtcblxuXHRpZiAoc2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIFtzdHJpbmddO1xuXHR9XG5cblx0cmV0dXJuIFtcblx0XHRzdHJpbmcuc2xpY2UoMCwgc2VwYXJhdG9ySW5kZXgpLFxuXHRcdHN0cmluZy5zbGljZShzZXBhcmF0b3JJbmRleCArIHNlcGFyYXRvci5sZW5ndGgpXG5cdF07XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gICAgYnJhbmNoLFxuICAgIGNvbXBvc2UsXG4gICAgcmVuZGVyTm90aGluZyxcbiAgICB3aXRoUHJvcHNPbkNoYW5nZSxcbiAgICB3aXRoU3RhdGVIYW5kbGVycyxcbn0gZnJvbSAncmVjb21wb3NlJztcblxuaW1wb3J0IHsgU2VjdGlvbnNDb250ZXh0IH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGlzRGF0YUxpbmsgfSBmcm9tICcuLi8uLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3V0aWxzJztcbmltcG9ydCBkYXRhTGlua1BhcnNlciBmcm9tICcuLi8uLi8uLi9kYXRhX2xpbmtfcGFyc2VyL3YxJztcbmltcG9ydCBnZXREYXRhTGluayBmcm9tICcuLi8uLi8uLi9kYXRhX3BhcnNlci91dGlscy9kYXRhX2xpbmtfY2FjaGUnO1xuaW1wb3J0IHsgUm91dGVDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBzaW1wbGVEYXRhUGFyc2VyIH0gZnJvbSAnLi4vLi4vLi4vZGF0YV9wYXJzZXIvdjQvc2ltcGxlX2RhdGFfcGFyc2VyJztcbmltcG9ydCB7IFNlY3Rpb25JbnRlcmZhY2VzLCBTY2hlbWFJbnRlcmZhY2VzLCBEYXRhQ29udGV4dCB9IGZyb20gJ3R5cGVzL3R5cGVzJztcbmltcG9ydCBGaWVsZFY0ID0gU2VjdGlvbkludGVyZmFjZXMudjQuRmllbGQ7XG5cbmNvbnN0IEVWRU5UUyA9IHtcbiAgICBfb25CbHVyXzogJ29uQmx1cicsXG4gICAgX29uQ2hhbmdlXzogJ29uQ2hhbmdlJyxcbiAgICBfb25DbGlja186ICdvbkNsaWNrJyxcbn07XG5cbmNvbnN0IGdldFNldFN0YXRlUGFyYW1zID0gKFxuICAgIHZhbHVlTGluazogc3RyaW5nLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdmFsdWU6IGFueSxcbiAgICBzY2hlbWE6IEZpZWxkVjQuUGFyc2VkU2NoZW1hIHwgbnVsbCxcbiAgICBhY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgJiBTY2hlbWFJbnRlcmZhY2VzLkZpZWxkVmFsdWU+LFxuICAgIGFmdGVyOiBBcnJheTxzdHJpbmc+LFxuICAgIGNvbnRleHQ6IERhdGFDb250ZXh0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbWF0Y2g6IGFueSwgLy8gdG9kbzogc2hvdWxkIGJlIGNsYXJpZmllZC4uLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbG9jYXRpb246IGFueSAvLyB0b2RvOiBzaG91bGQgYmUgY2xhcmlmaWVkLi4uXG4pID0+IHtcbiAgICBjb25zdCBkYXRhTGluayA9IHZhbHVlTGluayAmJiAnQCcgKyB2YWx1ZUxpbmsucmVwbGFjZSgvQD9cXFxcL2csICcnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogeyBkYXRhTGluaywgdmFsdWUgfSxcbiAgICAgICAgY3VycmVudFNjaGVtYU9iamVjdDogc2NoZW1hLFxuICAgICAgICBhY3Rpb25zLFxuICAgICAgICBhZnRlcixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgIH07XG59O1xuXG5jb25zdCBXcmFwcGVkQ2xpZW50RmllbGRDb21wb25lbnQgPSAoe1xuICAgIHBhcnNlZFNjaGVtYSxcbiAgICBsZXZlbCxcbiAgICBjb250ZXh0LFxuICAgIGhhbmRsZXJzLFxuICAgIGVycm9ycyxcbiAgICBDb21wLFxuICAgIGNvbXB1dGF0aW9ucyxcbiAgICBsb2FkaW5nLFxuICAgIHN0eWxlcyxcbn06IEZpZWxkVjQuRW50cnlQcm9wc0luICYgRmllbGRWNC5FbnRyeVByb3BzQWRkaXRpb25hbCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxDb21wXG4gICAgICAgICAgICBzdHlsZXM9e3N0eWxlc31cbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgICAgaGFuZGxlcnM9e2hhbmRsZXJzfVxuICAgICAgICAgICAgZXJyb3JzPXtlcnJvcnN9XG4gICAgICAgICAgICBwYXJzZWRTY2hlbWE9e3BhcnNlZFNjaGVtYX1cbiAgICAgICAgICAgIGxldmVsPXtsZXZlbCB8fCAwfVxuICAgICAgICAgICAgY29tcHV0YXRpb25zPXtjb21wdXRhdGlvbnN9XG4gICAgICAgIC8+XG4gICAgKTtcbn07XG5cbmNvbnN0IFNlY3Rpb25GaWVsZDogUmVhY3QuQ29tcG9uZW50Q2xhc3M8RmllbGRWNC5FbnRyeVByb3BzSW4+ID0gY29tcG9zZTxGaWVsZFY0LkVudHJ5UHJvcHNJbiAmIEZpZWxkVjQuRW50cnlQcm9wc0FkZGl0aW9uYWwsIEZpZWxkVjQuRW50cnlQcm9wc0luPihcbiAgICBicmFuY2goXG4gICAgICAgICh7IGNvbnRleHQsIHBhcnNlZFNjaGVtYSB9OiBGaWVsZFY0LkVudHJ5UHJvcHNJbikgPT4gaXNFbXB0eShjb250ZXh0KSB8fCBpc0VtcHR5KHBhcnNlZFNjaGVtYSksXG4gICAgICAgIHJlbmRlck5vdGhpbmdcbiAgICApLFxuICAgIHdpdGhTdGF0ZUhhbmRsZXJzKFxuICAgICAgICB7XG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0TG9hZGluZ1N0YXRlOiAoKSA9PiAoc3RhdGUpID0+ICh7IGxvYWRpbmc6ICEhc3RhdGUgfSksXG4gICAgICAgIH1cbiAgICApLFxuICAgIHdpdGhQcm9wc09uQ2hhbmdlKFxuICAgICAgICBbICdjb250ZXh0JywgJ3BhcnNlZFNjaGVtYScgXSxcbiAgICAgICAgKHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7fSxcbiAgICAgICAgICAgIHBhcnNlZFNjaGVtYSxcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlLFxuICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIGZpZWxkQ29tcG9uZW50cyxcbiAgICAgICAgICAgIGNvbXB1dGF0aW9ucyxcbiAgICAgICAgICAgIGxvYWRpbmdcbiAgICAgICAgfTogRmllbGRWNC5FbnRyeVByb3BzSW4gJiBSb3V0ZUNvbXBvbmVudFByb3BzICYgeyBsb2FkaW5nOiBib29sZWFuLCBzZXRMb2FkaW5nU3RhdGU6IChzdGF0ZTogYm9vbGVhbikgPT4gdm9pZCB9KTogRmllbGRWNC5FbnRyeVByb3BzQWRkaXRpb25hbCAmIHsgdmlzaWJsZTogYm9vbGVhbiB9ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBfb2JqZWN0SWRfID0gMCxcbiAgICAgICAgICAgICAgICBfdmFsdWVfID0gJycsXG4gICAgICAgICAgICAgICAgX3Zpc2libGVfID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBfY29tcHV0YXRpb25zXzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICAgICAgICAgIF9pbml0aWFsXzogaW5pdGlhbCA9IFtdLCAvLyB0b2RvOiBub3QgaW1wbGVtZW50ZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgICAgICAgICAgX2JlZm9yZV86IGJlZm9yZSA9IFtdLCAvLyB0b2RvOiBub3QgaW1wbGVtZW50ZWQuXG4gICAgICAgICAgICAgICAgICAgIF9oYW5kbGVyc18gPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FmdGVyXzogYWZ0ZXIgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgICAgICAgICBfdW5tb3VudF86IHVubW91bnQgPSBbXSwgLy8gdG9kbzogbm90IGltcGxlbWVudGVkLlxuICAgICAgICAgICAgICAgIH0gPSB7fSxcbiAgICAgICAgICAgIH0gPSBwYXJzZWRTY2hlbWEgPz8ge307XG4gICAgICAgICAgICBpZiAoX29iamVjdElkXyAmJiAhTnVtYmVyLmlzSW50ZWdlcihfb2JqZWN0SWRfKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tlcnJvcl0gU2VjdGlvbkZpZWxkOiBfb2JqZWN0SWRfIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICAgICAgICBsZXQgeyBfdHlwZV8gPSAnJyB9ID0gcGFyc2VkU2NoZW1hID8/IHt9O1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFmdGVyKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tlcnJvcl0gU2VjdGlvbkZpZWxkOiBfYWZ0ZXJfIG11c3QgYmUgYW4gYXJyYXkuJyk7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID1cbiAgICAgICAgdHlwZW9mIF92aXNpYmxlXyA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gc2ltcGxlRGF0YVBhcnNlcih7XG4gICAgICAgICAgICAgICAgZGF0YUxpbms6IF92aXNpYmxlXyxcbiAgICAgICAgICAgICAgICBkYXRhOiBjb250ZXh0LFxuICAgICAgICAgICAgICAgIHJlbmRlckZ1bmN0aW9uczogY29tcHV0YXRpb25zLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogISFfdmlzaWJsZV87XG4gICAgICAgICAgICBpZiAoaXNEYXRhTGluayhfdHlwZV8pKSB7XG4gICAgICAgICAgICAgICAgX3R5cGVfID0gZGF0YUxpbmtQYXJzZXIoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhTGluazogZ2V0RGF0YUxpbmsoX3R5cGVfKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25zOiBjb21wdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdHlwZV8gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tlcnJvcl0gU2VjdGlvbkZpZWxkOiBfdHlwZV8gbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgICAgICAgICAgICAgX3R5cGVfID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgQ29tcCA9XG4gICAgICAgIF90eXBlXyAmJiBfdHlwZV8gaW4gZmllbGRDb21wb25lbnRzXG4gICAgICAgICAgICA/IGZpZWxkQ29tcG9uZW50c1tfdHlwZV9dXG4gICAgICAgICAgICA6IGZpZWxkQ29tcG9uZW50c1snRGVmYXVsdEZpZWxkJ107XG5cbiAgICAgICAgICAgIGlmICghQ29tcClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tlcnJvcl0gU2VjdGlvbkZpZWxkOiBEZWZhdWx0RmllbGQgbXVzdCBiZSBkZWZpbmVkLicpO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyczogRmllbGRWNC5IYW5kbGVycyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX2hhbmRsZXJzXykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShldmVudFR5cGUgaW4gRVZFTlRTKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbnMgPSBfaGFuZGxlcnNfW2V2ZW50VHlwZV07XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IEFycmF5LmlzQXJyYXkoYWN0aW9ucykgPyBhY3Rpb25zIDogWyBhY3Rpb25zIF07XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbRVZFTlRTW2V2ZW50VHlwZV1dID0gKGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U2V0U3RhdGVQYXJhbXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbHVlXyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3JzIH0gPSBjb250ZXh0ID8gY29udGV4dFtTeW1ib2wuZm9yKFN0cmluZyhfb2JqZWN0SWRfKSldIHx8IHt9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlLFxuICAgICAgICAgICAgICAgIGhhbmRsZXJzLFxuICAgICAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgICAgICAgICBsb2FkaW5nLFxuICAgICAgICAgICAgICAgIC8vIHZhbHVlLFxuICAgICAgICAgICAgICAgIENvbXAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgKSxcbiAgICBicmFuY2goKHsgdmlzaWJsZSB9OiB7IHZpc2libGU6IGJvb2xlYW4gfSkgPT4gIXZpc2libGUsIHJlbmRlck5vdGhpbmcpXG4pKFdyYXBwZWRDbGllbnRGaWVsZENvbXBvbmVudCk7XG5cbmNvbnN0IEZpZWxkQ29tcG9uZW50ID0gKHsgcGFyc2VkU2NoZW1hIH06IEZpZWxkVjQuTm9kZVByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxTZWN0aW9uc0NvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgICB7KHtcbiAgICAgICAgICAgICAgICBjb21wdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgc2VjdGlvbkNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgZmllbGRDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgdXBkYXRlU3RhdGUsXG4gICAgICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgICAgIGhpc3RvcnksXG4gICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgbWF0Y2hcbiAgICAgICAgICAgIH06IFNlY3Rpb25JbnRlcmZhY2VzLnY0LlNlY3Rpb24uUmVhY3RDb250ZXh0VmFsdWUpOiBKU1guRWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb25GaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzPXtzdHlsZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2NoZW1hPXtwYXJzZWRTY2hlbWF9XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0ZT17dXBkYXRlU3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRhdGlvbnM9e2NvbXB1dGF0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25Db21wb25lbnRzPXtzZWN0aW9uQ29tcG9uZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkQ29tcG9uZW50cz17ZmllbGRDb21wb25lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeT17aGlzdG9yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uPXtsb2NhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoPXttYXRjaH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgPC9TZWN0aW9uc0NvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZpZWxkQ29tcG9uZW50O1xuIiwiZXhwb3J0ICogYXMgdjUgZnJvbSAnLi92NSc7XG5leHBvcnQgKiBhcyB2NCBmcm9tICcuL3Y0JztcbiIsImltcG9ydCAqIGFzIHYxIGZyb20gJy4vdjEnO1xuaW1wb3J0ICogYXMgdjIgZnJvbSAnLi92Mic7XG5cbmV4cG9ydCB7IHYxLCB2MiB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==